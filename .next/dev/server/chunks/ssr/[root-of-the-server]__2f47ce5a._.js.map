{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/pusher.ts"],"sourcesContent":["import Pusher from 'pusher';\nimport PusherJs from 'pusher-js';\n\n// Server-side Pusher instance\nexport const pusher = new Pusher({\n  appId: process.env.NEXT_PUBLIC_PUSHER_APP_ID || '',\n  key: process.env.NEXT_PUBLIC_PUSHER_KEY || '',\n  secret: process.env.PUSHER_SECRET || '',\n  cluster: process.env.NEXT_PUBLIC_PUSHER_CLUSTER || 'mt1',\n  useTLS: true,\n});\n\n// Client-side Pusher instance\nexport const getPusherClient = () => {\n  if (typeof window === 'undefined') return null;\n  \n  const pusherClient = new PusherJs(\n    process.env.NEXT_PUBLIC_PUSHER_KEY || '',\n    {\n      cluster: process.env.NEXT_PUBLIC_PUSHER_CLUSTER || 'mt1',\n      forceTLS: true,\n    }\n  );\n  \n  return pusherClient;\n};\n\n// Channel names\nexport const CHANNELS = {\n  STUDENTS: 'students',\n  BALANCE_UPDATE: (studentId: string) => `balance-${studentId}`,\n  ADMIN: 'admin-channel',\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAGO,MAAM,SAAS,IAAI,kJAAM,CAAC;IAC/B,OAAO,+CAAyC;IAChD,KAAK,4DAAsC;IAC3C,QAAQ,QAAQ,GAAG,CAAC,aAAa,IAAI;IACrC,SAAS,2CAA0C;IACnD,QAAQ;AACV;AAGO,MAAM,kBAAkB;IAC7B,wCAAmC,OAAO;;;IAE1C,MAAM;AASR;AAGO,MAAM,WAAW;IACtB,UAAU;IACV,gBAAgB,CAAC,YAAsB,CAAC,QAAQ,EAAE,WAAW;IAC7D,OAAO;AACT"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/hooks/usePusher.ts"],"sourcesContent":["import { useEffect, useCallback } from 'react';\nimport { getPusherClient, CHANNELS } from '@/lib/pusher';\n\nexport function usePusherUpdates(studentId?: string, onUpdate?: (data: any) => void) {\n  useEffect(() => {\n    const pusher = getPusherClient();\n    if (!pusher) return;\n\n    if (studentId) {\n      // Subscribe to balance updates for specific student\n      const channel = pusher.subscribe(CHANNELS.BALANCE_UPDATE(studentId));\n\n      channel.bind('balance-changed', (data: any) => {\n        if (onUpdate) onUpdate({ type: 'balance-changed', ...data });\n      });\n\n      channel.bind('transaction-added', (data: any) => {\n        if (onUpdate) onUpdate({ type: 'transaction-added', ...data });\n      });\n\n      return () => {\n        channel.unbind_all();\n        pusher.unsubscribe(CHANNELS.BALANCE_UPDATE(studentId));\n      };\n    }\n  }, [studentId, onUpdate]);\n}\n\nexport function usePusherAdminUpdates(onUpdate?: (data: any) => void) {\n  useEffect(() => {\n    const pusher = getPusherClient();\n    if (!pusher) return;\n\n    const channel = pusher.subscribe(CHANNELS.STUDENTS);\n\n    channel.bind('list-updated', (data: any) => {\n      if (onUpdate) onUpdate({ type: 'list-updated', ...data });\n    });\n\n    return () => {\n      channel.unbind_all();\n      pusher.unsubscribe(CHANNELS.STUDENTS);\n    };\n  }, [onUpdate]);\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,iBAAiB,SAAkB,EAAE,QAA8B;IACjF,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,IAAA,gIAAe;QAC9B,IAAI,CAAC,QAAQ;QAEb,IAAI,WAAW;YACb,oDAAoD;YACpD,MAAM,UAAU,OAAO,SAAS,CAAC,yHAAQ,CAAC,cAAc,CAAC;YAEzD,QAAQ,IAAI,CAAC,mBAAmB,CAAC;gBAC/B,IAAI,UAAU,SAAS;oBAAE,MAAM;oBAAmB,GAAG,IAAI;gBAAC;YAC5D;YAEA,QAAQ,IAAI,CAAC,qBAAqB,CAAC;gBACjC,IAAI,UAAU,SAAS;oBAAE,MAAM;oBAAqB,GAAG,IAAI;gBAAC;YAC9D;YAEA,OAAO;gBACL,QAAQ,UAAU;gBAClB,OAAO,WAAW,CAAC,yHAAQ,CAAC,cAAc,CAAC;YAC7C;QACF;IACF,GAAG;QAAC;QAAW;KAAS;AAC1B;AAEO,SAAS,sBAAsB,QAA8B;IAClE,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,IAAA,gIAAe;QAC9B,IAAI,CAAC,QAAQ;QAEb,MAAM,UAAU,OAAO,SAAS,CAAC,yHAAQ,CAAC,QAAQ;QAElD,QAAQ,IAAI,CAAC,gBAAgB,CAAC;YAC5B,IAAI,UAAU,SAAS;gBAAE,MAAM;gBAAgB,GAAG,IAAI;YAAC;QACzD;QAEA,OAAO;YACL,QAAQ,UAAU;YAClB,OAAO,WAAW,CAAC,yHAAQ,CAAC,QAAQ;QACtC;IACF,GAAG;QAAC;KAAS;AACf"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/user/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Wallet, User, ArrowUpRight, ArrowDownRight, History, QrCode, Download, Printer, Zap } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\nimport { QRCodeSVG } from \"qrcode.react\"\nimport jsPDF from \"jspdf\"\nimport autoTable from \"jspdf-autotable\"\nimport * as XLSX from \"xlsx\"\nimport { usePusherUpdates } from \"@/lib/hooks/usePusher\"\n\nexport default function UserDashboard() {\n  const router = useRouter()\n  const { theme, setTheme } = useTheme()\n  const [isLoading, setIsLoading] = useState(true)\n  const [userData, setUserData] = useState<any>(null)\n  const [realTimeStatus, setRealTimeStatus] = useState(false)\n  const [selectedAcademicYear, setSelectedAcademicYear] = useState(\"2025-26\")\n\n  const [isLedgerFullscreen, setIsLedgerFullscreen] = useState(false)\n\n  const loadUserData = async () => {\n    try {\n      // Check if we have a student ID in the URL for direct access (QR scan)\n      const urlParams = new URLSearchParams(window.location.search);\n      const directStudentId = urlParams.get('id');\n\n      // Verify session from MongoDB\n      const verifyRes = await fetch('/api/auth/verify')\n      \n      let studentId = null;\n      if (verifyRes.ok) {\n        const session = await verifyRes.json()\n        studentId = session.userData.id\n      } else if (directStudentId) {\n        // Allow direct view if ID is provided via QR, but we still prefer session if available\n        studentId = directStudentId;\n      } else {\n        router.push(\"/login\")\n        return\n      }\n\n      const res = await fetch(`/api/students/${studentId}?academicYear=${selectedAcademicYear}`, {\n        method: 'GET',\n        cache: 'no-store',\n        headers: {\n          'Cache-Control': 'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0'\n        }\n      })\n      \n      if (!res.ok) {\n        console.error(\"Failed to fetch student:\", res.status)\n        return\n      }\n      \n      const student = await res.json()\n      if (!student) {\n        console.error(\"Student data is null\")\n        return\n      }\n      setUserData({\n        id: student._id,\n        name: student.name || \"User\",\n        code: student.code || \"NA-0000\",\n        balance: student.balance || 0,\n        profileImage: student.profileImage || null,\n        transactions: student.transactions || [],\n        academicYear: student.academicYear || \"2025-26\"\n      })\n    } catch (error) {\n      console.error(\"Error loading user data:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadUserData()\n  }, [selectedAcademicYear])\n\n  // Auto-logout when user refreshes or navigates away\n  useEffect(() => {\n    const handleBeforeUnload = () => {\n      fetch('/api/auth/logout', { method: 'POST', keepalive: true })\n    }\n\n    window.addEventListener('beforeunload', handleBeforeUnload)\n    return () => window.removeEventListener('beforeunload', handleBeforeUnload)\n  }, [])\n\n  // Refresh data every 5 seconds (slower polling to prevent lag)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadUserData()\n    }, 5000)\n\n    return () => clearInterval(interval)\n  }, [isLoading, selectedAcademicYear])\n\n  // Use Pusher for real-time updates\n  usePusherUpdates(userData?.id, (data) => {\n    if (data.type === 'balance-changed' || data.type === 'transaction-added') {\n      setRealTimeStatus(true)\n      loadUserData()\n      setTimeout(() => setRealTimeStatus(false), 2000)\n    }\n  })\n\n\n  const downloadPDF = () => {\n    const doc = new jsPDF()\n    const pageWidth = doc.internal.pageSize.getWidth()\n\n    // Title & Header\n    doc.setFontSize(20)\n    doc.setTextColor(74, 102, 112) // #4a6670\n    doc.text(\"JDSA STUDENTS BANK\", pageWidth / 2, 20, { align: \"center\" })\n\n    doc.setFontSize(14)\n    doc.setTextColor(23, 21, 50) // #171532\n    doc.text(\"Account Transaction History\", pageWidth / 2, 30, { align: \"center\" })\n\n    // User Details Section\n    doc.setFontSize(10)\n    doc.setTextColor(23, 21, 50)\n    doc.text(`Student Name: ${userData?.name || \"N/A\"}`, 14, 45)\n    doc.text(`Student Code: ${userData?.code || \"N/A\"}`, 14, 51)\n    doc.text(`Academic Session: ${selectedAcademicYear}`, 14, 57)\n    doc.text(`Current Balance: ₹${(userData?.balance || 0).toLocaleString(\"en-IN\", { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`, 14, 63)\n    doc.text(`Generated on: ${new Date().toLocaleString()}`, pageWidth - 14, 45, { align: \"right\" })\n\n    const columns = [\"S.No\", \"Date\", \"Academic Year\", \"Type\", \"Amount\", \"Balance\"]\n    let runningBalance = 0\n    const filteredTxs = (userData?.transactions || [])\n      .filter((t: any) => (t.academicYear || \"2025-26\") === selectedAcademicYear)\n      .sort((a: any, b: any) => new Date(a.date).getTime() - new Date(b.date).getTime())\n    \n    const rows = filteredTxs.map((t: any, idx: number) => {\n      if (t.type === \"deposit\") runningBalance += t.amount || 0\n      else runningBalance -= t.amount || 0\n      \n      return [\n        idx + 1,\n        t.date || \"-\",\n        t.academicYear || \"2025-26\",\n        t.type.charAt(0).toUpperCase() + t.type.slice(1),\n        (t.amount || 0).toLocaleString(\"en-IN\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\n        runningBalance.toLocaleString(\"en-IN\", { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n      ]\n    }) as any[][]\n\n    autoTable(doc, {\n      startY: 75,\n      head: [[\"Date\", \"Dep.\", \"With.\", \"Bal.\"]],\n      body: rows.map(r => [r[1], r[3] === \"Deposit\" ? r[4] : \"-\", r[3] === \"Withdraw\" ? r[4] : \"-\", r[5]]),\n      theme: \"grid\",\n      styles: {\n        fontSize: 10,\n        cellPadding: 3,\n        halign: \"center\",\n        valign: \"middle\",\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],\n      },\n      headStyles: {\n        fillColor: [74, 102, 112], // #4a6670\n        textColor: [255, 255, 255],\n        fontStyle: \"bold\",\n        lineWidth: 0.1,\n      },\n      columnStyles: {\n        0: { cellWidth: 40 },\n        1: { cellWidth: 40, textColor: [22, 163, 74] }, // Green for Deposits\n        2: { cellWidth: 40, textColor: [220, 38, 38] }, // Red for Withdrawals\n        3: { cellWidth: 40, fontStyle: \"bold\" },\n      },\n      margin: { left: (pageWidth - 160) / 2 },\n    })\n\n    doc.save(`${userData?.name}_account_${new Date().toISOString().split(\"T\")[0]}.pdf`)\n  }\n\n  const downloadExcel = () => {\n    const data: any[] = [\n      ['Account Details'],\n      ['Name', userData?.name || 'N/A'],\n      ['Code', userData?.code || 'N/A'],\n      ['Balance', `₹${(userData?.balance || 0).toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`],\n      [],\n      ['Transaction History'],\n    ]\n\n    let runningBalance = 0\n    data.push(['S.No', 'Date', 'Deposit', 'Withdraw', 'Balance'])\n\n    const sortedTxs = (userData?.transactions || [])\n      .filter((t: any) => (t.academicYear || '2025-26') === selectedAcademicYear)\n      .sort((a: any, b: any) => new Date(a.date).getTime() - new Date(b.date).getTime())\n\n    sortedTxs.forEach((t: any, idx: number) => {\n      if (t.type === 'deposit') {\n        runningBalance += t.amount || 0\n      } else {\n        runningBalance -= t.amount || 0\n      }\n      data.push([\n        idx + 1,\n        t.date || '-',\n        t.type === 'deposit' ? `₹${t.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : '-',\n        t.type === 'withdraw' ? `₹${t.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : '-',\n        `₹${runningBalance.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n      ])\n    })\n\n    const ws = XLSX.utils.aoa_to_sheet(data)\n    const wb = XLSX.utils.book_new()\n    XLSX.utils.book_append_sheet(wb, ws, 'Account')\n    XLSX.writeFile(wb, `${userData?.name}_account_${new Date().toISOString().split('T')[0]}.xlsx`)\n  }\n\n  const handlePrint = () => {\n    window.print()\n  }\n\n  const calculateYearlyBalance = () => {\n    if (!userData || !userData.transactions) return 0\n    \n    // Default session if not set is 2024-25\n    const sessionToFilter = selectedAcademicYear;\n    \n    const filtered = userData.transactions.filter((t: any) => {\n      const txYear = t.academicYear || '2025-26';\n      return txYear === sessionToFilter;\n    });\n\n    return filtered.reduce((sum: number, t: any) => {\n      return t.type === 'deposit' ? sum + (t.amount || 0) : sum - (t.amount || 0)\n    }, 0)\n  }\n\n  if (isLoading || !userData) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e8eef5] flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"inline-block\">\n            <div className=\"w-12 h-12 border-4 border-[#e5e7eb] border-t-[#4a6670] rounded-full animate-spin\"></div>\n          </div>\n          <p className=\"mt-4 text-[#747384]\">Loading your profile...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e8eef5] p-4\">\n      <div className=\"max-w-md mx-auto\">\n\n        {/* Profile Card */}\n        <div className=\"bg-white rounded-2xl shadow-lg p-6 mb-6\">\n          {/* Avatar and Name */}\n          <div className=\"flex flex-col items-center mb-6\">\n            {userData?.profileImage ? (\n              <img src={userData.profileImage} alt={userData?.name} className=\"w-20 h-20 rounded-full object-cover mb-4 shadow-md\" />\n            ) : (\n              <div className=\"w-20 h-20 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-full flex items-center justify-center text-white font-bold text-3xl mb-4\">\n                {userData?.name?.charAt(0).toUpperCase() || 'U'}\n              </div>\n            )}\n            <h2 className=\"text-2xl font-bold text-[#171532] text-center\">{userData?.name || 'User'}</h2>\n            <p className=\"text-sm text-[#747384]\">Code: {userData?.code || 'NA-0000'}</p>\n          </div>\n\n          {/* Balance Card */}\n          <div className=\"bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl p-5 mb-6 shadow-md\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\n                <Wallet className=\"w-5 h-5 text-white\" />\n              </div>\n              <p className=\"text-white/70 text-sm font-medium\">Total Balance ({selectedAcademicYear})</p>\n          </div>\n          <div className=\"bg-white/10 rounded-lg p-3 mb-4\">\n            <label className=\"block text-white/70 text-xs font-medium mb-1\">Academic Session</label>\n            <div className=\"flex items-center gap-2\">\n              <History className=\"w-3.5 h-3.5 text-white/60\" />\n              <select \n                value={selectedAcademicYear}\n                onChange={(e) => setSelectedAcademicYear(e.target.value)}\n                className=\"flex-1 bg-transparent border-none text-white text-sm rounded-md focus:ring-0 cursor-pointer p-0 font-bold\"\n              >\n                <option value=\"2023-24\" className=\"text-gray-900\">2023-24 Session</option>\n                <option value=\"2024-25\" className=\"text-gray-900\">2024-25 Session</option>\n                <option value=\"2025-26\" className=\"text-gray-900\">2025-26 Session</option>\n                <option value=\"2026-27\" className=\"text-gray-900\">2026-27 Session</option>\n                {userData?.transactions?.map((t: any) => t.academicYear).filter((v: any, i: number, a: any[]) => v && a.indexOf(v) === i && ![\"2023-24\", \"2024-25\", \"2025-26\", \"2026-27\"].includes(v)).map((year: string) => (\n                  <option key={year} value={year} className=\"text-gray-900\">{year} Session</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <p className=\"text-3xl font-bold text-white\">₹{calculateYearlyBalance().toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>\n        </div>\n\n          {/* Profile Info and QR Code Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-3 p-3 bg-[#f8f9fa] rounded-lg\">\n              <User className=\"w-5 h-5 text-[#4a6670]\" />\n              <div>\n                <p className=\"text-xs text-[#747384]\">Full Name</p>\n                <p className=\"font-semibold text-[#171532]\">{userData?.name || 'User'}</p>\n              </div>\n            </div>\n\n            {/* QR Code Section */}\n            <div className=\"bg-[#f8f9fa] rounded-lg p-4 flex flex-col items-center\">\n              <div className=\"flex items-center gap-2 mb-3 w-full\">\n                <QrCode className=\"w-4 h-4 text-[#4a6670]\" />\n                <p className=\"text-xs text-[#747384] font-medium\">Scan to View Results</p>\n              </div>\n              <div className=\"bg-white p-2 rounded border border-[#e5e7eb]\">\n                <QRCodeSVG \n                  value={`https://jdsa-students-bank.vercel.app/user/dashboard?id=${userData.id}`} \n                  size={120} \n                  level=\"H\" \n                  includeMargin={true} \n                />\n              </div>\n              <p className=\"text-xs text-[#747384] mt-2 text-center font-mono\">{userData?.code}</p>\n            </div>\n          </div>\n\n          {/* Print and Export Buttons */}\n          <div className=\"mt-6 grid grid-cols-3 gap-2\">\n            <button\n              onClick={handlePrint}\n              className=\"flex items-center justify-center gap-2 bg-[#4a6670] hover:bg-[#3d565e] text-white px-3 py-2 rounded-lg font-semibold text-xs transition-colors\"\n              title=\"Print Dashboard\"\n            >\n              <Printer className=\"w-4 h-4\" />\n              <span className=\"hidden sm:inline\">Print</span>\n            </button>\n            <button\n              onClick={downloadPDF}\n              className=\"flex items-center justify-center gap-2 bg-[#EF4444] hover:bg-[#dc2626] text-white px-3 py-2 rounded-lg font-semibold text-xs transition-colors\"\n              title=\"Download PDF\"\n            >\n              <Download className=\"w-4 h-4\" />\n              <span className=\"hidden sm:inline\">PDF</span>\n            </button>\n            <button\n              onClick={downloadExcel}\n              className=\"flex items-center justify-center gap-2 bg-[#10B981] hover:bg-[#0fa06f] text-white px-3 py-2 rounded-lg font-semibold text-xs transition-colors\"\n              title=\"Download Excel\"\n            >\n              <Download className=\"w-4 h-4\" />\n              <span className=\"hidden sm:inline\">Excel</span>\n            </button>\n          </div>\n\n          {/* Real-Time Status Indicator */}\n          {realTimeStatus && (\n            <div className=\"mt-4 flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded-lg\">\n              <Zap className=\"w-4 h-4 text-green-600 animate-pulse\" />\n              <p className=\"text-xs text-green-700 font-medium\">Real-time update received</p>\n            </div>\n          )}\n\n          {/* Transactions Table Section */}\n          {userData?.transactions && userData.transactions.length > 0 && (\n            <div className=\"mt-6 pt-6 border-t border-[#e5e7eb]\">\n              <div \n                className=\"flex items-center justify-between mb-4 cursor-pointer hover:opacity-80 active:scale-95 transition-all\"\n                onClick={() => setIsLedgerFullscreen(true)}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <History className=\"w-5 h-5 text-[#4a6670]\" />\n                  <h3 className=\"font-semibold text-[#171532]\">Transaction Ledger</h3>\n                </div>\n                <Zap className=\"w-4 h-4 text-[#4a6670] animate-pulse\" />\n              </div>\n              <div \n                className=\"overflow-x-auto rounded-xl border border-[#e5e7eb] cursor-pointer\"\n                onClick={() => setIsLedgerFullscreen(true)}\n              >\n                <table className=\"w-full text-sm border-collapse min-w-[500px]\">\n                  <thead>\n                    <tr className=\"bg-[#4a6670] text-white\">\n                      <th className=\"px-3 py-3 text-left font-semibold border-b border-[#3d565e]\">S.No</th>\n                      <th className=\"px-3 py-3 text-left font-semibold border-b border-[#3d565e]\">Date</th>\n                      <th className=\"px-3 py-3 text-right font-semibold border-b border-[#3d565e]\">Deposit</th>\n                      <th className=\"px-3 py-3 text-right font-semibold border-b border-[#3d565e]\">Withdraw</th>\n                      <th className=\"px-3 py-3 text-right font-semibold border-b border-[#3d565e]\">Balance</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-[#e5e7eb]\">\n                    {(() => {\n                      const sortedTxs = [...(userData.transactions || [])]\n                        .filter((t: any) => (t.academicYear || '2025-26') === selectedAcademicYear)\n                        .sort((a: any, b: any) => new Date(a.date).getTime() - new Date(b.date).getTime());\n                      \n                      return sortedTxs.map((transaction: any, idx: number) => {\n                        let runningBalance = 0;\n                        for (let i = 0; i <= idx; i++) {\n                          if (sortedTxs[i].type === 'deposit') {\n                            runningBalance += sortedTxs[i].amount || 0;\n                          } else {\n                            runningBalance -= sortedTxs[i].amount || 0;\n                          }\n                        }\n                        \n                        return (\n                          <tr key={idx} className={idx % 2 === 0 ? 'bg-[#f8f9fa]' : 'bg-white hover:bg-[#f1f5f9] transition-colors'}>\n                            <td className=\"px-3 py-3 font-semibold text-[#171532]\">\n                              <div className=\"flex flex-col gap-1\">\n                                <span>{idx + 1}</span>\n                                <span className=\"text-[9px] bg-[#4a6670]/10 text-[#4a6670] px-1.5 py-0.5 rounded font-bold uppercase tracking-wider w-fit\">\n                                  {transaction.academicYear || '2025-26'}\n                                </span>\n                              </div>\n                            </td>\n                            <td className=\"px-3 py-3 text-[#747384] text-xs leading-relaxed\">\n                              {transaction.date || '-'}\n                            </td>\n                            <td className=\"px-3 py-3 text-right\">\n                              {transaction.type === 'deposit' ? (\n                                <span className=\"inline-flex items-center gap-1 bg-green-50 px-2 py-1 rounded-md font-bold text-green-700 text-xs\">\n                                  <span className=\"text-[10px]\">↓</span>₹{transaction.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                                </span>\n                              ) : (\n                                <span className=\"text-[#cbd5e1]\">-</span>\n                              )}\n                            </td>\n                            <td className=\"px-3 py-3 text-right\">\n                              {transaction.type === 'withdraw' ? (\n                                <span className=\"inline-flex items-center gap-1 bg-red-50 px-2 py-1 rounded-md font-bold text-red-700 text-xs\">\n                                  <span className=\"text-[10px]\">↑</span>₹{transaction.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                                </span>\n                              ) : (\n                                <span className=\"text-[#cbd5e1]\">-</span>\n                              )}\n                            </td>\n                            <td className=\"px-3 py-3 text-right font-bold text-[#4a6670] tabular-nums\">\n                              ₹{runningBalance.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                            </td>\n                          </tr>\n                        )\n                      });\n                    })()}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n\n      </div>\n\n      {/* Fullscreen Ledger Modal */}\n      {isLedgerFullscreen && (\n        <div className=\"fixed inset-0 bg-white z-50 overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200\">\n          <div className=\"bg-[#4a6670] text-white p-4 flex items-center justify-between shadow-md\">\n            <div className=\"flex items-center gap-3\">\n              <History className=\"w-6 h-6\" />\n              <div>\n                <h2 className=\"text-lg font-bold leading-tight\">Full Ledger</h2>\n                <p className=\"text-xs text-white/70\">{selectedAcademicYear} Session</p>\n              </div>\n            </div>\n            <button \n              onClick={() => setIsLedgerFullscreen(false)}\n              className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 active:scale-90 transition-all\"\n            >\n              <ArrowDownRight className=\"w-6 h-6 rotate-45\" />\n            </button>\n          </div>\n          \n          <div className=\"flex-1 overflow-auto p-2 bg-[#f8f9fa]\">\n            <div className=\"w-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n              <table className=\"w-full text-[11px] sm:text-sm border-collapse table-fixed\">\n                <thead>\n                  <tr className=\"bg-gray-100 text-[#4a6670]\">\n                    <th className=\"w-[10%] px-2 py-3 text-left font-bold border-b border-gray-200\">#</th>\n                    <th className=\"w-[25%] px-2 py-3 text-left font-bold border-b border-gray-200\">Date</th>\n                    <th className=\"w-[20%] px-2 py-3 text-right font-bold border-b border-gray-200\">Dep.</th>\n                    <th className=\"w-[20%] px-2 py-3 text-right font-bold border-b border-gray-200\">With.</th>\n                    <th className=\"w-[25%] px-2 py-3 text-right font-bold border-b border-gray-200\">Bal.</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-100\">\n                  {(() => {\n                    const sortedTxs = [...(userData.transactions || [])]\n                      .filter((t: any) => (t.academicYear || '2025-26') === selectedAcademicYear)\n                      .sort((a: any, b: any) => new Date(a.date).getTime() - new Date(b.date).getTime());\n                    \n                    return sortedTxs.map((transaction: any, idx: number) => {\n                      let runningBalance = 0;\n                      for (let i = 0; i <= idx; i++) {\n                        if (sortedTxs[i].type === 'deposit') {\n                          runningBalance += sortedTxs[i].amount || 0;\n                        } else {\n                          runningBalance -= sortedTxs[i].amount || 0;\n                        }\n                      }\n                      \n                      return (\n                        <tr key={idx} className={idx % 2 === 0 ? 'bg-[#f8f9fa]' : 'bg-white hover:bg-[#f1f5f9] transition-colors'}>\n                          <td className=\"px-2 py-3 font-bold text-[#171532]\">{idx + 1}</td>\n                          <td className=\"px-2 py-3 text-[#747384] font-medium truncate\">{transaction.date || '-'}</td>\n                          <td className=\"px-2 py-3 text-right text-green-600 font-bold tabular-nums\">\n                            {transaction.type === 'deposit' ? `₹${transaction.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : '-'}\n                          </td>\n                          <td className=\"px-2 py-3 text-right text-red-600 font-bold tabular-nums\">\n                            {transaction.type === 'withdraw' ? `₹${transaction.amount?.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : '-'}\n                          </td>\n                          <td className=\"px-2 py-3 text-right font-black text-[#4a6670] bg-gray-50/50 tabular-nums\">\n                            ₹{runningBalance.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                          </td>\n                        </tr>\n                      );\n                    });\n                  })()}\n                </tbody>\n              </table>\n            </div>\n            \n            <div className=\"mt-4 flex flex-col gap-3 p-4\">\n              <button \n                onClick={downloadPDF}\n                className=\"w-full flex items-center justify-center gap-3 bg-red-500 text-white py-4 rounded-2xl font-black text-sm shadow-lg active:scale-95 transition-all\"\n              >\n                <Printer className=\"w-5 h-5\" />\n                Print Full Ledger\n              </button>\n              <button \n                onClick={() => setIsLedgerFullscreen(false)}\n                className=\"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-100 text-[#747384] py-4 rounded-2xl font-black text-sm active:scale-95 transition-all\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}