{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-pointer items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-pointer items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,kHAAE,EACX,8bACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/reports/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport jsPDF from 'jspdf';\nimport * as XLSX from 'xlsx';\nimport { Card } from '@/components/ui/card';\n\ninterface Transaction {\n  type: 'deposit' | 'withdraw';\n  amount: number;\n  date?: string;\n  reason?: string;\n}\n\ninterface Student {\n  _id: string;\n  name: string;\n  code: string;\n  balance: number;\n  transactions: Transaction[];\n}\n\nexport default function ReportsPage() {\n  const [students, setStudents] = useState<Student[]>([]);\n  const [selectedStudent, setSelectedStudent] = useState<Student | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchStudents();\n  }, []);\n\n  const fetchStudents = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/students');\n      const data = await response.json();\n      setStudents(data);\n    } catch (error) {\n      console.error('Failed to fetch students:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateBalance = (transactions: Transaction[], stopIndex: number) => {\n    let balance = 0;\n    for (let i = 0; i <= stopIndex; i++) {\n      if (transactions[i].type === 'deposit') {\n        balance += transactions[i].amount;\n      } else {\n        balance -= transactions[i].amount;\n      }\n    }\n    return balance;\n  };\n\n  const exportPDF = () => {\n    if (!selectedStudent) return;\n\n    const doc = new jsPDF();\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const pageHeight = doc.internal.pageSize.getHeight();\n    let yPosition = 20;\n\n    // Title\n    doc.setFontSize(18);\n    doc.text('Transaction Ledger', pageWidth / 2, yPosition, { align: 'center' });\n    yPosition += 10;\n\n    // Student Info\n    doc.setFontSize(11);\n    doc.text(`Student: ${selectedStudent.name}`, 20, yPosition);\n    yPosition += 7;\n    doc.text(`Code: ${selectedStudent.code}`, 20, yPosition);\n    yPosition += 7;\n    doc.text(`Current Balance: ₹${selectedStudent.balance.toFixed(2)}`, 20, yPosition);\n    yPosition += 15;\n\n    // Table Headers\n    doc.setFontSize(10);\n    doc.setTextColor(255, 255, 255);\n    doc.setFillColor(45, 85, 120);\n\n    const columnWidths = [15, 30, 25, 25, 25];\n    const headers = ['S.No', 'Date', 'Deposit', 'Withdraw', 'Balance'];\n    let xPosition = 20;\n\n    headers.forEach((header, index) => {\n      doc.rect(xPosition, yPosition - 5, columnWidths[index], 8, 'F');\n      doc.text(header, xPosition + columnWidths[index] / 2, yPosition, { align: 'center' });\n      xPosition += columnWidths[index];\n    });\n\n    yPosition += 10;\n    doc.setTextColor(0, 0, 0);\n\n    // Table Rows\n    selectedStudent.transactions.forEach((transaction, index) => {\n      if (yPosition > pageHeight - 20) {\n        doc.addPage();\n        yPosition = 20;\n      }\n\n      xPosition = 20;\n      const balance = calculateBalance(selectedStudent.transactions, index);\n      const sno = index + 1;\n      const date = transaction.date || 'N/A';\n      const deposit = transaction.type === 'deposit' ? `₹${transaction.amount.toFixed(2)}` : '–';\n      const withdraw = transaction.type === 'withdraw' ? `₹${transaction.amount.toFixed(2)}` : '–';\n\n      doc.text(sno.toString(), xPosition + columnWidths[0] / 2, yPosition, { align: 'center' });\n      xPosition += columnWidths[0];\n      doc.text(date, xPosition + columnWidths[1] / 2, yPosition, { align: 'center' });\n      xPosition += columnWidths[1];\n      doc.text(deposit, xPosition + columnWidths[2] / 2, yPosition, { align: 'center' });\n      xPosition += columnWidths[2];\n      doc.text(withdraw, xPosition + columnWidths[3] / 2, yPosition, { align: 'center' });\n      xPosition += columnWidths[3];\n      doc.text(`₹${balance.toFixed(2)}`, xPosition + columnWidths[4] / 2, yPosition, { align: 'center' });\n\n      yPosition += 7;\n    });\n\n    doc.save(`${selectedStudent.name}-report.pdf`);\n  };\n\n  const exportExcel = () => {\n    if (!selectedStudent) return;\n\n    const data = selectedStudent.transactions.map((transaction, index) => ({\n      'S.No': index + 1,\n      Date: transaction.date || 'N/A',\n      Deposit: transaction.type === 'deposit' ? transaction.amount : '',\n      Withdraw: transaction.type === 'withdraw' ? transaction.amount : '',\n      Balance: calculateBalance(selectedStudent.transactions, index),\n      Reason: transaction.reason || '',\n    }));\n\n    const ws = XLSX.utils.json_to_sheet(data);\n    ws['!cols'] = [\n      { wch: 8 },\n      { wch: 12 },\n      { wch: 12 },\n      { wch: 12 },\n      { wch: 12 },\n      { wch: 20 },\n    ];\n\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Transactions');\n    XLSX.writeFile(wb, `${selectedStudent.name}-report.xlsx`);\n  };\n\n  return (\n    <div className=\"w-full min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6\">\n      <div className=\"max-w-2xl mx-auto\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Student Reports</h1>\n\n          {/* Report Type Section */}\n          <div className=\"mb-8\">\n            <label className=\"block text-lg font-semibold text-gray-700 mb-3\">Report Type</label>\n            <Select defaultValue=\"individual\">\n              <SelectTrigger className=\"w-full h-12 border-2 border-gray-200\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"individual\">Individual Student</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Select Student Section */}\n          <div className=\"mb-8\">\n            <label className=\"block text-lg font-semibold text-gray-700 mb-3\">Select Student</label>\n            <Select\n              value={selectedStudent?._id || ''}\n              onValueChange={(id: string) => {\n                const student = students.find((s) => s._id === id);\n                setSelectedStudent(student || null);\n              }}\n            >\n              <SelectTrigger className=\"w-full h-12 border-2 border-gray-200\">\n                <SelectValue placeholder=\"Choose a student\" />\n              </SelectTrigger>\n              <SelectContent>\n                {students.map((student) => (\n                  <SelectItem key={student._id} value={student._id}>\n                    {student.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Export Buttons */}\n          <div className=\"flex gap-4 mb-8\">\n            <Button\n              onClick={exportPDF}\n              disabled={!selectedStudent}\n              className=\"flex-1 h-12 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8m0 0l-4 4m4-4l4 4\" />\n              </svg>\n              PDF\n            </Button>\n            <Button\n              onClick={exportExcel}\n              disabled={!selectedStudent}\n              className=\"flex-1 h-12 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8m0 0l-4 4m4-4l4 4\" />\n              </svg>\n              Excel\n            </Button>\n          </div>\n\n          {/* Transaction Ledger */}\n          {selectedStudent && selectedStudent.transactions.length > 0 && (\n            <Card className=\"p-6\">\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Transaction Ledger</h2>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"bg-slate-700 text-white\">\n                      <th className=\"px-4 py-3 text-left\">S.No</th>\n                      <th className=\"px-4 py-3 text-left\">Date</th>\n                      <th className=\"px-4 py-3 text-right\">Deposit</th>\n                      <th className=\"px-4 py-3 text-right\">Withdraw</th>\n                      <th className=\"px-4 py-3 text-right\">Balance</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {selectedStudent.transactions.map((transaction, index) => (\n                      <tr key={index} className=\"border-b hover:bg-gray-50\">\n                        <td className=\"px-4 py-3\">{index + 1}</td>\n                        <td className=\"px-4 py-3\">{transaction.date || 'N/A'}</td>\n                        <td className=\"px-4 py-3 text-right\">\n                          {transaction.type === 'deposit' && (\n                            <span className=\"text-green-600 font-semibold\">₹{transaction.amount.toFixed(2)}</span>\n                          )}\n                          {transaction.type !== 'deposit' && <span className=\"text-gray-400\">–</span>}\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          {transaction.type === 'withdraw' && (\n                            <span className=\"text-red-600 font-semibold\">₹{transaction.amount.toFixed(2)}</span>\n                          )}\n                          {transaction.type !== 'withdraw' && <span className=\"text-gray-400\">–</span>}\n                        </td>\n                        <td className=\"px-4 py-3 text-right font-semibold\">\n                          ₹{calculateBalance(selectedStudent.transactions, index).toFixed(2)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"mt-4 text-right\">\n                <p className=\"text-lg font-semibold text-gray-800\">\n                  Current Balance: <span className=\"text-blue-600\">₹{selectedStudent.balance.toFixed(2)}</span>\n                </p>\n              </div>\n            </Card>\n          )}\n\n          {selectedStudent && selectedStudent.transactions.length === 0 && (\n            <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n              <p className=\"text-gray-600\">No transactions found for this student.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}