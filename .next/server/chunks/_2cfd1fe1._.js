module.exports=[10229,(t,e,r)=>{let n=t.r(54799);r.toOrderedArray=function(t){return Object.keys(t).map(function(e){return[e,t[e]]}).sort(function(t,e){return t[0]<e[0]?-1:+(t[0]>e[0])}).map(function(t){return t[0]+"="+t[1]})},r.getMD5=function(t){return n.createHash("md5").update(t,"utf8").digest("hex")},r.secureCompare=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n in t)r|=t.charCodeAt(n)^e.charCodeAt(n);return 0===r},r.isEncryptedChannel=function(t){return t.startsWith("private-encrypted-")}},635,(t,e,r)=>{let n=t.r(10229);r.getSocketSignatureForUser=function(t,e,r){let n=JSON.stringify(r),i=t.sign(`${e}::user::${n}`);return{auth:`${t.key}:${i}`,user_data:n}},r.getSocketSignature=function(t,e,r,i,s){let o={},a=[i,r];if(s){let t=JSON.stringify(s);a.push(t),o.channel_data=t}if(o.auth=e.key+":"+e.sign(a.join(":")),n.isEncryptedChannel(r)){if(void 0===t.config.encryptionMasterKey)throw Error("Cannot generate shared_secret because encryptionMasterKey is not set");o.shared_secret=Buffer.from(t.channelSharedSecret(r)).toString("base64")}return o}},27937,(t,e,r)=>{function n(t,e,r,n,i){this.name="PusherRequestError",this.stack=Error().stack,this.message=t,this.url=e,this.error=r,this.status=n,this.body=i}function i(t,e,r,n){this.name="PusherWebHookError",this.stack=Error().stack,this.message=t,this.contentType=e,this.body=r,this.signature=n}n.prototype=Error(),i.prototype=Error(),r.RequestError=n,r.WebHookError=i},97787,(t,e,r)=>{!function(e){"use strict";var r,n=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},i=function(){throw Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=n(),h=n([1]),u=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function b(t,e,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=t[e+s]^r[n+s];return(1&o-1>>>8)-1}function y(t,e,r,n){return b(t,e,r,n,16)}function m(t,e,r,n){return b(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,x=o,S=a,w=h,C=u,A=c,O=l,T=f,k=p,P=d,D=g,U=b,R=y,L=m,B=v,N=_,M=0;M<20;M+=2)C^=(i=E+R|0)<<7|i>>>25,k^=(i=C+E|0)<<9|i>>>23,R^=(i=k+C|0)<<13|i>>>19,E^=(i=R+k|0)<<18|i>>>14,P^=(i=A+x|0)<<7|i>>>25,L^=(i=P+A|0)<<9|i>>>23,x^=(i=L+P|0)<<13|i>>>19,A^=(i=x+L|0)<<18|i>>>14,B^=(i=D+O|0)<<7|i>>>25,S^=(i=B+D|0)<<9|i>>>23,O^=(i=S+B|0)<<13|i>>>19,D^=(i=O+S|0)<<18|i>>>14,w^=(i=N+U|0)<<7|i>>>25,T^=(i=w+N|0)<<9|i>>>23,U^=(i=T+w|0)<<13|i>>>19,N^=(i=U+T|0)<<18|i>>>14,x^=(i=E+w|0)<<7|i>>>25,S^=(i=x+E|0)<<9|i>>>23,w^=(i=S+x|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,O^=(i=A+C|0)<<7|i>>>25,T^=(i=O+A|0)<<9|i>>>23,C^=(i=T+O|0)<<13|i>>>19,A^=(i=C+T|0)<<18|i>>>14,U^=(i=D+P|0)<<7|i>>>25,k^=(i=U+D|0)<<9|i>>>23,P^=(i=k+U|0)<<13|i>>>19,D^=(i=P+k|0)<<18|i>>>14,R^=(i=N+B|0)<<7|i>>>25,L^=(i=R+N|0)<<9|i>>>23,B^=(i=L+R|0)<<13|i>>>19,N^=(i=B+L|0)<<18|i>>>14;E=E+s|0,x=x+o|0,S=S+a|0,w=w+h|0,C=C+u|0,A=A+c|0,O=O+l|0,T=T+f|0,k=k+p|0,P=P+d|0,D=D+g|0,U=U+b|0,R=R+y|0,L=L+m|0,B=B+v|0,N=N+_|0,t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=x>>>0&255,t[5]=x>>>8&255,t[6]=x>>>16&255,t[7]=x>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=C>>>0&255,t[17]=C>>>8&255,t[18]=C>>>16&255,t[19]=C>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=O>>>0&255,t[25]=O>>>8&255,t[26]=O>>>16&255,t[27]=O>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=k>>>0&255,t[33]=k>>>8&255,t[34]=k>>>16&255,t[35]=k>>>24&255,t[36]=P>>>0&255,t[37]=P>>>8&255,t[38]=P>>>16&255,t[39]=P>>>24&255,t[40]=D>>>0&255,t[41]=D>>>8&255,t[42]=D>>>16&255,t[43]=D>>>24&255,t[44]=U>>>0&255,t[45]=U>>>8&255,t[46]=U>>>16&255,t[47]=U>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=B>>>0&255,t[57]=B>>>8&255,t[58]=B>>>16&255,t[59]=B>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,n)}function _(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,x=o,S=a,w=h,C=u,A=c,O=l,T=f,k=p,P=d,D=g,U=b,R=y,L=m,B=v,N=_,M=0;M<20;M+=2)C^=(i=E+R|0)<<7|i>>>25,k^=(i=C+E|0)<<9|i>>>23,R^=(i=k+C|0)<<13|i>>>19,E^=(i=R+k|0)<<18|i>>>14,P^=(i=A+x|0)<<7|i>>>25,L^=(i=P+A|0)<<9|i>>>23,x^=(i=L+P|0)<<13|i>>>19,A^=(i=x+L|0)<<18|i>>>14,B^=(i=D+O|0)<<7|i>>>25,S^=(i=B+D|0)<<9|i>>>23,O^=(i=S+B|0)<<13|i>>>19,D^=(i=O+S|0)<<18|i>>>14,w^=(i=N+U|0)<<7|i>>>25,T^=(i=w+N|0)<<9|i>>>23,U^=(i=T+w|0)<<13|i>>>19,N^=(i=U+T|0)<<18|i>>>14,x^=(i=E+w|0)<<7|i>>>25,S^=(i=x+E|0)<<9|i>>>23,w^=(i=S+x|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,O^=(i=A+C|0)<<7|i>>>25,T^=(i=O+A|0)<<9|i>>>23,C^=(i=T+O|0)<<13|i>>>19,A^=(i=C+T|0)<<18|i>>>14,U^=(i=D+P|0)<<7|i>>>25,k^=(i=U+D|0)<<9|i>>>23,P^=(i=k+U|0)<<13|i>>>19,D^=(i=P+k|0)<<18|i>>>14,R^=(i=N+B|0)<<7|i>>>25,L^=(i=R+N|0)<<9|i>>>23,B^=(i=L+R|0)<<13|i>>>19,N^=(i=B+L|0)<<18|i>>>14;t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=D>>>0&255,t[9]=D>>>8&255,t[10]=D>>>16&255,t[11]=D>>>24&255,t[12]=N>>>0&255,t[13]=N>>>8&255,t[14]=N>>>16&255,t[15]=N>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=k>>>0&255,t[25]=k>>>8&255,t[26]=k>>>16&255,t[27]=k>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255}(t,e,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,r,n,i,s,o){var a,h,u=new Uint8Array(16),c=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=s[h];for(;i>=64;){for(v(c,u,o,E),h=0;h<64;h++)t[e+h]=r[n+h]^c[h];for(h=8,a=1;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(c,u,o,E),h=0;h<i;h++)t[e+h]=r[n+h]^c[h];return 0}function S(t,e,r,n,i){var s,o,a=new Uint8Array(16),h=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(v(h,a,i,E),o=0;o<64;o++)t[e+o]=h[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,e+=64}if(r>0)for(v(h,a,i,E),o=0;o<r;o++)t[e+o]=h[o];return 0}function w(t,e,r,n,i){var s=new Uint8Array(32);_(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return S(t,e,r,o,s)}function C(t,e,r,n,i,s,o){var a=new Uint8Array(32);_(a,s,o,E);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=s[u+16];return x(t,e,r,n,i,h,a)}var A=function(t){var e,r,n,i,s,o,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=(e>>>13|r<<3)&8191,n=255&t[4]|(255&t[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&t[6]|(255&t[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&t[8]|(255&t[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&t[12]|(255&t[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,h=255&t[14]|(255&t[15])<<8,this.r[8]=(a>>>8|h<<8)&8191,this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function O(t,e,r,n,i,s){var o=new A(s);return o.update(r,n,i),o.finish(t,e),0}function T(t,e,r,n,i,s){var o=new Uint8Array(16);return O(o,0,r,n,i,s),y(t,e,o,0)}function k(t,e,r,n,i){var s;if(r<32)return -1;for(C(t,0,e,0,r,n,i),O(t,16,t,32,r-32,t),s=0;s<16;s++)t[s]=0;return 0}function P(t,e,r,n,i){var s,o=new Uint8Array(32);if(r<32||(w(o,0,32,n,i),0!==T(e,16,e,32,r-32,o)))return -1;for(C(t,0,e,0,r,n,i),s=0;s<32;s++)t[s]=0;return 0}function D(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function U(t){var e,r,n=1;for(e=0;e<16;e++)n=Math.floor((r=t[e]+n+65535)/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function R(t,e,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}function L(t,e){var r,i,s,o=n(),a=n();for(r=0;r<16;r++)a[r]=e[r];for(U(a),U(a),U(a),i=0;i<2;i++){for(r=1,o[0]=a[0]-65517;r<15;r++)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,R(a,o,1-s)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function B(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return L(r,t),L(n,e),m(r,0,n,0)}function N(t){var e=new Uint8Array(32);return L(e,t),1&e[0]}function M(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function I(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function F(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function H(t,e,r){var n,i,s=0,o=0,a=0,h=0,u=0,c=0,l=0,f=0,p=0,d=0,g=0,b=0,y=0,m=0,v=0,_=0,E=0,x=0,S=0,w=0,C=0,A=0,O=0,T=0,k=0,P=0,D=0,U=0,R=0,L=0,B=0,N=r[0],M=r[1],I=r[2],F=r[3],H=r[4],j=r[5],z=r[6],q=r[7],K=r[8],$=r[9],Y=r[10],G=r[11],V=r[12],W=r[13],Z=r[14],J=r[15];s+=(n=e[0])*N,o+=n*M,a+=n*I,h+=n*F,u+=n*H,c+=n*j,l+=n*z,f+=n*q,p+=n*K,d+=n*$,g+=n*Y,b+=n*G,y+=n*V,m+=n*W,v+=n*Z,_+=n*J,o+=(n=e[1])*N,a+=n*M,h+=n*I,u+=n*F,c+=n*H,l+=n*j,f+=n*z,p+=n*q,d+=n*K,g+=n*$,b+=n*Y,y+=n*G,m+=n*V,v+=n*W,_+=n*Z,E+=n*J,a+=(n=e[2])*N,h+=n*M,u+=n*I,c+=n*F,l+=n*H,f+=n*j,p+=n*z,d+=n*q,g+=n*K,b+=n*$,y+=n*Y,m+=n*G,v+=n*V,_+=n*W,E+=n*Z,x+=n*J,h+=(n=e[3])*N,u+=n*M,c+=n*I,l+=n*F,f+=n*H,p+=n*j,d+=n*z,g+=n*q,b+=n*K,y+=n*$,m+=n*Y,v+=n*G,_+=n*V,E+=n*W,x+=n*Z,S+=n*J,u+=(n=e[4])*N,c+=n*M,l+=n*I,f+=n*F,p+=n*H,d+=n*j,g+=n*z,b+=n*q,y+=n*K,m+=n*$,v+=n*Y,_+=n*G,E+=n*V,x+=n*W,S+=n*Z,w+=n*J,c+=(n=e[5])*N,l+=n*M,f+=n*I,p+=n*F,d+=n*H,g+=n*j,b+=n*z,y+=n*q,m+=n*K,v+=n*$,_+=n*Y,E+=n*G,x+=n*V,S+=n*W,w+=n*Z,C+=n*J,l+=(n=e[6])*N,f+=n*M,p+=n*I,d+=n*F,g+=n*H,b+=n*j,y+=n*z,m+=n*q,v+=n*K,_+=n*$,E+=n*Y,x+=n*G,S+=n*V,w+=n*W,C+=n*Z,A+=n*J,f+=(n=e[7])*N,p+=n*M,d+=n*I,g+=n*F,b+=n*H,y+=n*j,m+=n*z,v+=n*q,_+=n*K,E+=n*$,x+=n*Y,S+=n*G,w+=n*V,C+=n*W,A+=n*Z,O+=n*J,p+=(n=e[8])*N,d+=n*M,g+=n*I,b+=n*F,y+=n*H,m+=n*j,v+=n*z,_+=n*q,E+=n*K,x+=n*$,S+=n*Y,w+=n*G,C+=n*V,A+=n*W,O+=n*Z,T+=n*J,d+=(n=e[9])*N,g+=n*M,b+=n*I,y+=n*F,m+=n*H,v+=n*j,_+=n*z,E+=n*q,x+=n*K,S+=n*$,w+=n*Y,C+=n*G,A+=n*V,O+=n*W,T+=n*Z,k+=n*J,g+=(n=e[10])*N,b+=n*M,y+=n*I,m+=n*F,v+=n*H,_+=n*j,E+=n*z,x+=n*q,S+=n*K,w+=n*$,C+=n*Y,A+=n*G,O+=n*V,T+=n*W,k+=n*Z,P+=n*J,b+=(n=e[11])*N,y+=n*M,m+=n*I,v+=n*F,_+=n*H,E+=n*j,x+=n*z,S+=n*q,w+=n*K,C+=n*$,A+=n*Y,O+=n*G,T+=n*V,k+=n*W,P+=n*Z,D+=n*J,y+=(n=e[12])*N,m+=n*M,v+=n*I,_+=n*F,E+=n*H,x+=n*j,S+=n*z,w+=n*q,C+=n*K,A+=n*$,O+=n*Y,T+=n*G,k+=n*V,P+=n*W,D+=n*Z,U+=n*J,m+=(n=e[13])*N,v+=n*M,_+=n*I,E+=n*F,x+=n*H,S+=n*j,w+=n*z,C+=n*q,A+=n*K,O+=n*$,T+=n*Y,k+=n*G,P+=n*V,D+=n*W,U+=n*Z,R+=n*J,v+=(n=e[14])*N,_+=n*M,E+=n*I,x+=n*F,S+=n*H,w+=n*j,C+=n*z,A+=n*q,O+=n*K,T+=n*$,k+=n*Y,P+=n*G,D+=n*V,U+=n*W,R+=n*Z,L+=n*J,_+=(n=e[15])*N,E+=n*M,x+=n*I,S+=n*F,w+=n*H,C+=n*j,A+=n*z,O+=n*q,T+=n*K,k+=n*$,P+=n*Y,D+=n*G,U+=n*V,R+=n*W,L+=n*Z,B+=n*J,s+=38*E,o+=38*x,a+=38*S,h+=38*w,u+=38*C,c+=38*A,l+=38*O,f+=38*T,p+=38*k,d+=38*P,g+=38*D,b+=38*U,y+=38*R,m+=38*L,v+=38*B,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=c,t[6]=l,t[7]=f,t[8]=p,t[9]=d,t[10]=g,t[11]=b,t[12]=y,t[13]=m,t[14]=v,t[15]=_}function j(t,e){H(t,e,e)}function z(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=253;r>=0;r--)j(i,i),2!==r&&4!==r&&H(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function q(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=250;r>=0;r--)j(i,i),1!==r&&H(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function K(t,e,r){var i,s,o=new Uint8Array(32),a=new Float64Array(80),h=n(),c=n(),l=n(),f=n(),p=n(),d=n();for(s=0;s<31;s++)o[s]=e[s];for(o[31]=127&e[31]|64,o[0]&=248,M(a,r),s=0;s<16;s++)c[s]=a[s],f[s]=h[s]=l[s]=0;for(s=254,h[0]=f[0]=1;s>=0;--s)R(h,c,i=o[s>>>3]>>>(7&s)&1),R(l,f,i),I(p,h,l),F(h,h,l),I(l,c,f),F(c,c,f),j(f,p),j(d,h),H(h,l,h),H(l,c,p),I(p,h,l),F(h,h,l),j(c,h),F(l,f,d),H(h,l,u),I(h,h,f),H(l,l,h),H(h,f,d),H(f,c,a),j(c,p),R(h,c,i),R(l,f,i);for(s=0;s<16;s++)a[s+16]=h[s],a[s+32]=l[s],a[s+48]=c[s],a[s+64]=f[s];var g=a.subarray(32),b=a.subarray(16);return z(g,g),H(b,b,g),L(t,b),0}function $(t,e){return K(t,e,o)}function Y(t,e){return i(e,32),$(t,e)}function G(t,e,r){var n=new Uint8Array(32);return K(n,r,e),_(t,s,n,E)}A.prototype.blocks=function(t,e,r){for(var n,i,s,o,a,h,u,c,l,f,p,d,g,b,y,m,v,_,E,x=2048*!this.fin,S=this.h[0],w=this.h[1],C=this.h[2],A=this.h[3],O=this.h[4],T=this.h[5],k=this.h[6],P=this.h[7],D=this.h[8],U=this.h[9],R=this.r[0],L=this.r[1],B=this.r[2],N=this.r[3],M=this.r[4],I=this.r[5],F=this.r[6],H=this.r[7],j=this.r[8],z=this.r[9];r>=16;)S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),w+=(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3)&8191,C+=(i>>>10|(s=255&t[e+4]|(255&t[e+5])<<8)<<6)&8191,A+=(s>>>7|(o=255&t[e+6]|(255&t[e+7])<<8)<<9)&8191,O+=(o>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12)&8191,T+=a>>>1&8191,k+=(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2)&8191,P+=(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5)&8191,D+=(u>>>8|(c=255&t[e+14]|(255&t[e+15])<<8)<<8)&8191,U+=c>>>5|x,l=(f=(l=0)+S*R+5*z*w+5*j*C+5*H*A+5*F*O)>>>13,f&=8191,f+=5*I*T,f+=5*M*k,f+=5*N*P,f+=5*B*D,f+=5*L*U,l+=f>>>13,f&=8191,l=(p=l+S*L+w*R+5*z*C+5*j*A+5*H*O)>>>13,p&=8191,p+=5*F*T,p+=5*I*k,p+=5*M*P,p+=5*N*D,p+=5*B*U,l+=p>>>13,p&=8191,l=(d=l+S*B+w*L+C*R+5*z*A+5*j*O)>>>13,d&=8191,d+=5*H*T,d+=5*F*k,d+=5*I*P,d+=5*M*D,d+=5*N*U,l+=d>>>13,d&=8191,l=(g=l+S*N+w*B+C*L+A*R+5*z*O)>>>13,g&=8191,g+=5*j*T,g+=5*H*k,g+=5*F*P,g+=5*I*D,g+=5*M*U,l+=g>>>13,g&=8191,l=(b=l+S*M+w*N+C*B+A*L+O*R)>>>13,b&=8191,b+=5*z*T,b+=5*j*k,b+=5*H*P,b+=5*F*D,b+=5*I*U,l+=b>>>13,b&=8191,l=(y=l+S*I+w*M+C*N+A*B+O*L)>>>13,y&=8191,y+=T*R,y+=5*z*k,y+=5*j*P,y+=5*H*D,y+=5*F*U,l+=y>>>13,y&=8191,l=(m=l+S*F+w*I+C*M+A*N+O*B)>>>13,m&=8191,m+=T*L,m+=k*R,m+=5*z*P,m+=5*j*D,m+=5*H*U,l+=m>>>13,m&=8191,l=(v=l+S*H+w*F+C*I+A*M+O*N)>>>13,v&=8191,v+=T*B,v+=k*L,v+=P*R,v+=5*z*D,v+=5*j*U,l+=v>>>13,v&=8191,l=(_=l+S*j+w*H+C*F+A*I+O*M)>>>13,_&=8191,_+=T*N,_+=k*B,_+=P*L,_+=D*R,_+=5*z*U,l+=_>>>13,_&=8191,l=(E=l+S*z+w*j+C*H+A*F+O*I)>>>13,E&=8191,E+=T*M,E+=k*N,E+=P*B,E+=D*L,E+=U*R,l+=E>>>13,E&=8191,f=8191&(l=(l=(l<<2)+l|0)+f|0),l>>>=13,p+=l,S=f,w=p,C=d,A=g,O=b,T=y,k=m,P=v,D=_,U=E,e+=16,r-=16;this.h[0]=S,this.h[1]=w,this.h[2]=C,this.h[3]=A,this.h[4]=O,this.h[5]=T,this.h[6]=k,this.h[7]=P,this.h[8]=D,this.h[9]=U},A.prototype.finish=function(t,e){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var V=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function W(t,e,r,n){for(var i,s,o,a,h,u,c,l,f,p,d,g,b,y,m,v,_,E,x,S,w,C,A,O,T,k,P=new Int32Array(16),D=new Int32Array(16),U=t[0],R=t[1],L=t[2],B=t[3],N=t[4],M=t[5],I=t[6],F=t[7],H=e[0],j=e[1],z=e[2],q=e[3],K=e[4],$=e[5],Y=e[6],G=e[7],W=0;n>=128;){for(x=0;x<16;x++)S=8*x+W,P[x]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],D[x]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(x=0;x<80;x++)if(i=U,s=R,o=L,a=B,h=N,u=M,c=I,l=F,f=H,p=j,d=z,g=q,b=K,y=$,m=Y,v=G,w=F,A=65535&(C=G),O=C>>>16,T=65535&w,k=w>>>16,w=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23),A+=65535&(C=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=N&M^~N&I,A+=65535&(C=K&$^~K&Y),O+=C>>>16,T+=65535&w,k+=w>>>16,w=V[2*x],A+=65535&(C=V[2*x+1]),O+=C>>>16,T+=65535&w,k+=w>>>16,w=P[x%16],A+=65535&(C=D[x%16]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,_=65535&T|k<<16,E=65535&A|O<<16,w=_,A=65535&(C=E),O=C>>>16,T=65535&w,k=w>>>16,w=(U>>>28|H<<4)^(H>>>2|U<<30)^(H>>>7|U<<25),A+=65535&(C=(H>>>28|U<<4)^(U>>>2|H<<30)^(U>>>7|H<<25)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=U&R^U&L^R&L,A+=65535&(C=H&j^H&z^j&z),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,l=65535&T|k<<16,v=65535&A|O<<16,w=a,A=65535&(C=g),O=C>>>16,T=65535&w,k=w>>>16,w=_,A+=65535&(C=E),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,a=65535&T|k<<16,g=65535&A|O<<16,R=i,L=s,B=o,N=a,M=h,I=u,F=c,U=l,j=f,z=p,q=d,K=g,$=b,Y=y,G=m,H=v,x%16==15)for(S=0;S<16;S++)w=P[S],A=65535&(C=D[S]),O=C>>>16,T=65535&w,k=w>>>16,w=P[(S+9)%16],A+=65535&(C=D[(S+9)%16]),O+=C>>>16,T+=65535&w,k+=w>>>16,w=((_=P[(S+1)%16])>>>1|(E=D[(S+1)%16])<<31)^(_>>>8|E<<24)^_>>>7,A+=65535&(C=(E>>>1|_<<31)^(E>>>8|_<<24)^(E>>>7|_<<25)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=((_=P[(S+14)%16])>>>19|(E=D[(S+14)%16])<<13)^(E>>>29|_<<3)^_>>>6,A+=65535&(C=(E>>>19|_<<13)^(_>>>29|E<<3)^(E>>>6|_<<26)),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,P[S]=65535&T|k<<16,D[S]=65535&A|O<<16;w=U,A=65535&(C=H),O=C>>>16,T=65535&w,k=w>>>16,w=t[0],A+=65535&(C=e[0]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[0]=U=65535&T|k<<16,e[0]=H=65535&A|O<<16,w=R,A=65535&(C=j),O=C>>>16,T=65535&w,k=w>>>16,w=t[1],A+=65535&(C=e[1]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[1]=R=65535&T|k<<16,e[1]=j=65535&A|O<<16,w=L,A=65535&(C=z),O=C>>>16,T=65535&w,k=w>>>16,w=t[2],A+=65535&(C=e[2]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[2]=L=65535&T|k<<16,e[2]=z=65535&A|O<<16,w=B,A=65535&(C=q),O=C>>>16,T=65535&w,k=w>>>16,w=t[3],A+=65535&(C=e[3]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[3]=B=65535&T|k<<16,e[3]=q=65535&A|O<<16,w=N,A=65535&(C=K),O=C>>>16,T=65535&w,k=w>>>16,w=t[4],A+=65535&(C=e[4]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[4]=N=65535&T|k<<16,e[4]=K=65535&A|O<<16,w=M,A=65535&(C=$),O=C>>>16,T=65535&w,k=w>>>16,w=t[5],A+=65535&(C=e[5]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[5]=M=65535&T|k<<16,e[5]=$=65535&A|O<<16,w=I,A=65535&(C=Y),O=C>>>16,T=65535&w,k=w>>>16,w=t[6],A+=65535&(C=e[6]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[6]=I=65535&T|k<<16,e[6]=Y=65535&A|O<<16,w=F,A=65535&(C=G),O=C>>>16,T=65535&w,k=w>>>16,w=t[7],A+=65535&(C=e[7]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[7]=F=65535&T|k<<16,e[7]=G=65535&A|O<<16,W+=128,n-=128}return n}function Z(t,e,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=0x6a09e667,i[1]=0xbb67ae85,i[2]=0x3c6ef372,i[3]=0xa54ff53a,i[4]=0x510e527f,i[5]=0x9b05688c,i[6]=0x1f83d9ab,i[7]=0x5be0cd19,s[0]=0xf3bcc908,s[1]=0x84caa73b,s[2]=0xfe94f82b,s[3]=0x5f1d36f1,s[4]=0xade682d1,s[5]=0x2b3e6c1f,s[6]=0xfb41bd6b,s[7]=0x137e2179,W(i,s,e,r),r%=128,n=0;n<r;n++)o[n]=e[a-r+n];for(o[r]=128,o[(r=256-(r<112)*128)-9]=0,g(o,r-8,a/0x20000000|0,a<<3),W(i,s,o,r),n=0;n<8;n++)g(t,8*n,i[n],s[n]);return 0}function J(t,e){var r=n(),i=n(),s=n(),o=n(),a=n(),h=n(),u=n(),c=n(),f=n();F(r,t[1],t[0]),F(f,e[1],e[0]),H(r,r,f),I(i,t[0],t[1]),I(f,e[0],e[1]),H(i,i,f),H(s,t[3],e[3]),H(s,s,l),H(o,t[2],e[2]),I(o,o,o),F(a,i,r),F(h,o,s),I(u,o,s),I(c,i,r),H(t[0],a,h),H(t[1],c,u),H(t[2],u,h),H(t[3],a,c)}function X(t,e,r){var n;for(n=0;n<4;n++)R(t[n],e[n],r)}function Q(t,e){var r=n(),i=n(),s=n();z(s,e[2]),H(r,e[0],s),H(i,e[1],s),L(t,i),t[31]^=N(r)<<7}function tt(t,e,r){var n,i;for(D(t[0],a),D(t[1],h),D(t[2],h),D(t[3],a),i=255;i>=0;--i)X(t,e,n=r[i/8|0]>>(7&i)&1),J(e,t),J(t,t),X(t,e,n)}function te(t,e){var r=[n(),n(),n(),n()];D(r[0],f),D(r[1],p),D(r[2],h),H(r[3],f,p),tt(t,r,e)}function tr(t,e,r){var s,o=new Uint8Array(64),a=[n(),n(),n(),n()];for(r||i(e,32),Z(o,e,32),o[0]&=248,o[31]&=127,o[31]|=64,te(a,o),Q(t,a),s=0;s<32;s++)e[s+32]=t[s];return 0}var tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ti(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*tn[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(i=0,r=0;i<32;i++)e[i]+=r-(e[31]>>4)*tn[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*tn[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ts(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ti(t,r)}function to(t,e,r,i){var s,o,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),l=[n(),n(),n(),n()];for(Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<r;s++)t[64+s]=e[s];for(s=0;s<32;s++)t[32+s]=a[32+s];for(Z(u,t.subarray(32),r+32),ts(u),te(l,u),Q(t,l),s=32;s<64;s++)t[s]=i[s];for(Z(h,t,r+64),ts(h),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)c[s+o]+=h[s]*a[o];return ti(t.subarray(32),c),r+64}function ta(t,e,r,i){var s,o,u,l,f,p,g,b,y=new Uint8Array(32),v=new Uint8Array(64),_=[n(),n(),n(),n()],E=[n(),n(),n(),n()];if(r<64||(s=n(),o=n(),u=n(),l=n(),f=n(),p=n(),g=n(),(D(E[2],h),M(E[1],i),j(u,E[1]),H(l,u,c),F(u,u,E[2]),I(l,E[2],l),j(f,l),j(p,f),H(g,p,f),H(s,g,u),H(s,s,l),q(s,s),H(s,s,u),H(s,s,l),H(s,s,l),H(E[0],s,l),j(o,E[0]),H(o,o,l),B(o,u)&&H(E[0],E[0],d),j(o,E[0]),H(o,o,l),B(o,u))?-1:(N(E[0])===i[31]>>7&&F(E[0],a,E[0]),H(E[3],E[0],E[1]),0)))return -1;for(b=0;b<r;b++)t[b]=e[b];for(b=0;b<32;b++)t[b+32]=i[b];if(Z(v,t,r),ts(v),tt(_,E,v),te(E,e.subarray(32)),J(_,E),Q(y,_),r-=64,m(e,0,y,0)){for(b=0;b<r;b++)t[b]=0;return -1}for(b=0;b<r;b++)t[b]=e[b+64];return r}function th(t,e){if(32!==t.length)throw Error("bad key size");if(24!==e.length)throw Error("bad nonce size")}function tu(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function tc(t){for(var e=0;e<t.length;e++)t[e]=0}e.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:C,crypto_stream:w,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:S,crypto_onetimeauth:O,crypto_onetimeauth_verify:T,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:k,crypto_secretbox_open:P,crypto_scalarmult:K,crypto_scalarmult_base:$,crypto_box_beforenm:G,crypto_box_afternm:k,crypto_box:function(t,e,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),k(t,e,r,n,o)},crypto_box_open:function(t,e,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),P(t,e,r,n,o)},crypto_box_keypair:Y,crypto_hash:Z,crypto_sign:to,crypto_sign_keypair:tr,crypto_sign_open:ta,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:n,D:c,L:tn,pack25519:L,unpack25519:M,M:H,A:I,S:j,Z:F,pow2523:q,add:J,set25519:D,modL:ti,scalarmult:tt,scalarbase:te},e.randomBytes=function(t){var e=new Uint8Array(t);return i(e,t),e},e.secretbox=function(t,e,r){tu(t,e,r),th(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+32]=t[s];return k(i,n,n.length,e,r),i.subarray(16)},e.secretbox.open=function(t,e,r){tu(t,e,r),th(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+16]=t[s];return n.length<32||0!==P(i,n,n.length,e,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(t,e){if(tu(t,e),32!==t.length)throw Error("bad n size");if(32!==e.length)throw Error("bad p size");var r=new Uint8Array(32);return K(r,t,e),r},e.scalarMult.base=function(t){if(tu(t),32!==t.length)throw Error("bad n size");var e=new Uint8Array(32);return $(e,t),e},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(t,e){tu(t,e);if(32!==t.length)throw Error("bad public key size");if(32!==e.length)throw Error("bad secret key size");var r=new Uint8Array(32);return G(r,t,e),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return Y(t,e),{publicKey:t,secretKey:e}},e.box.keyPair.fromSecretKey=function(t){if(tu(t),32!==t.length)throw Error("bad secret key size");var e=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(t,e){if(tu(t,e),64!==e.length)throw Error("bad secret key size");var r=new Uint8Array(64+t.length);return to(r,t,t.length,e),r},e.sign.open=function(t,e){if(tu(t,e),32!==e.length)throw Error("bad public key size");var r=new Uint8Array(t.length),n=ta(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(t,e,r){if(tu(t,e,r),64!==e.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+t.length),s=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ta(s,i,i.length,r)>=0},e.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return tr(t,e),{publicKey:t,secretKey:e}},e.sign.keyPair.fromSecretKey=function(t){if(tu(t),64!==t.length)throw Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},e.sign.keyPair.fromSeed=function(t){if(tu(t),32!==t.length)throw Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return tr(e,r,!0),{publicKey:e,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(t){tu(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},e.hash.hashLength=64,e.verify=function(t,e){return tu(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===b(t,0,e,0,t.length)},e.setPRNG=function(t){i=t},(r="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&r.getRandomValues?e.setPRNG(function(t,e){var n,i=new Uint8Array(e);for(n=0;n<e;n+=65536)r.getRandomValues(i.subarray(n,n+Math.min(e-n,65536)));for(n=0;n<e;n++)t[n]=i[n];tc(i)}):(r=t.r(54799))&&r.randomBytes&&e.setPRNG(function(t,e){var n,i=r.randomBytes(e);for(n=0;n<e;n++)t[n]=i[n];tc(i)})}(e.exports?e.exports:self.nacl=self.nacl||{})},52175,(t,e,r)=>{!function(t,r){"use strict";e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}(t.e,function(){"use strict";var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(t.encodeBase64=function(t){return Buffer.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(Buffer.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new Buffer(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new Buffer(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){e(t);var r,n=atob(t),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),t})},51148,(t,e,r)=>{let n=t.r(10229),i=t.r(97787),s=t.r(52175);function o(t,e,r){if(void 0===t.config.encryptionMasterKey)throw Error("Set encryptionMasterKey before triggering events on encrypted channels");let n=i.randomBytes(24),o=i.secretbox(s.decodeUTF8(JSON.stringify(r)),n,t.channelSharedSecret(e));return JSON.stringify({nonce:s.encodeBase64(n),ciphertext:s.encodeBase64(o)})}function a(t){return"string"==typeof t?t:JSON.stringify(t)}r.trigger=function(t,e,r,i,s){if(1===e.length&&n.isEncryptedChannel(e[0])){let n=e[0],a={name:r,data:o(t,n,i),channels:[n],...s};return t.post({path:"/events",body:a})}{for(let t=0;t<e.length;t++)if(n.isEncryptedChannel(e[t]))throw Error("You cannot trigger to multiple channels when using encrypted channels");let o={name:r,data:a(i),channels:e,...s};return t.post({path:"/events",body:o})}},r.triggerBatch=function(t,e){for(let r=0;r<e.length;r++)e[r].data=n.isEncryptedChannel(e[r].channel)?o(t,e[r].channel,e[r].data):a(e[r].data);return t.post({path:"/batch_events",body:{batch:e}})}},3576,(t,e,r)=>{"use strict";var n={};function i(t,e){!e.unsigned&&--t;let r=e.unsigned?0:-Math.pow(2,t),n=Math.pow(2,t)-1,i=e.moduloBitLength?Math.pow(2,e.moduloBitLength):Math.pow(2,t),s=e.moduloBitLength?Math.pow(2,e.moduloBitLength-1):Math.pow(2,t-1);return function(t,o){o||(o={});let a=+t;if(o.enforceRange){if(!Number.isFinite(a))throw TypeError("Argument is not a finite number");if((a=(a<0?-1:1)*Math.floor(Math.abs(a)))<r||a>n)throw TypeError("Argument is not in byte range");return a}if(!isNaN(a)&&o.clamp){var h;return(a=(h=a)%1==.5&&(1&h)==0?Math.floor(h):Math.round(h))<r&&(a=r),a>n&&(a=n),a}if(!Number.isFinite(a)||0===a)return 0;if(a=(a<0?-1:1)*Math.floor(Math.abs(a))%i,!e.unsigned&&a>=s)return a-i;if(e.unsigned){if(a<0)a+=i;else if(-0===a)return 0}return a}}e.exports=n,n.void=function(){},n.boolean=function(t){return!!t},n.byte=i(8,{unsigned:!1}),n.octet=i(8,{unsigned:!0}),n.short=i(16,{unsigned:!1}),n["unsigned short"]=i(16,{unsigned:!0}),n.long=i(32,{unsigned:!1}),n["unsigned long"]=i(32,{unsigned:!0}),n["long long"]=i(32,{unsigned:!1,moduloBitLength:64}),n["unsigned long long"]=i(32,{unsigned:!0,moduloBitLength:64}),n.double=function(t){let e=+t;if(!Number.isFinite(e))throw TypeError("Argument is not a finite floating-point value");return e},n["unrestricted double"]=function(t){let e=+t;if(isNaN(e))throw TypeError("Argument is NaN");return e},n.float=n.double,n["unrestricted float"]=n["unrestricted double"],n.DOMString=function(t,e){return(e||(e={}),e.treatNullAsEmptyString&&null===t)?"":String(t)},n.ByteString=function(t,e){let r,n=String(t);for(let t=0;void 0!==(r=n.codePointAt(t));++t)if(r>255)throw TypeError("Argument is not a valid bytestring");return n},n.USVString=function(t){let e=String(t),r=e.length,n=[];for(let t=0;t<r;++t){let i=e.charCodeAt(t);if(i<55296||i>57343)n.push(String.fromCodePoint(i));else if(56320<=i&&i<=57343)n.push(String.fromCodePoint(65533));else if(t===r-1)n.push(String.fromCodePoint(65533));else{let r=e.charCodeAt(t+1);if(56320<=r&&r<=57343){let e=1023&i,s=1023&r;n.push(String.fromCodePoint(65536+1024*e+s)),++t}else n.push(String.fromCodePoint(65533))}}return n.join("")},n.Date=function(t,e){if(!(t instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(t))return t},n.RegExp=function(t,e){return t instanceof RegExp||(t=new RegExp(t)),t}},64164,(t,e,r)=>{"use strict";e.exports.mixin=function(t,e){let r=Object.getOwnPropertyNames(e);for(let n=0;n<r.length;++n)Object.defineProperty(t,r[n],Object.getOwnPropertyDescriptor(e,r[n]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}},34736,(t,e,r)=>{"use strict";var n=t.r(92097),i=t.r(33829),s={TRANSITIONAL:0,NONTRANSITIONAL:1};function o(t){return t.split("\0").map(function(t){return t.normalize("NFC")}).join("\0")}function a(t){for(var e=0,r=i.length-1;e<=r;){var n=Math.floor((e+r)/2),s=i[n];if(s[0][0]<=t&&s[0][1]>=t)return s;s[0][0]>t?r=n-1:e=n+1}return null}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function u(t){return t.replace(h,"_").length}var c=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function l(t,e,r){var i=function(t,e,r){for(var n=!1,i="",o=u(t),h=0;h<o;++h){var c=t.codePointAt(h),l=a(c);switch(l[1]){case"disallowed":n=!0,i+=String.fromCodePoint(c);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,l[2]);break;case"deviation":r===s.TRANSITIONAL?i+=String.fromCodePoint.apply(String,l[2]):i+=String.fromCodePoint(c);break;case"valid":i+=String.fromCodePoint(c);break;case"disallowed_STD3_mapped":e?(n=!0,i+=String.fromCodePoint(c)):i+=String.fromCodePoint.apply(String,l[2]);break;case"disallowed_STD3_valid":e&&(n=!0),i+=String.fromCodePoint(c)}}return{string:i,error:n}}(t,e,r);i.string=o(i.string);for(var h=i.string.split("."),f=0;f<h.length;++f)try{var p=function(t,e){"xn--"===t.substr(0,4)&&(t=n.toUnicode(t),s.NONTRANSITIONAL);var r=!1;(o(t)!==t||"-"===t[3]&&"-"===t[4]||"-"===t[0]||"-"===t[t.length-1]||-1!==t.indexOf(".")||0===t.search(c))&&(r=!0);for(var i=u(t),h=0;h<i;++h){var f=a(t.codePointAt(h));if(l===s.TRANSITIONAL&&"valid"!==f[1]||l===s.NONTRANSITIONAL&&"valid"!==f[1]&&"deviation"!==f[1]){r=!0;break}}return{label:t,error:r}}(h[f]);h[f]=p.label,i.error=i.error||p.error}catch(t){i.error=!0}return{string:h.join("."),error:i.error}}e.exports.toASCII=function(t,e,r,i){var s=l(t,e,r),o=s.string.split(".");if(o=o.map(function(t){try{return n.toASCII(t)}catch(e){return s.error=!0,t}}),i){var a=o.slice(0,o.length-1).join(".").length;(a.length>253||0===a.length)&&(s.error=!0);for(var h=0;h<o.length;++h)if(o.length>63||0===o.length){s.error=!0;break}}return s.error?null:o.join(".")},e.exports.toUnicode=function(t,e){var r=l(t,e,s.NONTRANSITIONAL);return{domain:r.string,error:r.error}},e.exports.PROCESSING_OPTIONS=s},25583,(t,e,r)=>{"use strict";let n=t.r(92097),i=t.r(34736),s={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},o=Symbol("failure");function a(t){return n.ucs2.decode(t).length}function h(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function u(t){return t>=48&&t<=57}function c(t){return t>=65&&t<=90||t>=97&&t<=122}function l(t){return u(t)||t>=65&&t<=70||t>=97&&t<=102}function f(t){return"."===t||"%2e"===t.toLowerCase()}function p(t){return 2===t.length&&c(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function d(t){return void 0!==s[t]}function g(t){return d(t.scheme)}function b(t){let e=t.toString(16).toUpperCase();return 1===e.length&&(e="0"+e),"%"+e}function y(t){return t<=31||t>126}let m=new Set([32,34,35,60,62,63,96,123,125]);function v(t){return y(t)||m.has(t)}let _=new Set([47,58,59,61,64,91,92,93,94,124]);function E(t){return v(t)||_.has(t)}function x(t,e){let r=String.fromCodePoint(t);if(e(t)){let t=new Buffer(r),e="";for(let r=0;r<t.length;++r)e+=b(t[r]);return e}return r}function S(t,e){if("["===t[0])return"]"!==t[t.length-1]?o:function(t){let e=[0,0,0,0,0,0,0,0],r=0,i=null,s=0;if(58===(t=n.ucs2.decode(t))[s]){if(58!==t[s+1])return o;s+=2,i=++r}for(;s<t.length;){if(8===r)return o;if(58===t[s]){if(null!==i)return o;++s,i=++r;continue}let n=0,a=0;for(;a<4&&l(t[s]);)n=16*n+parseInt(h(t,s),16),++s,++a;if(46===t[s]){if(0===a||(s-=a,r>6))return o;let n=0;for(;void 0!==t[s];){let i=null;if(n>0)if(46!==t[s]||!(n<4))return o;else++s;if(!u(t[s]))return o;for(;u(t[s]);){let e=parseInt(h(t,s));if(null===i)i=e;else{if(0===i)return o;i=10*i+e}if(i>255)return o;++s}e[r]=256*e[r]+i,(2==++n||4===n)&&++r}if(4!==n)return o;break}if(58===t[s]){if(void 0===t[++s])return o}else if(void 0!==t[s])return o;e[r]=n,++r}if(null!==i){let t=r-i;for(r=7;0!==r&&t>0;){let n=e[i+t-1];e[i+t-1]=e[r],e[r]=n,--r,--t}}else if(null===i&&8!==r)return o;return e}(t.substring(1,t.length-1));if(!e){var r=t;if(-1!==r.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return o;let e="",i=n.ucs2.decode(r);for(let t=0;t<i.length;++t)e+=x(i[t],y);return e}let s=function(t){let e=new Buffer(t),r=[];for(let t=0;t<e.length;++t)37!==e[t]?r.push(e[t]):37===e[t]&&l(e[t+1])&&l(e[t+2])?(r.push(parseInt(e.slice(t+1,t+3).toString(),16)),t+=2):r.push(e[t]);return new Buffer(r).toString()}(t),a=i.toASCII(s,!1,i.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===a||-1!==a.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return o;let c=function(t){let e=t.split(".");if(""===e[e.length-1]&&e.length>1&&e.pop(),e.length>4)return t;let r=[];for(let n of e){if(""===n)return t;let e=function(t){let e=10;return(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),e=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),e=8),""===t)?0:(10===e?/[^0-9]/:16===e?/[^0-9A-Fa-f]/:/[^0-7]/).test(t)?o:parseInt(t,e)}(n);if(e===o)return t;r.push(e)}for(let t=0;t<r.length-1;++t)if(r[t]>255)return o;if(r[r.length-1]>=Math.pow(256,5-r.length))return o;let n=r.pop(),i=0;for(let t of r)n+=t*Math.pow(256,3-i),++i;return n}(a);return"number"==typeof c||c===o?c:a}function w(t){if("number"==typeof t){let e="",r=t;for(let t=1;t<=4;++t)e=String(r%256)+e,4!==t&&(e="."+e),r=Math.floor(r/256);return e}return t instanceof Array?"["+function(t){let e="",r=function(t){let e=null,r=1,n=null,i=0;for(let s=0;s<t.length;++s)0!==t[s]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=s),++i);return i>r&&(e=n,r=i),{idx:e,len:r}}(t).idx,n=!1;for(let i=0;i<=7;++i)if(!n||0!==t[i]){if(n&&(n=!1),r===i){e+=0===i?"::":":",n=!0;continue}e+=t[i].toString(16),7!==i&&(e+=":")}return e}(t)+"]":t}function C(t){var e;let r=t.path;0===r.length||"file"===t.scheme&&1===r.length&&(e=r[0],/^[A-Za-z]:$/.test(e))||r.pop()}function A(t){return""!==t.username||""!==t.password}function O(t,e,r,i,s){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=s,this.url=i,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let t=this.input.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"");t!==this.input&&(this.parseError=!0),this.input=t}let a=this.input.replace(/\u0009|\u000A|\u000D/g,"");for(a!==this.input&&(this.parseError=!0),this.input=a,this.state=s||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=n.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let t=this.input[this.pointer],e=isNaN(t)?void 0:String.fromCodePoint(t),r=this["parse "+this.state](t,e);if(r){if(r===o){this.failure=!0;break}}else break}}O.prototype["parse scheme start"]=function(t,e){if(c(t))this.buffer+=e.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,o;this.state="no scheme",--this.pointer}return!0},O.prototype["parse scheme"]=function(t,e){if(c(t)||u(t)||43===t||45===t||46===t)this.buffer+=e.toLowerCase();else if(58===t){if(this.stateOverride&&(g(this.url)&&!d(this.buffer)||!g(this.url)&&d(this.buffer)||(A(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):g(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":g(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,o;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},O.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?o:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},O.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},O.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},O.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):g(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},O.prototype["parse relative slash"]=function(t){return g(this.url)&&(47===t||92===t)?(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"):47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},O.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},O.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},O.prototype["parse authority"]=function(t,e){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let t=a(this.buffer);for(let e=0;e<t;++e){let t=this.buffer.codePointAt(e);if(58===t&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let r=x(t,E);this.passwordTokenSeenFlag?this.url.password+=r:this.url.username+=r}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,o;this.pointer-=a(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=e;return!0},O.prototype["parse hostname"]=O.prototype["parse host"]=function(t,e){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t){if(--this.pointer,g(this.url)&&""===this.buffer)return this.parseError=!0,o;if(this.stateOverride&&""===this.buffer&&(A(this.url)||null!==this.url.port))return this.parseError=!0,!1;let t=S(this.buffer,g(this.url));if(t===o)return o;if(this.url.host=t,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=e;else{if(""===this.buffer)return this.parseError=!0,o;let t=S(this.buffer,g(this.url));if(t===o)return o;if(this.url.host=t,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},O.prototype["parse port"]=function(t,e){if(u(t))this.buffer+=e;else{if(!(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t)&&!this.stateOverride)return this.parseError=!0,o;if(""!==this.buffer){let t=parseInt(this.buffer);if(t>65535)return this.parseError=!0,o;this.url.port=t===s[this.url.scheme]?null:t,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let T=new Set([47,92,63,35]);O.prototype["parse file"]=function(t){if(this.url.scheme="file",47===t||92===t)92===t&&(this.parseError=!0),this.state="file slash";else if(null!==this.base&&"file"===this.base.scheme)if(isNaN(t))this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query;else if(63===t)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query";else if(35===t)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else{var e;this.input.length-this.pointer-1!=0&&(e=this.input[this.pointer+1],c(t)&&(58===e||124===e))&&(!(this.input.length-this.pointer-1>=2)||T.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),C(this.url)),this.state="path",--this.pointer}else this.state="path",--this.pointer;return!0},O.prototype["parse file slash"]=function(t){if(47===t||92===t)92===t&&(this.parseError=!0),this.state="file host";else{if(null!==this.base&&"file"===this.base.scheme){var e;2===(e=this.base.path[0]).length&&c(e.codePointAt(0))&&":"===e[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host}this.state="path",--this.pointer}return!0},O.prototype["parse file host"]=function(t,e){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&p(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let t=S(this.buffer,g(this.url));if(t===o)return o;if("localhost"===t&&(t=""),this.url.host=t,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=e;return!0},O.prototype["parse path start"]=function(t){return g(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},O.prototype["parse path"]=function(t){if(isNaN(t)||47===t||g(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){var e;if((g(this.url)&&92===t&&(this.parseError=!0),".."===(e=(e=this.buffer).toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e)?(C(this.url),47===t||g(this.url)&&92===t||this.url.path.push("")):f(this.buffer)&&47!==t&&!(g(this.url)&&92===t)?this.url.path.push(""):f(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&p(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=x(t,v);return!0},O.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]=this.url.path[0]+x(t,y))),!0},O.prototype["parse query"]=function(t,e){if(isNaN(t)||!this.stateOverride&&35===t){g(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let e=new Buffer(this.buffer);for(let t=0;t<e.length;++t)e[t]<33||e[t]>126||34===e[t]||35===e[t]||60===e[t]||62===e[t]?this.url.query+=b(e[t]):this.url.query+=String.fromCodePoint(e[t]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=e;return!0},O.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=x(t,y))),!0},e.exports.serializeURL=function(t,e){let r=t.scheme+":";if(null!==t.host?(r+="//",(""!==t.username||""!==t.password)&&(r+=t.username,""!==t.password&&(r+=":"+t.password),r+="@"),r+=w(t.host),null!==t.port&&(r+=":"+t.port)):null===t.host&&"file"===t.scheme&&(r+="//"),t.cannotBeABaseURL)r+=t.path[0];else for(let e of t.path)r+="/"+e;return null!==t.query&&(r+="?"+t.query),e||null===t.fragment||(r+="#"+t.fragment),r},e.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":var r;let n;return n=(r={scheme:t.scheme,host:t.host,port:t.port}).scheme+"://"+w(r.host),null!==r.port&&(n+=":"+r.port),n;case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(t,e){void 0===e&&(e={});let r=new O(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?"failure":r.url},e.exports.setTheUsername=function(t,e){t.username="";let r=n.ucs2.decode(e);for(let e=0;e<r.length;++e)t.username+=x(r[e],E)},e.exports.setThePassword=function(t,e){t.password="";let r=n.ucs2.decode(e);for(let e=0;e<r.length;++e)t.password+=x(r[e],E)},e.exports.serializeHost=w,e.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},e.exports.serializeInteger=function(t){return String(t)},e.exports.parseURL=function(t,r){return void 0===r&&(r={}),e.exports.basicURLParse(t,{baseURL:r.baseURL,encodingOverride:r.encodingOverride})}},71363,(t,e,r)=>{"use strict";let n=t.r(25583);r.implementation=class{constructor(t){const e=t[0],r=t[1];let i=null;if(void 0!==r&&"failure"===(i=n.basicURLParse(r)))throw TypeError("Invalid base URL");const s=n.basicURLParse(e,{baseURL:i});if("failure"===s)throw TypeError("Invalid URL");this._url=s}get href(){return n.serializeURL(this._url)}set href(t){let e=n.basicURLParse(t);if("failure"===e)throw TypeError("Invalid URL");this._url=e}get origin(){return n.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(t){n.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,t)}get password(){return this._url.password}set password(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,t)}get host(){let t=this._url;return null===t.host?"":null===t.port?n.serializeHost(t.host):n.serializeHost(t.host)+":"+n.serializeInteger(t.port)}set host(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":n.serializeHost(this._url.host)}set hostname(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":n.serializeInteger(this._url.port)}set port(t){n.cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:n.basicURLParse(t,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(t){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(t){let e=this._url;if(""===t){e.query=null;return}let r="?"===t[0]?t.substring(1):t;e.query="",n.basicURLParse(r,{url:e,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(t){if(""===t){this._url.fragment=null;return}let e="#"===t[0]?t.substring(1):t;this._url.fragment="",n.basicURLParse(e,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},60885,(t,e,r)=>{"use strict";let n=t.r(3576),i=t.r(64164),s=t.r(71363),o=i.implSymbol;function a(t){if(!this||this[o]||!(this instanceof a))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let r=[];for(let t=0;t<arguments.length&&t<2;++t)r[t]=arguments[t];r[0]=n.USVString(r[0]),void 0!==r[1]&&(r[1]=n.USVString(r[1])),e.exports.setup(this,r)}a.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");let t=[];for(let e=0;e<arguments.length&&e<0;++e)t[e]=arguments[e];return this[o].toJSON.apply(this[o],t)},Object.defineProperty(a.prototype,"href",{get(){return this[o].href},set(t){t=n.USVString(t),this[o].href=t},enumerable:!0,configurable:!0}),a.prototype.toString=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(a.prototype,"origin",{get(){return this[o].origin},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"protocol",{get(){return this[o].protocol},set(t){t=n.USVString(t),this[o].protocol=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"username",{get(){return this[o].username},set(t){t=n.USVString(t),this[o].username=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"password",{get(){return this[o].password},set(t){t=n.USVString(t),this[o].password=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"host",{get(){return this[o].host},set(t){t=n.USVString(t),this[o].host=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hostname",{get(){return this[o].hostname},set(t){t=n.USVString(t),this[o].hostname=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"port",{get(){return this[o].port},set(t){t=n.USVString(t),this[o].port=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pathname",{get(){return this[o].pathname},set(t){t=n.USVString(t),this[o].pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"search",{get(){return this[o].search},set(t){t=n.USVString(t),this[o].search=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hash",{get(){return this[o].hash},set(t){t=n.USVString(t),this[o].hash=t},enumerable:!0,configurable:!0}),e.exports={is:t=>!!t&&t[o]instanceof s.implementation,create(t,e){let r=Object.create(a.prototype);return this.setup(r,t,e),r},setup(t,e,r){r||(r={}),r.wrapper=t,t[o]=new s.implementation(e,r),t[o][i.wrapperSymbol]=t},interface:a,expose:{Window:{URL:a},Worker:{URL:a}}}},98643,(t,e,r)=>{"use strict";r.URL=t.r(60885).interface,r.serializeURL=t.r(25583).serializeURL,r.serializeURLOrigin=t.r(25583).serializeURLOrigin,r.basicURLParse=t.r(25583).basicURLParse,r.setTheUsername=t.r(25583).setTheUsername,r.setThePassword=t.r(25583).setThePassword,r.serializeHost=t.r(25583).serializeHost,r.serializeInteger=t.r(25583).serializeInteger,r.parseURL=t.r(25583).parseURL},56569,t=>{"use strict";let e;var r=t.i(88947),n=t.i(21517),i=t.i(92509),s=t.i(98643),o=t.i(24836),a=t.i(6461);let h=r.default.Readable,u=Symbol("buffer"),c=Symbol("type");class l{constructor(){this[c]="";const t=arguments[0],e=arguments[1],r=[];if(t){const e=Number(t.length);for(let n=0;n<e;n++){let e;const i=t[n];(e=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof l?i[u]:Buffer.from("string"==typeof i?i:String(i))).length,r.push(e)}}this[u]=Buffer.concat(r);let n=e&&void 0!==e.type&&String(e.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[c]=n)}get size(){return this[u].length}get type(){return this[c]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){let t=this[u];return Promise.resolve(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}stream(){let t=new h;return t._read=function(){},t.push(this[u]),t.push(null),t}toString(){return"[object Blob]"}slice(){let t,e=this.size,r=arguments[0],n=arguments[1];t=void 0===r?0:r<0?Math.max(e+r,0):Math.min(r,e);let i=Math.max((void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e))-t,0),s=this[u].slice(t,t+i),o=new l([],{type:arguments[2]});return o[u]=s,o}}function f(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(l.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="FetchError";try{e=(()=>{let t=Error("Cannot find module 'encoding'");throw t.code="MODULE_NOT_FOUND",t})().convert}catch(t){}let p=Symbol("Body internals"),d=r.default.PassThrough;function g(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.size,s=n.timeout;null==t?t=null:y(t)?t=Buffer.from(t.toString()):m(t)||Buffer.isBuffer(t)||("[object ArrayBuffer]"===Object.prototype.toString.call(t)?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof r.default||(t=Buffer.from(String(t)))),this[p]={body:t,disturbed:!1,error:null},this.size=void 0===i?0:i,this.timeout=void 0===s?0:s,t instanceof r.default&&t.on("error",function(t){let r="AbortError"===t.name?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t);e[p].error=r})}function b(){var t=this;if(this[p].disturbed)return g.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[p].disturbed=!0,this[p].error)return g.Promise.reject(this[p].error);let e=this.body;if(null===e)return g.Promise.resolve(Buffer.alloc(0));if(m(e)&&(e=e.stream()),Buffer.isBuffer(e))return g.Promise.resolve(e);if(!(e instanceof r.default))return g.Promise.resolve(Buffer.alloc(0));let n=[],i=0,s=!1;return new g.Promise(function(r,o){let a;t.timeout&&(a=setTimeout(function(){s=!0,o(new f(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(e){"AbortError"===e.name?(s=!0,o(e)):o(new f(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))}),e.on("data",function(e){if(!s&&null!==e){if(t.size&&i+e.length>t.size){s=!0,o(new f(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}i+=e.length,n.push(e)}}),e.on("end",function(){if(!s){clearTimeout(a);try{r(Buffer.concat(n,i))}catch(e){o(new f(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e))}}})})}function y(t){return"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&("URLSearchParams"===t.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(t)||"function"==typeof t.sort)}function m(t){return"object"==typeof t&&"function"==typeof t.arrayBuffer&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function v(t){let e,n,i=t.body;if(t.bodyUsed)throw Error("cannot clone body after it is used");return i instanceof r.default&&"function"!=typeof i.getBoundary&&(e=new d,n=new d,i.pipe(e),i.pipe(n),t[p].body=e,i=n),i}function _(t){if(null===t)return null;if("string"==typeof t)return"text/plain;charset=UTF-8";if(y(t))return"application/x-www-form-urlencoded;charset=UTF-8";if(m(t))return t.type||null;if(Buffer.isBuffer(t))return null;else if("[object ArrayBuffer]"===Object.prototype.toString.call(t))return null;else if(ArrayBuffer.isView(t))return null;else if("function"==typeof t.getBoundary)return`multipart/form-data;boundary=${t.getBoundary()}`;else if(t instanceof r.default)return null;else return"text/plain;charset=UTF-8"}function E(t){let e=t.body;return null===e?0:m(e)?e.size:Buffer.isBuffer(e)?e.length:e&&"function"==typeof e.getLengthSync?e._lengthRetrievers&&0==e._lengthRetrievers.length||e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null:null}g.prototype={get body(){return this[p].body},get bodyUsed(){return this[p].disturbed},arrayBuffer(){return b.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return b.call(this).then(function(e){return Object.assign(new l([],{type:t.toLowerCase()}),{[u]:e})})},json(){var t=this;return b.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(e){return g.Promise.reject(new f(`invalid json response body at ${t.url} reason: ${e.message}`,"invalid-json"))}})},text(){return b.call(this).then(function(t){return t.toString()})},buffer(){return b.call(this)},textConverted(){var t=this;return b.call(this).then(function(r){return function(t,r){let n,i;if("function"!=typeof e)throw Error("The package `encoding` must be installed to use the textConverted() function");let s=r.get("content-type"),o="utf-8";return s&&(n=/charset=([^;]*)/i.exec(s)),i=t.slice(0,1024).toString(),!n&&i&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(i)),!n&&i&&(!(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i))&&(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i))&&n.pop(),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&i&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i)),n&&("gb2312"===(o=n.pop())||"gbk"===o)&&(o="gb18030"),e(t,"UTF-8",o).toString()}(r,t.headers)})}},Object.defineProperties(g.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),g.mixIn=function(t){for(let e of Object.getOwnPropertyNames(g.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(g.prototype,e);Object.defineProperty(t,e,r)}},g.Promise=t.g.Promise;let x=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,S=/[^\t\x20-\x7e\x80-\xff]/;function w(t){if(t=`${t}`,x.test(t)||""===t)throw TypeError(`${t} is not a legal HTTP header name`)}function C(t){if(t=`${t}`,S.test(t))throw TypeError(`${t} is not a legal HTTP header value`)}function A(t,e){for(let r in e=e.toLowerCase(),t)if(r.toLowerCase()===e)return r}let O=Symbol("map");class T{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[O]=Object.create(null),t instanceof T){const e=t.raw();for(const t of Object.keys(e))for(const r of e[t])this.append(t,r);return}if(null==t);else if("object"==typeof t){const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw TypeError("Header pairs must be iterable");const r=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw TypeError("Each header pair must be iterable");r.push(Array.from(e))}for(const t of r){if(2!==t.length)throw TypeError("Each header pair must be a name/value tuple");this.append(t[0],t[1])}}else for(const e of Object.keys(t)){const r=t[e];this.append(e,r)}}else throw TypeError("Provided initializer must be an object")}get(t){w(t=`${t}`);let e=A(this[O],t);return void 0===e?null:this[O][e].join(", ")}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=k(this),n=0;for(;n<r.length;){var i=r[n];let s=i[0],o=i[1];t.call(e,o,s,this),r=k(this),n++}}set(t,e){t=`${t}`,e=`${e}`,w(t),C(e);let r=A(this[O],t);this[O][void 0!==r?r:t]=[e]}append(t,e){t=`${t}`,e=`${e}`,w(t),C(e);let r=A(this[O],t);void 0!==r?this[O][r].push(e):this[O][t]=[e]}has(t){return w(t=`${t}`),void 0!==A(this[O],t)}delete(t){w(t=`${t}`);let e=A(this[O],t);void 0!==e&&delete this[O][e]}raw(){return this[O]}keys(){return D(this,"key")}values(){return D(this,"value")}[Symbol.iterator](){return D(this,"key+value")}}function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(t[O]).sort().map("key"===e?function(t){return t.toLowerCase()}:"value"===e?function(e){return t[O][e].join(", ")}:function(e){return[e.toLowerCase(),t[O][e].join(", ")]})}T.prototype.entries=T.prototype[Symbol.iterator],Object.defineProperty(T.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(T.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let P=Symbol("internal");function D(t,e){let r=Object.create(U);return r[P]={target:t,kind:e,index:0},r}let U=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==U)throw TypeError("Value of `this` is not a HeadersIterator");var t=this[P];let e=t.target,r=t.kind,n=t.index,i=k(e,r);return n>=i.length?{value:void 0,done:!0}:(this[P].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(U,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let R=Symbol("Response internals"),L=n.default.STATUS_CODES;class B{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.call(this,t,e);const r=e.status||200,n=new T(e.headers);if(null!=t&&!n.has("Content-Type")){const e=_(t);e&&n.append("Content-Type",e)}this[R]={url:e.url,status:r,statusText:e.statusText||L[r],headers:n,counter:e.counter}}get url(){return this[R].url||""}get status(){return this[R].status}get ok(){return this[R].status>=200&&this[R].status<300}get redirected(){return this[R].counter>0}get statusText(){return this[R].statusText}get headers(){return this[R].headers}clone(){return new B(v(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}g.mixIn(B.prototype),Object.defineProperties(B.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(B.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let N=Symbol("Request internals"),M=i.default.URL||s.default.URL,I=i.default.parse,F=i.default.format;function H(t){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(t)&&(t=new M(t).toString()),I(t)}let j="destroy"in r.default.Readable.prototype;function z(t){return"object"==typeof t&&"object"==typeof t[N]}class q{constructor(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(t)?e=H(t.url):(e=t&&t.href?H(t.href):H(`${t}`),t={});let n=r.method||t.method||"GET";if(n=n.toUpperCase(),(null!=r.body||z(t)&&null!==t.body)&&("GET"===n||"HEAD"===n))throw TypeError("Request with GET/HEAD method cannot have body");let i=null!=r.body?r.body:z(t)&&null!==t.body?v(t):null;g.call(this,i,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});const s=new T(r.headers||t.headers||{});if(null!=i&&!s.has("Content-Type")){const t=_(i);t&&s.append("Content-Type",t)}let o=z(t)?t.signal:null;if("signal"in r&&(o=r.signal),null!=o&&!function(t){let e=t&&"object"==typeof t&&Object.getPrototypeOf(t);return!!(e&&"AbortSignal"===e.constructor.name)}(o))throw TypeError("Expected signal to be an instanceof AbortSignal");this[N]={method:n,redirect:r.redirect||t.redirect||"follow",headers:s,parsedURL:e,signal:o},this.follow=void 0!==r.follow?r.follow:void 0!==t.follow?t.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===t.compress||t.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[N].method}get url(){return F(this[N].parsedURL)}get headers(){return this[N].headers}get redirect(){return this[N].redirect}get signal(){return this[N].signal}clone(){return new q(this)}}function K(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}g.mixIn(q.prototype),Object.defineProperty(q.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(q.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K.prototype.name="AbortError";let $=i.default.URL||s.default.URL,Y=r.default.PassThrough,G=function(t,e){let r=new $(e).hostname,n=new $(t).hostname;return r===n||"."===r[r.length-n.length-1]&&r.endsWith(n)};function V(t,e){if(!V.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return g.Promise=V.Promise,new V.Promise(function(i,s){var h,u;let c,l,p,d=new q(t,e),g=function(t){let e,n,i=t[N].parsedURL,s=new T(t[N].headers);if(s.has("Accept")||s.set("Accept","*/*"),!i.protocol||!i.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(i.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof r.default.Readable&&!j)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(o="0"),null!=t.body){let e=E(t);"number"==typeof e&&(o=String(e))}o&&s.set("Content-Length",o),s.has("User-Agent")||s.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!s.has("Accept-Encoding")&&s.set("Accept-Encoding","gzip,deflate");let a=t.agent;return"function"==typeof a&&(a=a(i)),Object.assign({},i,{method:t.method,headers:(e=Object.assign({__proto__:null},s[O]),void 0!==(n=A(s[O],"Host"))&&(e[n]=e[n][0]),e),agent:a})}(d),b=("https:"===g.protocol?o.default:n.default).request,y=d.signal,v=null,_=function(){let t=new K("The user aborted a request.");s(t),d.body&&d.body instanceof r.default.Readable&&W(d.body,t),v&&v.body&&v.body.emit("error",t)};if(y&&y.aborted)return void _();let w=function(){_(),k()},C=b(g);function k(){C.abort(),y&&y.removeEventListener("abort",w),clearTimeout(l)}y&&y.addEventListener("abort",w),d.timeout&&C.once("socket",function(t){l=setTimeout(function(){s(new f(`network timeout at: ${d.url}`,"request-timeout")),k()},d.timeout)}),C.on("error",function(t){s(new f(`request to ${d.url} failed, reason: ${t.message}`,"system",t)),v&&v.body&&W(v.body,t),k()}),h=C,u=function(t){(!y||!y.aborted)&&v&&v.body&&W(v.body,t)},h.on("socket",function(t){c=t}),h.on("response",function(t){let e=t.headers;"chunked"!==e["transfer-encoding"]||e["content-length"]||t.once("close",function(t){if(c&&c.listenerCount("data")>0&&!t){let t=Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",u(t)}})}),14>parseInt(process.version.substring(1))&&C.on("socket",function(t){t.addListener("close",function(e){let r=t.listenerCount("data")>0;if(v&&r&&!e&&!(y&&y.aborted)){let t=Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",v.body.emit("error",t)}})}),C.on("response",function(t){clearTimeout(l);let e=function(t){let e=new T;for(let r of Object.keys(t))if(!x.test(r))if(Array.isArray(t[r]))for(let n of t[r])S.test(n)||(void 0===e[O][r]?e[O][r]=[n]:e[O][r].push(n));else S.test(t[r])||(e[O][r]=[t[r]]);return e}(t.headers);if(V.isRedirect(t.statusCode)){let n=e.get("Location"),o=null;try{o=null===n?null:new $(n,d.url).toString()}catch(t){if("manual"!==d.redirect){s(new f(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),k();return}}switch(d.redirect){case"error":s(new f(`uri requested responds with a redirect, redirect mode is set to error: ${d.url}`,"no-redirect")),k();return;case"manual":if(null!==o)try{e.set("Location",o)}catch(t){s(t)}break;case"follow":var r;if(null===o)break;if(d.counter>=d.follow){s(new f(`maximum redirect reached at: ${d.url}`,"max-redirect")),k();return}let a={headers:new T(d.headers),follow:d.follow,counter:d.counter+1,agent:d.agent,compress:d.compress,method:d.method,body:d.body,signal:d.signal,timeout:d.timeout,size:d.size};if(!G(d.url,o)||(r=d.url,new $(o).protocol!==new $(r).protocol))for(let t of["authorization","www-authenticate","cookie","cookie2"])a.headers.delete(t);if(303!==t.statusCode&&d.body&&null===E(d)){s(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),k();return}(303===t.statusCode||(301===t.statusCode||302===t.statusCode)&&"POST"===d.method)&&(a.method="GET",a.body=void 0,a.headers.delete("content-length")),i(V(new q(o,a))),k();return}}t.once("end",function(){y&&y.removeEventListener("abort",w)});let n=t.pipe(new Y),o={url:d.url,status:t.statusCode,statusText:t.statusMessage,headers:e,size:d.size,timeout:d.timeout,counter:d.counter},h=e.get("Content-Encoding");if(!d.compress||"HEAD"===d.method||null===h||204===t.statusCode||304===t.statusCode)return void i(v=new B(n,o));let u={flush:a.default.Z_SYNC_FLUSH,finishFlush:a.default.Z_SYNC_FLUSH};if("gzip"==h||"x-gzip"==h)return void i(v=new B(n=n.pipe(a.default.createGunzip(u)),o));if("deflate"==h||"x-deflate"==h){let e=t.pipe(new Y);e.once("data",function(t){i(v=new B(n=(15&t[0])==8?n.pipe(a.default.createInflate()):n.pipe(a.default.createInflateRaw()),o))}),e.on("end",function(){v||i(v=new B(n,o))});return}"br"==h&&"function"==typeof a.default.createBrotliDecompress?i(v=new B(n=n.pipe(a.default.createBrotliDecompress()),o)):i(v=new B(n,o))}),null===(p=d.body)?C.end():m(p)?p.stream().pipe(C):Buffer.isBuffer(p)?(C.write(p),C.end()):p.pipe(C)})}function W(t,e){t.destroy?t.destroy(e):(t.emit("error",e),t.end())}V.isRedirect=function(t){return 301===t||302===t||303===t||307===t||308===t},V.Promise=t.g.Promise,t.s(["AbortError",()=>K,"FetchError",()=>f,"Headers",()=>T,"Request",()=>q,"Response",()=>B,"default",0,V])},77538,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=new WeakMap,i=new WeakMap;function s(t){let e=n.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function o(t){if(null!=t.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault())}function a(t,e){n.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let t=0;t<r.length;++t){let e=r[t];e in this||Object.defineProperty(this,e,h(e))}}function h(t){return{get(){return s(this).event[t]},set(e){s(this).event[t]=e},configurable:!0,enumerable:!0}}function u(t,e){s(t).passiveListener=e}a.prototype={get type(){return s(this).event.type},get target(){return s(this).eventTarget},get currentTarget(){return s(this).currentTarget},composedPath(){let t=s(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return s(this).eventPhase},stopPropagation(){let t=s(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){let t=s(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return!!s(this).event.bubbles},get cancelable(){return!!s(this).event.cancelable},preventDefault(){o(s(this))},get defaultPrevented(){return s(this).canceled},get composed(){return!!s(this).event.composed},get timeStamp(){return s(this).timeStamp},get srcElement(){return s(this).eventTarget},get cancelBubble(){return s(this).stopped},set cancelBubble(value){if(!value)return;let t=s(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!s(this).canceled},set returnValue(value){value||o(s(this))},initEvent(){}},Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});let c=new WeakMap;function l(t){return null!==t&&"object"==typeof t}function f(t){let e=c.get(t);if(null==e)throw TypeError("'this' is expected an EventTarget object, but got another value.");return e}function p(t,e){Object.defineProperty(t,`on${e}`,{get(){let t=f(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||l(t)||(t=null);let r=f(this),n=null,i=r.get(e);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(null!==t){let i={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(e,i):n.next=i}},configurable:!0,enumerable:!0})}function d(t){function e(){g.call(this)}e.prototype=Object.create(g.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)p(e.prototype,t[r]);return e}function g(){if(this instanceof g)return void c.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return d(arguments[0]);if(arguments.length>0){let t=Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return d(t)}throw TypeError("Cannot call a class as a function")}g.prototype={addEventListener(t,e,r){if(null==e)return;if("function"!=typeof e&&!l(e))throw TypeError("'listener' should be a function or an object.");let n=f(this),i=l(r),s=(i?r.capture:r)?1:2,o={listener:e,listenerType:s,passive:i&&!!r.passive,once:i&&!!r.once,next:null},a=n.get(t);if(void 0===a)return void n.set(t,o);let h=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;h=a,a=a.next}h.next=o},removeEventListener(t,e,r){if(null==e)return;let n=f(this),i=(l(r)?r.capture:r)?1:2,s=null,o=n.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===i)return void(null!==s?s.next=o.next:null!==o.next?n.set(t,o.next):n.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw TypeError('"event.type" should be a string.');let e=f(this),r=t.type,n=e.get(r);if(null==n)return!0;let o=new(function t(e){if(null==e||e===Object.prototype)return a;let r=i.get(e);return null==r&&(r=function(t,e){let r=Object.keys(e);if(0===r.length)return t;function n(e,r){t.call(this,e,r)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let o=r[i];if(!(o in t.prototype)){let t="function"==typeof Object.getOwnPropertyDescriptor(e,o).value;Object.defineProperty(n.prototype,o,t?function(t){return{value(){let e=s(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}(o):h(o))}}return n}(t(Object.getPrototypeOf(e)),e),i.set(e,r)),r}(Object.getPrototypeOf(t)))(this,t),c=null;for(;null!=n;){if(n.once?null!==c?c.next=n.next:null!==n.next?e.set(r,n.next):e.delete(r):c=n,u(o,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,o)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(o);if(s(o).immediateStopped)break;n=n.next}return u(o,null),s(o).eventPhase=0,s(o).currentTarget=null,!o.defaultPrevented}},Object.defineProperty(g.prototype,"constructor",{value:g,configurable:!0,writable:!0}),r.defineEventAttribute=p,r.EventTarget=g,r.default=g,e.exports=g,e.exports.EventTarget=e.exports.default=g,e.exports.defineEventAttribute=p},37282,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t.r(77538);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=i.get(this);if("boolean"!=typeof t)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}}n.defineEventAttribute(AbortSignal.prototype,"abort");let i=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class s{constructor(){o.set(this,function(){let t=Object.create(AbortSignal.prototype);return n.EventTarget.call(t),i.set(t,!1),t}())}get signal(){return a(this)}abort(){var t;t=a(this),!1===i.get(t)&&(i.set(t,!0),t.dispatchEvent({type:"abort"}))}}let o=new WeakMap;function a(t){let e=o.get(t);if(null==e)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===t?"null":typeof t}`);return e}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),r.AbortController=s,r.AbortSignal=AbortSignal,r.default=s,e.exports=s,e.exports.AbortController=e.exports.default=s,e.exports.AbortSignal=AbortSignal},25471,(t,e,r)=>{e.exports=t.r(7818).version},89056,(t,e,r)=>{let n=t.r(56569).default,i=t.r(37282).default,s=t.r(27937),o=t.r(10229),a=t.r(25471),h={auth_key:!0,auth_timestamp:!0,auth_version:!0,auth_signature:!0,body_md5:!0};function u(t,e){let r=Date.now()/1e3|0,n={auth_key:t.key,auth_timestamp:r,auth_version:"1.0"};if(e.body&&(n.body_md5=o.getMD5(e.body)),e.params)for(let t in e.params){if(void 0!==h[t])throw Error(t+" is a required parameter and cannot be overidden");n[t]=e.params[t]}let i=e.method.toUpperCase(),s=o.toOrderedArray(n).join("&"),a=[i,e.path,s].join("\n");return s+("&auth_signature="+t.sign(a))}r.send=function(t,e){let r,o,h=e.method,c=t.prefixPath(e.path),l=e.body?JSON.stringify(e.body):void 0,f=`${t.getBaseURL()}${c}?${u(t.token,{method:h,path:c,params:e.params,body:l})}`,p={"x-pusher-library":"pusher-http-node "+a};if(l&&(p["content-type"]="application/json"),t.timeout){let e=new i;o=setTimeout(()=>e.abort(),t.timeout),r=e.signal}return n(f,{method:h,body:l,headers:p,signal:r,agent:t.agent}).then(t=>(clearTimeout(o),t.status>=400)?t.text().then(e=>{throw new s.RequestError("Unexpected status code "+t.status,f,void 0,t.status,e)}):t,t=>{throw clearTimeout(o),new s.RequestError("Request failed with an error",f,t)})},r.createSignedQueryString=u},65518,(t,e,r)=>{let n=t.r(54799),i=t.r(10229);e.exports=class{constructor(t,e){this.key=t,this.secret=e}sign(t){return n.createHmac("sha256",this.secret).update(Buffer.from(t)).digest("hex")}verify(t,e){return i.secureCompare(this.sign(t),e)}}},91273,(t,e,r)=>{!function(n){"use strict";function i(t,e){if(t instanceof Boolean||"boolean"==typeof t||(e instanceof Object||(e={}),!1===e.allowEmpty&&""===t))return!1;var r="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?",n="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)";return!0===e.mimeRequired?r=n+r:!0===e.allowMime&&(r=n+"?"+r),!1===e.paddingRequired&&(r="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),RegExp("^"+r+"$","gi").test(t)}if(void 0!==r)e.exports&&(r=e.exports=i),r.isBase64=i;else if("function"==typeof define&&define.amd)void 0!==i&&t.v(i);else n.isBase64=i}(t.e)},46650,(t,e,r)=>{let n=t.r(65518),i=t.r(91273);function s(t){let e=!1;if(void 0!==(t=t||{}).useTLS&&void 0!==t.encrypted)throw Error("Cannot set both `useTLS` and `encrypted` configuration options");if(void 0!==t.useTLS?e=t.useTLS:void 0!==t.encrypted&&(console.warn("`encrypted` option is deprecated in favor of `useTLS`"),e=t.encrypted),this.scheme=t.scheme||(e?"https":"http"),this.port=t.port,this.appId=t.appId,this.token=new n(t.key,t.secret),this.timeout=t.timeout,this.agent=t.agent,void 0!==t.encryptionMasterKey){if(void 0!==t.encryptionMasterKeyBase64)throw Error("Do not specify both encryptionMasterKey and encryptionMasterKeyBase64. encryptionMasterKey is deprecated, please specify only encryptionMasterKeyBase64.");if(console.warn("`encryptionMasterKey` option is deprecated in favor of `encryptionMasterKeyBase64`"),"string"!=typeof t.encryptionMasterKey)throw Error("encryptionMasterKey must be a string");if(32!==t.encryptionMasterKey.length)throw Error("encryptionMasterKey must be 32 bytes long, but the string '"+t.encryptionMasterKey+"' is "+t.encryptionMasterKey.length+" bytes long");this.encryptionMasterKey=Buffer.from(t.encryptionMasterKey)}if(void 0!==t.encryptionMasterKeyBase64){if("string"!=typeof t.encryptionMasterKeyBase64)throw Error("encryptionMasterKeyBase64 must be a string");if(!i(t.encryptionMasterKeyBase64))throw Error("encryptionMasterKeyBase64 must be valid base64");let e=Buffer.from(t.encryptionMasterKeyBase64,"base64");if(32!==e.length)throw Error("encryptionMasterKeyBase64 must decode to 32 bytes, but the string "+t.encryptionMasterKeyBase64+"' decodes to "+e.length+" bytes");this.encryptionMasterKey=e}}s.prototype.prefixPath=function(){throw"NotImplementedError: #prefixPath should be implemented by subclasses"},s.prototype.getBaseURL=function(){let t=this.port?":"+this.port:"";return this.scheme+"://"+this.host+t},e.exports=s},62871,(t,e,r)=>{let n=t.r(46650);function i(t){n.call(this,t),t.host?this.host=t.host:t.cluster?this.host="api-"+t.cluster+".pusher.com":this.host="api.pusherapp.com"}Object.assign(i.prototype,n.prototype),i.prototype.prefixPath=function(t){return"/apps/"+this.appId+t},e.exports=i},5426,(t,e,r)=>{let n=t.r(27937),i=t.r(65518);function s(t,e){if(this.token=t,this.key=e.headers["x-pusher-key"],this.signature=e.headers["x-pusher-signature"],this.contentType=e.headers["content-type"],this.body=e.rawBody,this.isContentTypeValid())try{this.data=JSON.parse(this.body)}catch(t){}}s.prototype.isValid=function(t){if(!this.isBodyValid())return!1;(t=t||[])instanceof Array||(t=[t]);let e=[this.token].concat(t);for(let t in e){let r=e[t];if(r instanceof i==!1&&(r=new i(r.key,r.secret)),this.key==r.key&&r.verify(this.body,this.signature))return!0}return!1},s.prototype.isContentTypeValid=function(){return"application/json"===this.contentType},s.prototype.isBodyValid=function(){return void 0!==this.data},s.prototype.getData=function(){if(!this.isBodyValid())throw new n.WebHookError("Invalid WebHook body",this.contentType,this.body,this.signature);return this.data},s.prototype.getEvents=function(){return this.getData().events},s.prototype.getTime=function(){return new Date(this.getData().time_ms)},e.exports=s},74648,(t,e,r)=>{let n=t.r(54799),i=t.r(92509),s=t.r(635),o=t.r(27937),a=t.r(51148),h=t.r(89056),u=t.r(62871),c=t.r(65518),l=t.r(5426),f=function(t){if("string"!=typeof t||""===t||t.match(/[^A-Za-z0-9_\-=@,.;]/))throw Error("Invalid channel name: '"+t+"'");if(t.length>200)throw Error("Channel name too long: '"+t+"'")},p=function(t){if("string"!=typeof t||""===t||!t.match(/^\d+\.\d+$/))throw Error("Invalid socket id: '"+t+"'")},d=function(t){if("string"!=typeof t||""===t)throw Error("Invalid user id: '"+t+"'")},g=function(t){if(null==t||"object"!=typeof t)throw Error("Invalid user data: '"+t+"'");d(t.id)};function b(t){this.config=new u(t)}b.forURL=function(t,e){let r=i.parse(t),n=r.pathname.split("/"),s=r.auth.split(":");return new b(Object.assign({},e||{},{scheme:r.protocol.replace(/:$/,""),host:r.hostname,port:parseInt(r.port,10)||void 0,appId:parseInt(n[n.length-1],10),key:s[0],secret:s[1]}))},b.forCluster=function(t,e){return new b(Object.assign({},e||{},{host:"api-"+t+".pusher.com"}))},b.prototype.authorizeChannel=function(t,e,r){return p(t),f(e),s.getSocketSignature(this,this.config.token,e,t,r)},b.prototype.authenticate=b.prototype.authorizeChannel,b.prototype.authenticateUser=function(t,e){return p(t),g(e),s.getSocketSignatureForUser(this.config.token,t,e)},b.prototype.sendToUser=function(t,e,r){if(e.length>200)throw Error("Too long event name: '"+e+"'");return d(t),a.trigger(this,[`#server-to-user-${t}`],e,r)},b.prototype.terminateUserConnections=function(t){return d(t),this.post({path:`/users/${t}/terminate_connections`,body:{}})},b.prototype.trigger=function(t,e,r,n){if(n&&n.socket_id&&p(n.socket_id),t instanceof Array||(t=[t]),e.length>200)throw Error("Too long event name: '"+e+"'");if(t.length>100)throw Error("Can't trigger a message to more than 100 channels");for(let e=0;e<t.length;e++)f(t[e]);return a.trigger(this,t,e,r,n)},b.prototype.triggerBatch=function(t){return a.triggerBatch(this,t)},b.prototype.post=function(t){return h.send(this.config,Object.assign({},t,{method:"POST"}))},b.prototype.get=function(t){return h.send(this.config,Object.assign({},t,{method:"GET"}))},b.prototype.webhook=function(t){return new l(this.config.token,t)},b.prototype.createSignedQueryString=function(t){return h.createSignedQueryString(this.config.token,t)},b.prototype.channelSharedSecret=function(t){return n.createHash("sha256").update(Buffer.concat([Buffer.from(t),this.config.encryptionMasterKey])).digest()},b.Token=c,b.RequestError=o.RequestError,b.WebHookError=o.WebHookError,e.exports=b},35683,(t,e,r)=>{e.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=21)}([function(e,r){e.exports=t.r(24361)},function(t,e,r){var n=r(22),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(23).EventEmitter,s=r(0),o=r(24),a=r(9),h=r(25),u=function(t,e,r){i.call(this),u.validateOptions(r||{},["maxLength","masking","requireMasking","protocols"]),this._request=t,this._reader=new h,this._options=r||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new a,this.__queue=[],this.readyState=0,this.url=e,this.io=new o.IO(this),this.messages=new o.Messages(this),this._bindEventListeners()};s.inherits(u,i),u.isWebSocket=function(t){var e=t.headers.connection||"",r=t.headers.upgrade||"";return"GET"===t.method&&e.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===r.toLowerCase()},u.validateOptions=function(t,e){for(var r in t)if(0>e.indexOf(r))throw Error("Unrecognized option: "+r)};var c={MAX_LENGTH:0x3ffffff,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var t=this;this.messages.on("error",function(){}),this.on("message",function(e){var r=t.messages;r.readable&&r.emit("data",e.data)}),this.on("error",function(e){var r=t.messages;r.readable&&r.emit("error",e)}),this.on("close",function(){var e=t.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(t){return!1},setHeader:function(t,e){return!(this.readyState>0)&&(this._headers.set(t,e),!0)},start:function(){var t;if(0!==this.readyState)return!1;if(!u.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{t=this._handshakeResponse()}catch(t){return this._failHandshake(t)}return this._write(t),-1!==this._stage&&this._open(),!0},_failHandshake:function(t){var e=new a;return e.set("Content-Type","text/plain"),e.set("Content-Length",n.byteLength(t.message,"utf8")),e=["HTTP/1.1 400 Bad Request",e.toString(),t.message],this._write(n.from(e.join("\r\n"),"utf8")),this._fail("protocol_error",t.message),!1},text:function(t){return this.frame(t)},binary:function(t){return!1},ping:function(){return!1},pong:function(){return!1},close:function(t,e){return 1===this.readyState&&(this.readyState=3,this.emit("close",new u.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(t){this.frame.apply(this,t)},this),this.__queue=[],this.emit("open",new u.OpenEvent)},_queue:function(t){return this.__queue.push(t),!0},_write:function(t){var e=this.io;e.readable&&e.emit("data",t)},_fail:function(t,e){this.readyState=2,this.emit("error",Error(e)),this.close()}};for(var l in c)u.prototype[l]=c[l];u.ConnectEvent=function(){},u.OpenEvent=function(){},u.CloseEvent=function(t,e){this.code=t,this.reason=e},u.MessageEvent=function(t){this.data=t},u.PingEvent=function(t){this.data=t},u.PongEvent=function(t){this.data=t},t.exports=u},function(e,r){e.exports=t.r(54799)},function(t,e,r){"use strict";var n=r(2),i=r(26),s=r(37);t.exports={client:function(t,e){return void 0===(e=e||{}).masking&&(e.masking=!0),new i(t,e)},server:function(t){return void 0===(t=t||{}).requireMasking&&(t.requireMasking=!0),new s(t)},http:function(){return s.http.apply(s,arguments)},isSecureRequest:function(t){return s.isSecureRequest(t)},isWebSocket:function(t){return n.isWebSocket(t)},validateOptions:function(t,e){n.validateOptions(t,e)}}},function(e,r){e.exports=t.r(88947)},function(e,r){e.exports=t.r(92509)},function(t,e,r){"use strict";var n=function(t,e){for(var r in this.type=t,e)this[r]=e[r]};n.prototype.initEvent=function(t,e,r){this.type=t,this.bubbles=e,this.cancelable=r},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,t.exports=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",r=0;r<t.length-2;r+=3){var n=t[r]<<16|t[r+1]<<8|t[r+2];e+=this._encodeByte(n>>>18&63),e+=this._encodeByte(n>>>12&63),e+=this._encodeByte(n>>>6&63),e+=this._encodeByte(n>>>0&63)}var i=t.length-r;if(i>0){var n=t[r]<<16|(2===i?t[r+1]<<8:0);e+=this._encodeByte(n>>>18&63),e+=this._encodeByte(n>>>12&63),2===i?e+=this._encodeByte(n>>>6&63):e+=this._paddingCharacter||"",e+=this._paddingCharacter||""}return e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),r=t.length-e,n=new Uint8Array(this.maxDecodedLength(r)),i=0,s=0,o=0,a=0,h=0,u=0,c=0;s<r-4;s+=4)a=this._decodeChar(t.charCodeAt(s+0)),h=this._decodeChar(t.charCodeAt(s+1)),u=this._decodeChar(t.charCodeAt(s+2)),c=this._decodeChar(t.charCodeAt(s+3)),n[i++]=a<<2|h>>>4,n[i++]=h<<4|u>>>2,n[i++]=u<<6|c,o|=256&a,o|=256&h,o|=256&u,o|=256&c;if(s<r-1&&(a=this._decodeChar(t.charCodeAt(s)),h=this._decodeChar(t.charCodeAt(s+1)),n[i++]=a<<2|h>>>4,o|=256&a,o|=256&h),s<r-2&&(u=this._decodeChar(t.charCodeAt(s+2)),n[i++]=h<<4|u>>>2,o|=256&u),s<r-3&&(c=this._decodeChar(t.charCodeAt(s+3)),n[i++]=u<<6|c,o|=256&c),0!==o)throw Error("Base64Coder: incorrect characters for decoding");return n},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,String.fromCharCode(e+=62-t>>>8&3)},t.prototype._decodeChar=function(t){return 256+((42-t&t-44)>>>8&-256+t-43+62)+((46-t&t-48)>>>8&-256+t-47+63)+((47-t&t-58)>>>8&-256+t-48+52)+((64-t&t-91)>>>8&-256+t-65+0)+((96-t&t-123)>>>8&-256+t-97+26)},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var r=t.length-1;r>=0&&t[r]===this._paddingCharacter;r--)e++;if(t.length<4||e>2)throw Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=s;var o=new s;e.encode=function(t){return o.encode(t)},e.decode=function(t){return o.decode(t)};var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,String.fromCharCode(e+=62-t>>>8&49)},e.prototype._decodeChar=function(t){return 256+((44-t&t-46)>>>8&-256+t-45+62)+((94-t&t-96)>>>8&-256+t-95+63)+((47-t&t-58)>>>8&-256+t-48+52)+((64-t&t-91)>>>8&-256+t-65+0)+((96-t&t-123)>>>8&-256+t-97+26)},e}(s);e.URLSafeCoder=a;var h=new a;e.encodeURLSafe=function(t){return h.encode(t)},e.decodeURLSafe=function(t){return h.decode(t)},e.encodedLength=function(t){return o.encodedLength(t)},e.maxDecodedLength=function(t){return o.maxDecodedLength(t)},e.decodedLength=function(t){return o.decodedLength(t)}},function(t,e,r){"use strict";var n=function(){this.clear()};n.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],n.prototype.clear=function(){this._sent={},this._lines=[]},n.prototype.set=function(t,e){if(void 0!==e){t=this._strip(t),e=this._strip(e);var r=t.toLowerCase();(!this._sent.hasOwnProperty(r)||this.ALLOWED_DUPLICATES.indexOf(r)>=0)&&(this._sent[r]=!0,this._lines.push(t+": "+e+"\r\n"))}},n.prototype.toString=function(){return this._lines.join("")},n.prototype._strip=function(t){return t.toString().replace(/^ */,"").replace(/ *$/,"")},t.exports=n},function(t,e,r){"use strict";var n=r(27).HTTPParser,i=r(1).Buffer,s={request:n.REQUEST||"request",response:n.RESPONSE||"response"},o=function(t){this._type=t,this._parser=new n(s[t]),this._complete=!1,this.headers={};var e=null,r=this;this._parser.onHeaderField=function(t,r,n){e=t.toString("utf8",r,r+n).toLowerCase()},this._parser.onHeaderValue=function(t,n,i){var s=t.toString("utf8",n,n+i);r.headers.hasOwnProperty(e)?r.headers[e]+=", "+s:r.headers[e]=s},this._parser.onHeadersComplete=this._parser[n.kOnHeadersComplete]=function(t,e,n,i,s,a){var h=arguments[0];if("object"==typeof h&&(i=h.method,s=h.url,a=h.statusCode,n=h.headers),r.method="number"==typeof i?o.METHODS[i]:i,r.statusCode=a,r.url=s,n){for(var u,c,l=0,f=n.length;l<f;l+=2)u=n[l].toLowerCase(),c=n[l+1],r.headers.hasOwnProperty(u)?r.headers[u]+=", "+c:r.headers[u]=c;r._complete=!0}}};o.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var a=process.version?process.version.match(/[0-9]+/g).map(function(t){return parseInt(t,10)}):[];0===a[0]&&12===a[1]&&(o.METHODS[16]="REPORT",o.METHODS[17]="MKACTIVITY",o.METHODS[18]="CHECKOUT",o.METHODS[19]="MERGE",o.METHODS[20]="M-SEARCH",o.METHODS[21]="NOTIFY",o.METHODS[22]="SUBSCRIBE",o.METHODS[23]="UNSUBSCRIBE",o.METHODS[24]="PATCH",o.METHODS[25]="PURGE"),o.prototype.isComplete=function(){return this._complete},o.prototype.parse=function(t){var e=this._parser.execute(t,0,t.length);if("number"!=typeof e){this.error=e,this._complete=!0;return}this._complete&&(this.body=e<t.length?t.slice(e):i.alloc(0))},t.exports=o},function(t,e,r){"use strict";var n=r(5).Stream,i=r(0),s=r(4),o=r(16),a=r(7),h=function(t){t=t||{},s.validateOptions(t,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var e=t.headers;if(e)for(var r in e)this._driver.setHeader(r,e[r]);var n=t.extensions;n&&[].concat(n).forEach(this._driver.addExtension,this._driver),this._ping=t.ping,this._pingId=0,this.readyState=h.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(t){i._open()}),this._driver.on("message",function(t){i._receiveMessage(t.data)}),this._driver.on("close",function(t){i._beginClose(t.reason,t.code)}),this._driver.on("error",function(t){i._emitError(t.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};i.inherits(h,n),h.CONNECTING=0,h.OPEN=1,h.CLOSING=2,h.CLOSED=3,h.CLOSE_TIMEOUT=3e4;var u={write:function(t){return this.send(t)},end:function(t){void 0!==t&&this.send(t),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(t){return!(this.readyState>h.OPEN)&&(t instanceof Buffer||(t=String(t)),this._driver.messages.write(t))},ping:function(t,e){return!(this.readyState>h.OPEN)&&this._driver.ping(t,e)},close:function(t,e){if(void 0===t&&(t=1e3),void 0===e&&(e=""),1e3!==t&&(t<3e3||t>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+t+" is neither.");this.readyState!==h.CLOSED&&(this.readyState=h.CLOSING);var r=this;this._closeTimer=setTimeout(function(){r._beginClose("",1006)},h.CLOSE_TIMEOUT),this._driver.close(e,t)},_configureStream:function(){var t=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(e){this._stream.on(e,function(){t._finalizeClose()})},this),this._stream.on("error",function(e){t._emitError("Network error: "+t.url+": "+e.message),t._finalizeClose()})},_open:function(){if(this.readyState===h.CONNECTING){this.readyState=h.OPEN,this.protocol=this._driver.protocol||"";var t=new a("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},_receiveMessage:function(t){if(this.readyState>h.OPEN)return!1;this.readable&&this.emit("data",t);var e=new a("message",{data:t});e.initEvent("message",!1,!1),this.dispatchEvent(e)},_emitError:function(t){if(!(this.readyState>=h.CLOSING)){var e=new a("error",{message:t});e.initEvent("error",!1,!1),this.dispatchEvent(e)}},_beginClose:function(t,e){this.readyState!==h.CLOSED&&(this.readyState=h.CLOSING,this._closeParams=[t,e],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==h.CLOSED){this.readyState=h.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var t=this._closeParams?this._closeParams[0]:"",e=new a("close",{code:this._closeParams?this._closeParams[1]:1006,reason:t});e.initEvent("close",!1,!1),this.dispatchEvent(e)}}};for(var c in u)h.prototype[c]=u[c];for(var l in o)h.prototype[l]=o[l];t.exports=h},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(3),s=r(0),o=r(29),a=r(2),h=r(34),u=r(35),c=function(t,e,r){if(a.apply(this,arguments),this._extensions=new o,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var n=this._request.headers["sec-websocket-protocol"],i=this._protocols;void 0!==n&&("string"==typeof n&&(n=n.split(/ *, */)),this.protocol=n.filter(function(t){return i.indexOf(t)>=0})[0]),this.version="hybi-"+c.VERSION}};s.inherits(c,a),c.VERSION="13",c.mask=function(t,e,r){if(!e||0===e.length)return t;r=r||0;for(var n=0,i=t.length-r;n<i;n++)t[r+n]=t[r+n]^e[n%4];return t},c.generateAccept=function(t){var e=i.createHash("sha1");return e.update(t+c.GUID),e.digest("base64")},c.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var l={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(t){return this._extensions.add(t),!0},parse:function(t){this._reader.put(t);for(var e=!0;e;)switch(this._stage){case 0:(e=this._reader.read(1))&&this._parseOpcode(e[0]);break;case 1:(e=this._reader.read(1))&&this._parseLength(e[0]);break;case 2:(e=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(e);break;case 3:(e=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=e);break;case 4:(e=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(e));break;default:e=null}},text:function(t){return!(this.readyState>1)&&this.frame(t,"text")},binary:function(t){return!(this.readyState>1)&&this.frame(t,"binary")},ping:function(t,e){return!(this.readyState>1)&&(t=t||"",e&&(this._pingCallbacks[t]=e),this.frame(t,"ping"))},pong:function(t){return!(this.readyState>1)&&(t=t||"",this.frame(t,"pong"))},close:function(t,e){return(t=t||"",e=e||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new a.CloseEvent(e,t)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(t,"close",e)},this),!0)},frame:function(t,e,r){if(this.readyState<=0)return this._queue([t,e,r]);if(this.readyState>2)return!1;t instanceof Array&&(t=n.from(t)),"number"==typeof t&&(t=t.toString());var s,o,a=new u,c="string"==typeof t;a.rsv1=a.rsv2=a.rsv3=!1,a.opcode=this.OPCODES[e||(c?"text":"binary")],s=c?n.from(t,"utf8"):t,r&&(o=s,(s=n.allocUnsafe(2+o.length)).writeUInt16BE(r,0),o.copy(s,2)),a.data=s;var l=function(t){var e=new h;e.final=!0,e.rsv1=t.rsv1,e.rsv2=t.rsv2,e.rsv3=t.rsv3,e.opcode=t.opcode,e.masked=!!this._masking,e.length=t.data.length,e.payload=t.data,e.masked&&(e.maskingKey=i.randomBytes(4)),this._sendFrame(e)};return this.MESSAGE_OPCODES.indexOf(a.opcode)>=0?this._extensions.processOutgoingMessage(a,function(t,e){if(t)return this._fail("extension_error",t.message);l.call(this,e)},this):l.call(this,a),!0},_sendFrame:function(t){var e=t.length,r=e<=125?2:e<=65535?4:10,i=r+4*!!t.masked,s=n.allocUnsafe(i+e),o=t.masked?this.MASK:0;s[0]=(t.final?this.FIN:0)|(t.rsv1?this.RSV1:0)|(t.rsv2?this.RSV2:0)|(t.rsv3?this.RSV3:0)|t.opcode,e<=125?s[1]=o|e:e<=65535?(s[1]=126|o,s.writeUInt16BE(e,2)):(s[1]=127|o,s.writeUInt32BE(Math.floor(e/0x100000000),2),s.writeUInt32BE(e%0x100000000,6)),t.payload.copy(s,i),t.masked&&(t.maskingKey.copy(s,r),c.mask(s,t.maskingKey,i)),this._write(s)},_handshakeResponse:function(){var t=this._request.headers["sec-websocket-key"],e=this._request.headers["sec-websocket-version"];if(e!==c.VERSION)throw Error("Unsupported WebSocket version: "+e);if("string"!=typeof t)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",c.generateAccept(t)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var r=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);r&&this._headers.set("Sec-WebSocket-Extensions",r);var i=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return n.from(i.join("\r\n"),"utf8")},_shutdown:function(t,e,r){delete this._frame,delete this._message,this._stage=5;var n=1===this.readyState;this.readyState=2,this._extensions.close(function(){n&&this.frame(e,"close",t),this.readyState=3,r&&this.emit("error",Error(e)),this.emit("close",new a.CloseEvent(t,e))},this)},_fail:function(t,e){this.readyState>1||this._shutdown(this.ERRORS[t],e,!0)},_parseOpcode:function(t){var e=[this.RSV1,this.RSV2,this.RSV3].map(function(e){return(t&e)===e}),r=this._frame=new h;return(r.final=(t&this.FIN)===this.FIN,r.rsv1=e[0],r.rsv2=e[1],r.rsv3=e[2],r.opcode=t&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(r))?0>this.OPCODE_CODES.indexOf(r.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+r.opcode):0>this.MESSAGE_OPCODES.indexOf(r.opcode)&&!r.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+r.opcode):this._message&&this.OPENING_OPCODES.indexOf(r.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+ +!!r.rsv1+", reserved2 = "+ +!!r.rsv2+", reserved3 = "+ +!!r.rsv3)},_parseLength:function(t){var e=this._frame;if(e.masked=(t&this.MASK)===this.MASK,e.length=t&this.LENGTH,e.length>=0&&e.length<=125){if(this._stage=e.masked?3:4,!this._checkFrameLength())return}else this._stage=2,e.lengthBytes=126===e.length?2:8;if(this._requireMasking&&!e.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(t){var e=this._frame;if(e.length=this._readUInt(t),this._stage=e.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(e.opcode)&&e.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+e.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(t){var e,r,n,i,s,o=this._frame,h=o.payload=c.mask(t,o.maskingKey),l=o.opcode;if(delete this._frame,l===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(o)}if((l===this.OPCODES.text||l===this.OPCODES.binary)&&(this._message=new u,this._message.pushFrame(o)),o.final&&this.MESSAGE_OPCODES.indexOf(l)>=0)return this._emitMessage(this._message);l===this.OPCODES.close&&(r=h.length>=2?h.readUInt16BE(0):null,n=h.length>2?this._encode(h.slice(2)):null,0!==h.length&&!(null!==r&&r>=this.MIN_RESERVED_ERROR&&r<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(r)&&(r=this.ERRORS.protocol_error),(h.length>125||h.length>2&&!n)&&(r=this.ERRORS.protocol_error),this._shutdown(r||this.DEFAULT_ERROR_CODE,n||"")),l===this.OPCODES.ping&&(this.frame(h,"pong"),this.emit("ping",new a.PingEvent(h.toString()))),l===this.OPCODES.pong&&(s=(i=this._pingCallbacks)[e=this._encode(h)],delete i[e],s&&s(),this.emit("pong",new a.PongEvent(h.toString())))},_emitMessage:function(t){var t=this._message;t.read(),delete this._message,this._extensions.processIncomingMessage(t,function(t,e){if(t)return this._fail("extension_error",t.message);var r=e.data;if(e.opcode===this.OPCODES.text&&(r=this._encode(r)),null===r)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new a.MessageEvent(r))},this)},_encode:function(t){try{var e=t.toString("binary",0,t.length);if(!this.UTF8_MATCH.test(e))return null}catch(t){}return t.toString("utf8",0,t.length)},_readUInt:function(t){return 2===t.length?t.readUInt16BE(0):0x100000000*t.readUInt32BE(0)+t.readUInt32BE(4)}};for(var f in l)c.prototype[f]=l[f];t.exports=c},function(t,e,r){"use strict";var n=function(t){this._bufferSize=t,this.clear()};n.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},n.prototype.push=function(t){var e=!1,r=!1;this._ringSize<this._bufferSize?e=0===this._tail:this._ringOffset===this._ringSize&&(e=!0,r=0===this._tail),e&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,r&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=t,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},n.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},n.prototype.shift=function(){if(0!==this.length){var t=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,t}},t.exports=n},function(t,e,r){"use strict";var n=r(13),i=function(){this._complete=!1,this._callbacks=new n(i.QUEUE_SIZE)};i.QUEUE_SIZE=4,i.all=function(t){var e=new i,r=t.length,n=r;for(0===r&&e.done();n--;)t[n].then(function(){0==(r-=1)&&e.done()});return e},i.prototype.then=function(t){this._complete?t():this._callbacks.push(t)},i.prototype.done=function(){this._complete=!0;for(var t,e=this._callbacks;t=e.shift();)t()},t.exports=i},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(2),s=r(0),o=function(t,e,r){i.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};s.inherits(o,i);var a={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},parse:function(t){this.readyState>1||(this._reader.put(t),this._reader.eachByte(function(t){var e;switch(this._stage){case -1:this._body.push(t),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(t);break;case 1:if(this._length=(127&t)+128*this._length,this._closing&&0===this._length)return this.close();(128&t)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===t)this._stage=0,e=n.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new i.MessageEvent(e));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(t),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(t){if(0===this.readyState)return this._queue([t]);if(this.readyState>1)return!1;"string"!=typeof t&&(t=t.toString());var e=n.byteLength(t),r=n.allocUnsafe(e+2);return r[0]=0,r.write(t,1),r[r.length-1]=255,this._write(r),!0},_handshakeResponse:function(){var t=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return n.from(t.join("\r\n"),"utf8")},_parseLeadingByte:function(t){(128&t)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var h in a)o.prototype[h]=a[h];t.exports=o},function(t,e,r){"use strict";var n=r(7);t.exports={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(t,e,r){this.on(t,e)},removeEventListener:function(t,e,r){this.removeListener(t,e)},dispatchEvent:function(t){t.target=t.currentTarget=this,t.eventPhase=n.AT_TARGET,this["on"+t.type]&&this["on"+t.type](t),this.emit(t.type,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="utf8: invalid string",i="utf8: invalid source encoding";function s(t){for(var e=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i<128)e+=1;else if(i<2048)e+=2;else if(i<55296)e+=3;else if(i<=57343){if(r>=t.length-1)throw Error(n);r++,e+=4}else throw Error(n)}return e}e.encode=function(t){for(var e=new Uint8Array(s(t)),r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e[r++]=i:(i<2048?e[r++]=192|i>>6:(i<55296?e[r++]=224|i>>12:(n++,i=((1023&i)<<10|1023&t.charCodeAt(n))+65536,e[r++]=240|i>>18,e[r++]=128|i>>12&63),e[r++]=128|i>>6&63),e[r++]=128|63&i)}return e},e.encodedLength=s,e.decode=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(128&n){var s=void 0;if(n<224){if(r>=t.length)throw Error(i);var o=t[++r];if((192&o)!=128)throw Error(i);n=(31&n)<<6|63&o,s=128}else if(n<240){if(r>=t.length-1)throw Error(i);var o=t[++r],a=t[++r];if((192&o)!=128||(192&a)!=128)throw Error(i);n=(15&n)<<12|(63&o)<<6|63&a,s=2048}else if(n<248){if(r>=t.length-2)throw Error(i);var o=t[++r],a=t[++r],h=t[++r];if((192&o)!=128||(192&a)!=128||(192&h)!=128)throw Error(i);n=(15&n)<<18|(63&o)<<12|(63&a)<<6|63&h,s=65536}else throw Error(i);if(n<s||n>=55296&&n<=57343)throw Error(i);if(n>=65536){if(n>1114111)throw Error(i);n-=65536,e.push(String.fromCharCode(55296|n>>10)),n=56320|1023&n}}e.push(String.fromCharCode(n))}return e.join("")}},function(t,e,r){"use strict";var n=r(0),i=r(4),s=r(11),o=function(t,e,r,n,o){o=o||{},this._stream=e,this._driver=i.http(t,{maxLength:o.maxLength,protocols:n});var a=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var h=function(){a._stream.removeListener("data",h)};this._stream.on("data",h),s.call(this,o),process.nextTick(function(){a._driver.start(),a._driver.io.write(r)})}};n.inherits(o,s),o.isWebSocket=function(t){return i.isWebSocket(t)},o.validateOptions=function(t,e){i.validateOptions(t,e)},o.WebSocket=o,o.Client=r(39),o.EventSource=r(42),t.exports=o},function(t,e,r){var n=r(6),i=r(43).spawn,s=r(44);e.XMLHttpRequest=function(){"use strict";var t,e,o=this,a=r(45),h=r(46),u={},c=!1,l={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},f={},p={},d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],g=["TRACE","TRACK","CONNECT"],b=!1,y=!1,m={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(t,e,r,n,i){if(this.abort(),y=!1,!(t&&-1===g.indexOf(t)))throw Error("SecurityError: Request method not allowed");u={method:t,url:e.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},v(this.OPENED)},this.setDisableHeaderCheck=function(t){c=t},this.setRequestHeader=function(t,e){var r;if(this.readyState!==this.OPENED)throw Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(r=t,!c&&(!r||-1!==d.indexOf(r.toLowerCase())))return void console.warn('Refused to set unsafe header "'+t+'"');if(b)throw Error("INVALID_STATE_ERR: send flag is true");t=p[t.toLowerCase()]||t,p[t.toLowerCase()]=t,f[t]=f[t]?f[t]+", "+e:e},this.getResponseHeader=function(t){return"string"==typeof t&&this.readyState>this.OPENED&&e&&e.headers&&e.headers[t.toLowerCase()]&&!y?e.headers[t.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||y)return"";var t="";for(var r in e.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(t+=r+": "+e.headers[r]+"\r\n");return t.substr(0,t.length-2)},this.getRequestHeader=function(t){return"string"==typeof t&&p[t.toLowerCase()]?f[p[t.toLowerCase()]]:""},this.send=function(r){if(this.readyState!==this.OPENED)throw Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(b)throw Error("INVALID_STATE_ERR: send has already been called");var c,d=!1,g=!1,m=n.parse(u.url);switch(m.protocol){case"https:":d=!0;case"http:":c=m.hostname;break;case"file:":g=!0;break;case void 0:case null:case"":c="localhost";break;default:throw Error("Protocol not supported.")}if(g){if("GET"!==u.method)throw Error("XMLHttpRequest: Only GET method is supported");if(u.async)s.readFile(m.pathname,"utf8",function(t,e){t?o.handleError(t):(o.status=200,o.responseText=e,v(o.DONE))});else try{this.responseText=s.readFileSync(m.pathname,"utf8"),this.status=200,v(o.DONE)}catch(t){this.handleError(t)}return}var _=m.port||(d?443:80),E=m.pathname+(m.search?m.search:"");for(var x in l)p[x.toLowerCase()]||(f[x]=l[x]);if(f.Host=c,d&&443===_||80===_||(f.Host+=":"+m.port),u.user){void 0===u.password&&(u.password="");var S=new Buffer(u.user+":"+u.password);f.Authorization="Basic "+S.toString("base64")}"GET"===u.method||"HEAD"===u.method?r=null:r?(f["Content-Length"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),f["Content-Type"]||(f["Content-Type"]="text/plain;charset=UTF-8")):"POST"===u.method&&(f["Content-Length"]=0);var w={host:c,port:_,path:E,method:u.method,headers:f,agent:!1,withCredentials:o.withCredentials};if(y=!1,u.async){var C=d?h.request:a.request;b=!0,o.dispatchEvent("readystatechange");var A=function(t){o.handleError(t)};t=C(w,function r(i){if(301===(e=i).statusCode||302===e.statusCode||303===e.statusCode||307===e.statusCode){u.url=e.headers.location;var s=n.parse(u.url);c=s.hostname,(t=C({hostname:s.hostname,port:s.port,path:s.path,method:303===e.statusCode?"GET":u.method,headers:f,withCredentials:o.withCredentials},r).on("error",A)).end();return}e.setEncoding("utf8"),v(o.HEADERS_RECEIVED),o.status=e.statusCode,e.on("data",function(t){t&&(o.responseText+=t),b&&v(o.LOADING)}),e.on("end",function(){b&&(v(o.DONE),b=!1)}),e.on("error",function(t){o.handleError(t)})}).on("error",A),r&&t.write(r),t.end(),o.dispatchEvent("loadstart")}else{var O=".node-xmlhttprequest-content-"+process.pid,T=".node-xmlhttprequest-sync-"+process.pid;s.writeFileSync(T,"","utf8");for(var k="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(d?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+O+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+O+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+O+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",P=i(process.argv[0],["-e",k]);s.existsSync(T););var D=JSON.parse(s.readFileSync(O,"utf8"));P.stdin.end(),s.unlinkSync(O),D.err?o.handleError(D.err):(e=D.data,o.status=D.data.statusCode,o.responseText=D.data.text,v(o.DONE))}},this.handleError=function(t){this.status=0,this.statusText=t,this.responseText=t.stack,y=!0,v(this.DONE),this.dispatchEvent("error")},this.abort=function(){t&&(t.abort(),t=null),f=l,this.status=0,this.responseText="",this.responseXML="",y=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||b)&&this.readyState!==this.DONE&&(b=!1,v(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(t,e){t in m||(m[t]=[]),m[t].push(e)},this.removeEventListener=function(t,e){t in m&&(m[t]=m[t].filter(function(t){return t!==e}))},this.dispatchEvent=function(t){if("function"==typeof o["on"+t]&&o["on"+t](),t in m)for(var e=0,r=m[t].length;e<r;e++)m[t][e].call(o)};var v=function(t){(t==o.LOADING||o.readyState!==t)&&(o.readyState=t,(u.async||o.readyState<o.OPENED||o.readyState===o.DONE)&&o.dispatchEvent("readystatechange"),o.readyState!==o.DONE||y||(o.dispatchEvent("load"),o.dispatchEvent("loadend")))}}},function(t,e,r){!function(t){"use strict";var e,n=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},i=function(){throw Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=n(),h=n([1]),u=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function b(t,e,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=t[e+s]^r[n+s];return(1&o-1>>>8)-1}function y(t,e,r,n){return b(t,e,r,n,16)}function m(t,e,r,n){return b(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,x=o,S=a,w=h,C=u,A=c,O=l,T=f,k=p,P=d,D=g,U=b,R=y,L=m,B=v,N=_,M=0;M<20;M+=2)C^=(i=E+R|0)<<7|i>>>25,k^=(i=C+E|0)<<9|i>>>23,R^=(i=k+C|0)<<13|i>>>19,E^=(i=R+k|0)<<18|i>>>14,P^=(i=A+x|0)<<7|i>>>25,L^=(i=P+A|0)<<9|i>>>23,x^=(i=L+P|0)<<13|i>>>19,A^=(i=x+L|0)<<18|i>>>14,B^=(i=D+O|0)<<7|i>>>25,S^=(i=B+D|0)<<9|i>>>23,O^=(i=S+B|0)<<13|i>>>19,D^=(i=O+S|0)<<18|i>>>14,w^=(i=N+U|0)<<7|i>>>25,T^=(i=w+N|0)<<9|i>>>23,U^=(i=T+w|0)<<13|i>>>19,N^=(i=U+T|0)<<18|i>>>14,x^=(i=E+w|0)<<7|i>>>25,S^=(i=x+E|0)<<9|i>>>23,w^=(i=S+x|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,O^=(i=A+C|0)<<7|i>>>25,T^=(i=O+A|0)<<9|i>>>23,C^=(i=T+O|0)<<13|i>>>19,A^=(i=C+T|0)<<18|i>>>14,U^=(i=D+P|0)<<7|i>>>25,k^=(i=U+D|0)<<9|i>>>23,P^=(i=k+U|0)<<13|i>>>19,D^=(i=P+k|0)<<18|i>>>14,R^=(i=N+B|0)<<7|i>>>25,L^=(i=R+N|0)<<9|i>>>23,B^=(i=L+R|0)<<13|i>>>19,N^=(i=B+L|0)<<18|i>>>14;E=E+s|0,x=x+o|0,S=S+a|0,w=w+h|0,C=C+u|0,A=A+c|0,O=O+l|0,T=T+f|0,k=k+p|0,P=P+d|0,D=D+g|0,U=U+b|0,R=R+y|0,L=L+m|0,B=B+v|0,N=N+_|0,t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=x>>>0&255,t[5]=x>>>8&255,t[6]=x>>>16&255,t[7]=x>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=C>>>0&255,t[17]=C>>>8&255,t[18]=C>>>16&255,t[19]=C>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=O>>>0&255,t[25]=O>>>8&255,t[26]=O>>>16&255,t[27]=O>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=k>>>0&255,t[33]=k>>>8&255,t[34]=k>>>16&255,t[35]=k>>>24&255,t[36]=P>>>0&255,t[37]=P>>>8&255,t[38]=P>>>16&255,t[39]=P>>>24&255,t[40]=D>>>0&255,t[41]=D>>>8&255,t[42]=D>>>16&255,t[43]=D>>>24&255,t[44]=U>>>0&255,t[45]=U>>>8&255,t[46]=U>>>16&255,t[47]=U>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=B>>>0&255,t[57]=B>>>8&255,t[58]=B>>>16&255,t[59]=B>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,n)}function _(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,x=o,S=a,w=h,C=u,A=c,O=l,T=f,k=p,P=d,D=g,U=b,R=y,L=m,B=v,N=_,M=0;M<20;M+=2)C^=(i=E+R|0)<<7|i>>>25,k^=(i=C+E|0)<<9|i>>>23,R^=(i=k+C|0)<<13|i>>>19,E^=(i=R+k|0)<<18|i>>>14,P^=(i=A+x|0)<<7|i>>>25,L^=(i=P+A|0)<<9|i>>>23,x^=(i=L+P|0)<<13|i>>>19,A^=(i=x+L|0)<<18|i>>>14,B^=(i=D+O|0)<<7|i>>>25,S^=(i=B+D|0)<<9|i>>>23,O^=(i=S+B|0)<<13|i>>>19,D^=(i=O+S|0)<<18|i>>>14,w^=(i=N+U|0)<<7|i>>>25,T^=(i=w+N|0)<<9|i>>>23,U^=(i=T+w|0)<<13|i>>>19,N^=(i=U+T|0)<<18|i>>>14,x^=(i=E+w|0)<<7|i>>>25,S^=(i=x+E|0)<<9|i>>>23,w^=(i=S+x|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,O^=(i=A+C|0)<<7|i>>>25,T^=(i=O+A|0)<<9|i>>>23,C^=(i=T+O|0)<<13|i>>>19,A^=(i=C+T|0)<<18|i>>>14,U^=(i=D+P|0)<<7|i>>>25,k^=(i=U+D|0)<<9|i>>>23,P^=(i=k+U|0)<<13|i>>>19,D^=(i=P+k|0)<<18|i>>>14,R^=(i=N+B|0)<<7|i>>>25,L^=(i=R+N|0)<<9|i>>>23,B^=(i=L+R|0)<<13|i>>>19,N^=(i=B+L|0)<<18|i>>>14;t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=D>>>0&255,t[9]=D>>>8&255,t[10]=D>>>16&255,t[11]=D>>>24&255,t[12]=N>>>0&255,t[13]=N>>>8&255,t[14]=N>>>16&255,t[15]=N>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=k>>>0&255,t[25]=k>>>8&255,t[26]=k>>>16&255,t[27]=k>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255}(t,e,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,r,n,i,s,o){var a,h,u=new Uint8Array(16),c=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=s[h];for(;i>=64;){for(v(c,u,o,E),h=0;h<64;h++)t[e+h]=r[n+h]^c[h];for(h=8,a=1;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(c,u,o,E),h=0;h<i;h++)t[e+h]=r[n+h]^c[h];return 0}function S(t,e,r,n,i){var s,o,a=new Uint8Array(16),h=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(v(h,a,i,E),o=0;o<64;o++)t[e+o]=h[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,e+=64}if(r>0)for(v(h,a,i,E),o=0;o<r;o++)t[e+o]=h[o];return 0}function w(t,e,r,n,i){var s=new Uint8Array(32);_(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return S(t,e,r,o,s)}function C(t,e,r,n,i,s,o){var a=new Uint8Array(32);_(a,s,o,E);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=s[u+16];return x(t,e,r,n,i,h,a)}var A=function(t){var e,r,n,i,s,o,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=(e>>>13|r<<3)&8191,n=255&t[4]|(255&t[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&t[6]|(255&t[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&t[8]|(255&t[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&t[12]|(255&t[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,h=255&t[14]|(255&t[15])<<8,this.r[8]=(a>>>8|h<<8)&8191,this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function O(t,e,r,n,i,s){var o=new A(s);return o.update(r,n,i),o.finish(t,e),0}function T(t,e,r,n,i,s){var o=new Uint8Array(16);return O(o,0,r,n,i,s),y(t,e,o,0)}function k(t,e,r,n,i){var s;if(r<32)return -1;for(C(t,0,e,0,r,n,i),O(t,16,t,32,r-32,t),s=0;s<16;s++)t[s]=0;return 0}function P(t,e,r,n,i){var s,o=new Uint8Array(32);if(r<32||(w(o,0,32,n,i),0!==T(e,16,e,32,r-32,o)))return -1;for(C(t,0,e,0,r,n,i),s=0;s<32;s++)t[s]=0;return 0}function D(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function U(t){var e,r,n=1;for(e=0;e<16;e++)n=Math.floor((r=t[e]+n+65535)/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function R(t,e,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}function L(t,e){var r,i,s,o=n(),a=n();for(r=0;r<16;r++)a[r]=e[r];for(U(a),U(a),U(a),i=0;i<2;i++){for(r=1,o[0]=a[0]-65517;r<15;r++)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,R(a,o,1-s)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function B(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return L(r,t),L(n,e),m(r,0,n,0)}function N(t){var e=new Uint8Array(32);return L(e,t),1&e[0]}function M(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function I(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function F(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function H(t,e,r){var n,i,s=0,o=0,a=0,h=0,u=0,c=0,l=0,f=0,p=0,d=0,g=0,b=0,y=0,m=0,v=0,_=0,E=0,x=0,S=0,w=0,C=0,A=0,O=0,T=0,k=0,P=0,D=0,U=0,R=0,L=0,B=0,N=r[0],M=r[1],I=r[2],F=r[3],H=r[4],j=r[5],z=r[6],q=r[7],K=r[8],$=r[9],Y=r[10],G=r[11],V=r[12],W=r[13],Z=r[14],J=r[15];s+=(n=e[0])*N,o+=n*M,a+=n*I,h+=n*F,u+=n*H,c+=n*j,l+=n*z,f+=n*q,p+=n*K,d+=n*$,g+=n*Y,b+=n*G,y+=n*V,m+=n*W,v+=n*Z,_+=n*J,o+=(n=e[1])*N,a+=n*M,h+=n*I,u+=n*F,c+=n*H,l+=n*j,f+=n*z,p+=n*q,d+=n*K,g+=n*$,b+=n*Y,y+=n*G,m+=n*V,v+=n*W,_+=n*Z,E+=n*J,a+=(n=e[2])*N,h+=n*M,u+=n*I,c+=n*F,l+=n*H,f+=n*j,p+=n*z,d+=n*q,g+=n*K,b+=n*$,y+=n*Y,m+=n*G,v+=n*V,_+=n*W,E+=n*Z,x+=n*J,h+=(n=e[3])*N,u+=n*M,c+=n*I,l+=n*F,f+=n*H,p+=n*j,d+=n*z,g+=n*q,b+=n*K,y+=n*$,m+=n*Y,v+=n*G,_+=n*V,E+=n*W,x+=n*Z,S+=n*J,u+=(n=e[4])*N,c+=n*M,l+=n*I,f+=n*F,p+=n*H,d+=n*j,g+=n*z,b+=n*q,y+=n*K,m+=n*$,v+=n*Y,_+=n*G,E+=n*V,x+=n*W,S+=n*Z,w+=n*J,c+=(n=e[5])*N,l+=n*M,f+=n*I,p+=n*F,d+=n*H,g+=n*j,b+=n*z,y+=n*q,m+=n*K,v+=n*$,_+=n*Y,E+=n*G,x+=n*V,S+=n*W,w+=n*Z,C+=n*J,l+=(n=e[6])*N,f+=n*M,p+=n*I,d+=n*F,g+=n*H,b+=n*j,y+=n*z,m+=n*q,v+=n*K,_+=n*$,E+=n*Y,x+=n*G,S+=n*V,w+=n*W,C+=n*Z,A+=n*J,f+=(n=e[7])*N,p+=n*M,d+=n*I,g+=n*F,b+=n*H,y+=n*j,m+=n*z,v+=n*q,_+=n*K,E+=n*$,x+=n*Y,S+=n*G,w+=n*V,C+=n*W,A+=n*Z,O+=n*J,p+=(n=e[8])*N,d+=n*M,g+=n*I,b+=n*F,y+=n*H,m+=n*j,v+=n*z,_+=n*q,E+=n*K,x+=n*$,S+=n*Y,w+=n*G,C+=n*V,A+=n*W,O+=n*Z,T+=n*J,d+=(n=e[9])*N,g+=n*M,b+=n*I,y+=n*F,m+=n*H,v+=n*j,_+=n*z,E+=n*q,x+=n*K,S+=n*$,w+=n*Y,C+=n*G,A+=n*V,O+=n*W,T+=n*Z,k+=n*J,g+=(n=e[10])*N,b+=n*M,y+=n*I,m+=n*F,v+=n*H,_+=n*j,E+=n*z,x+=n*q,S+=n*K,w+=n*$,C+=n*Y,A+=n*G,O+=n*V,T+=n*W,k+=n*Z,P+=n*J,b+=(n=e[11])*N,y+=n*M,m+=n*I,v+=n*F,_+=n*H,E+=n*j,x+=n*z,S+=n*q,w+=n*K,C+=n*$,A+=n*Y,O+=n*G,T+=n*V,k+=n*W,P+=n*Z,D+=n*J,y+=(n=e[12])*N,m+=n*M,v+=n*I,_+=n*F,E+=n*H,x+=n*j,S+=n*z,w+=n*q,C+=n*K,A+=n*$,O+=n*Y,T+=n*G,k+=n*V,P+=n*W,D+=n*Z,U+=n*J,m+=(n=e[13])*N,v+=n*M,_+=n*I,E+=n*F,x+=n*H,S+=n*j,w+=n*z,C+=n*q,A+=n*K,O+=n*$,T+=n*Y,k+=n*G,P+=n*V,D+=n*W,U+=n*Z,R+=n*J,v+=(n=e[14])*N,_+=n*M,E+=n*I,x+=n*F,S+=n*H,w+=n*j,C+=n*z,A+=n*q,O+=n*K,T+=n*$,k+=n*Y,P+=n*G,D+=n*V,U+=n*W,R+=n*Z,L+=n*J,_+=(n=e[15])*N,E+=n*M,x+=n*I,S+=n*F,w+=n*H,C+=n*j,A+=n*z,O+=n*q,T+=n*K,k+=n*$,P+=n*Y,D+=n*G,U+=n*V,R+=n*W,L+=n*Z,B+=n*J,s+=38*E,o+=38*x,a+=38*S,h+=38*w,u+=38*C,c+=38*A,l+=38*O,f+=38*T,p+=38*k,d+=38*P,g+=38*D,b+=38*U,y+=38*R,m+=38*L,v+=38*B,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=c,t[6]=l,t[7]=f,t[8]=p,t[9]=d,t[10]=g,t[11]=b,t[12]=y,t[13]=m,t[14]=v,t[15]=_}function j(t,e){H(t,e,e)}function z(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=253;r>=0;r--)j(i,i),2!==r&&4!==r&&H(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function q(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=250;r>=0;r--)j(i,i),1!==r&&H(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function K(t,e,r){var i,s,o=new Uint8Array(32),a=new Float64Array(80),h=n(),c=n(),l=n(),f=n(),p=n(),d=n();for(s=0;s<31;s++)o[s]=e[s];for(o[31]=127&e[31]|64,o[0]&=248,M(a,r),s=0;s<16;s++)c[s]=a[s],f[s]=h[s]=l[s]=0;for(s=254,h[0]=f[0]=1;s>=0;--s)R(h,c,i=o[s>>>3]>>>(7&s)&1),R(l,f,i),I(p,h,l),F(h,h,l),I(l,c,f),F(c,c,f),j(f,p),j(d,h),H(h,l,h),H(l,c,p),I(p,h,l),F(h,h,l),j(c,h),F(l,f,d),H(h,l,u),I(h,h,f),H(l,l,h),H(h,f,d),H(f,c,a),j(c,p),R(h,c,i),R(l,f,i);for(s=0;s<16;s++)a[s+16]=h[s],a[s+32]=l[s],a[s+48]=c[s],a[s+64]=f[s];var g=a.subarray(32),b=a.subarray(16);return z(g,g),H(b,b,g),L(t,b),0}function $(t,e){return K(t,e,o)}function Y(t,e){return i(e,32),$(t,e)}function G(t,e,r){var n=new Uint8Array(32);return K(n,r,e),_(t,s,n,E)}A.prototype.blocks=function(t,e,r){for(var n,i,s,o,a,h,u,c,l,f,p,d,g,b,y,m,v,_,E,x=2048*!this.fin,S=this.h[0],w=this.h[1],C=this.h[2],A=this.h[3],O=this.h[4],T=this.h[5],k=this.h[6],P=this.h[7],D=this.h[8],U=this.h[9],R=this.r[0],L=this.r[1],B=this.r[2],N=this.r[3],M=this.r[4],I=this.r[5],F=this.r[6],H=this.r[7],j=this.r[8],z=this.r[9];r>=16;)S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),w+=(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3)&8191,C+=(i>>>10|(s=255&t[e+4]|(255&t[e+5])<<8)<<6)&8191,A+=(s>>>7|(o=255&t[e+6]|(255&t[e+7])<<8)<<9)&8191,O+=(o>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12)&8191,T+=a>>>1&8191,k+=(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2)&8191,P+=(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5)&8191,D+=(u>>>8|(c=255&t[e+14]|(255&t[e+15])<<8)<<8)&8191,U+=c>>>5|x,l=(f=(l=0)+S*R+5*z*w+5*j*C+5*H*A+5*F*O)>>>13,f&=8191,f+=5*I*T,f+=5*M*k,f+=5*N*P,f+=5*B*D,f+=5*L*U,l+=f>>>13,f&=8191,l=(p=l+S*L+w*R+5*z*C+5*j*A+5*H*O)>>>13,p&=8191,p+=5*F*T,p+=5*I*k,p+=5*M*P,p+=5*N*D,p+=5*B*U,l+=p>>>13,p&=8191,l=(d=l+S*B+w*L+C*R+5*z*A+5*j*O)>>>13,d&=8191,d+=5*H*T,d+=5*F*k,d+=5*I*P,d+=5*M*D,d+=5*N*U,l+=d>>>13,d&=8191,l=(g=l+S*N+w*B+C*L+A*R+5*z*O)>>>13,g&=8191,g+=5*j*T,g+=5*H*k,g+=5*F*P,g+=5*I*D,g+=5*M*U,l+=g>>>13,g&=8191,l=(b=l+S*M+w*N+C*B+A*L+O*R)>>>13,b&=8191,b+=5*z*T,b+=5*j*k,b+=5*H*P,b+=5*F*D,b+=5*I*U,l+=b>>>13,b&=8191,l=(y=l+S*I+w*M+C*N+A*B+O*L)>>>13,y&=8191,y+=T*R,y+=5*z*k,y+=5*j*P,y+=5*H*D,y+=5*F*U,l+=y>>>13,y&=8191,l=(m=l+S*F+w*I+C*M+A*N+O*B)>>>13,m&=8191,m+=T*L,m+=k*R,m+=5*z*P,m+=5*j*D,m+=5*H*U,l+=m>>>13,m&=8191,l=(v=l+S*H+w*F+C*I+A*M+O*N)>>>13,v&=8191,v+=T*B,v+=k*L,v+=P*R,v+=5*z*D,v+=5*j*U,l+=v>>>13,v&=8191,l=(_=l+S*j+w*H+C*F+A*I+O*M)>>>13,_&=8191,_+=T*N,_+=k*B,_+=P*L,_+=D*R,_+=5*z*U,l+=_>>>13,_&=8191,l=(E=l+S*z+w*j+C*H+A*F+O*I)>>>13,E&=8191,E+=T*M,E+=k*N,E+=P*B,E+=D*L,E+=U*R,l+=E>>>13,E&=8191,f=8191&(l=(l=(l<<2)+l|0)+f|0),l>>>=13,p+=l,S=f,w=p,C=d,A=g,O=b,T=y,k=m,P=v,D=_,U=E,e+=16,r-=16;this.h[0]=S,this.h[1]=w,this.h[2]=C,this.h[3]=A,this.h[4]=O,this.h[5]=T,this.h[6]=k,this.h[7]=P,this.h[8]=D,this.h[9]=U},A.prototype.finish=function(t,e){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var V=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function W(t,e,r,n){for(var i,s,o,a,h,u,c,l,f,p,d,g,b,y,m,v,_,E,x,S,w,C,A,O,T,k,P=new Int32Array(16),D=new Int32Array(16),U=t[0],R=t[1],L=t[2],B=t[3],N=t[4],M=t[5],I=t[6],F=t[7],H=e[0],j=e[1],z=e[2],q=e[3],K=e[4],$=e[5],Y=e[6],G=e[7],W=0;n>=128;){for(x=0;x<16;x++)S=8*x+W,P[x]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],D[x]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(x=0;x<80;x++)if(i=U,s=R,o=L,a=B,h=N,u=M,c=I,l=F,f=H,p=j,d=z,g=q,b=K,y=$,m=Y,v=G,w=F,A=65535&(C=G),O=C>>>16,T=65535&w,k=w>>>16,w=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23),A+=65535&(C=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=N&M^~N&I,A+=65535&(C=K&$^~K&Y),O+=C>>>16,T+=65535&w,k+=w>>>16,w=V[2*x],A+=65535&(C=V[2*x+1]),O+=C>>>16,T+=65535&w,k+=w>>>16,w=P[x%16],A+=65535&(C=D[x%16]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,_=65535&T|k<<16,E=65535&A|O<<16,w=_,A=65535&(C=E),O=C>>>16,T=65535&w,k=w>>>16,w=(U>>>28|H<<4)^(H>>>2|U<<30)^(H>>>7|U<<25),A+=65535&(C=(H>>>28|U<<4)^(U>>>2|H<<30)^(U>>>7|H<<25)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=U&R^U&L^R&L,A+=65535&(C=H&j^H&z^j&z),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,l=65535&T|k<<16,v=65535&A|O<<16,w=a,A=65535&(C=g),O=C>>>16,T=65535&w,k=w>>>16,w=_,A+=65535&(C=E),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,a=65535&T|k<<16,g=65535&A|O<<16,R=i,L=s,B=o,N=a,M=h,I=u,F=c,U=l,j=f,z=p,q=d,K=g,$=b,Y=y,G=m,H=v,x%16==15)for(S=0;S<16;S++)w=P[S],A=65535&(C=D[S]),O=C>>>16,T=65535&w,k=w>>>16,w=P[(S+9)%16],A+=65535&(C=D[(S+9)%16]),O+=C>>>16,T+=65535&w,k+=w>>>16,w=((_=P[(S+1)%16])>>>1|(E=D[(S+1)%16])<<31)^(_>>>8|E<<24)^_>>>7,A+=65535&(C=(E>>>1|_<<31)^(E>>>8|_<<24)^(E>>>7|_<<25)),O+=C>>>16,T+=65535&w,k+=w>>>16,w=((_=P[(S+14)%16])>>>19|(E=D[(S+14)%16])<<13)^(E>>>29|_<<3)^_>>>6,A+=65535&(C=(E>>>19|_<<13)^(_>>>29|E<<3)^(E>>>6|_<<26)),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,P[S]=65535&T|k<<16,D[S]=65535&A|O<<16;w=U,A=65535&(C=H),O=C>>>16,T=65535&w,k=w>>>16,w=t[0],A+=65535&(C=e[0]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[0]=U=65535&T|k<<16,e[0]=H=65535&A|O<<16,w=R,A=65535&(C=j),O=C>>>16,T=65535&w,k=w>>>16,w=t[1],A+=65535&(C=e[1]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[1]=R=65535&T|k<<16,e[1]=j=65535&A|O<<16,w=L,A=65535&(C=z),O=C>>>16,T=65535&w,k=w>>>16,w=t[2],A+=65535&(C=e[2]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[2]=L=65535&T|k<<16,e[2]=z=65535&A|O<<16,w=B,A=65535&(C=q),O=C>>>16,T=65535&w,k=w>>>16,w=t[3],A+=65535&(C=e[3]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[3]=B=65535&T|k<<16,e[3]=q=65535&A|O<<16,w=N,A=65535&(C=K),O=C>>>16,T=65535&w,k=w>>>16,w=t[4],A+=65535&(C=e[4]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[4]=N=65535&T|k<<16,e[4]=K=65535&A|O<<16,w=M,A=65535&(C=$),O=C>>>16,T=65535&w,k=w>>>16,w=t[5],A+=65535&(C=e[5]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[5]=M=65535&T|k<<16,e[5]=$=65535&A|O<<16,w=I,A=65535&(C=Y),O=C>>>16,T=65535&w,k=w>>>16,w=t[6],A+=65535&(C=e[6]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[6]=I=65535&T|k<<16,e[6]=Y=65535&A|O<<16,w=F,A=65535&(C=G),O=C>>>16,T=65535&w,k=w>>>16,w=t[7],A+=65535&(C=e[7]),O+=C>>>16,T+=65535&w,k+=w>>>16,O+=A>>>16,T+=O>>>16,k+=T>>>16,t[7]=F=65535&T|k<<16,e[7]=G=65535&A|O<<16,W+=128,n-=128}return n}function Z(t,e,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=0x6a09e667,i[1]=0xbb67ae85,i[2]=0x3c6ef372,i[3]=0xa54ff53a,i[4]=0x510e527f,i[5]=0x9b05688c,i[6]=0x1f83d9ab,i[7]=0x5be0cd19,s[0]=0xf3bcc908,s[1]=0x84caa73b,s[2]=0xfe94f82b,s[3]=0x5f1d36f1,s[4]=0xade682d1,s[5]=0x2b3e6c1f,s[6]=0xfb41bd6b,s[7]=0x137e2179,W(i,s,e,r),r%=128,n=0;n<r;n++)o[n]=e[a-r+n];for(o[r]=128,o[(r=256-(r<112)*128)-9]=0,g(o,r-8,a/0x20000000|0,a<<3),W(i,s,o,r),n=0;n<8;n++)g(t,8*n,i[n],s[n]);return 0}function J(t,e){var r=n(),i=n(),s=n(),o=n(),a=n(),h=n(),u=n(),c=n(),f=n();F(r,t[1],t[0]),F(f,e[1],e[0]),H(r,r,f),I(i,t[0],t[1]),I(f,e[0],e[1]),H(i,i,f),H(s,t[3],e[3]),H(s,s,l),H(o,t[2],e[2]),I(o,o,o),F(a,i,r),F(h,o,s),I(u,o,s),I(c,i,r),H(t[0],a,h),H(t[1],c,u),H(t[2],u,h),H(t[3],a,c)}function X(t,e,r){var n;for(n=0;n<4;n++)R(t[n],e[n],r)}function Q(t,e){var r=n(),i=n(),s=n();z(s,e[2]),H(r,e[0],s),H(i,e[1],s),L(t,i),t[31]^=N(r)<<7}function tt(t,e,r){var n,i;for(D(t[0],a),D(t[1],h),D(t[2],h),D(t[3],a),i=255;i>=0;--i)X(t,e,n=r[i/8|0]>>(7&i)&1),J(e,t),J(t,t),X(t,e,n)}function te(t,e){var r=[n(),n(),n(),n()];D(r[0],f),D(r[1],p),D(r[2],h),H(r[3],f,p),tt(t,r,e)}function tr(t,e,r){var s,o=new Uint8Array(64),a=[n(),n(),n(),n()];for(r||i(e,32),Z(o,e,32),o[0]&=248,o[31]&=127,o[31]|=64,te(a,o),Q(t,a),s=0;s<32;s++)e[s+32]=t[s];return 0}var tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ti(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*tn[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(i=0,r=0;i<32;i++)e[i]+=r-(e[31]>>4)*tn[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*tn[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ts(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ti(t,r)}function to(t,e,r,i){var s,o,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),l=[n(),n(),n(),n()];for(Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<r;s++)t[64+s]=e[s];for(s=0;s<32;s++)t[32+s]=a[32+s];for(Z(u,t.subarray(32),r+32),ts(u),te(l,u),Q(t,l),s=32;s<64;s++)t[s]=i[s];for(Z(h,t,r+64),ts(h),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)c[s+o]+=h[s]*a[o];return ti(t.subarray(32),c),r+64}function ta(t,e,r,i){var s,o,u,l,f,p,g,b,y=new Uint8Array(32),v=new Uint8Array(64),_=[n(),n(),n(),n()],E=[n(),n(),n(),n()];if(r<64||(s=n(),o=n(),u=n(),l=n(),f=n(),p=n(),g=n(),(D(E[2],h),M(E[1],i),j(u,E[1]),H(l,u,c),F(u,u,E[2]),I(l,E[2],l),j(f,l),j(p,f),H(g,p,f),H(s,g,u),H(s,s,l),q(s,s),H(s,s,u),H(s,s,l),H(s,s,l),H(E[0],s,l),j(o,E[0]),H(o,o,l),B(o,u)&&H(E[0],E[0],d),j(o,E[0]),H(o,o,l),B(o,u))?-1:(N(E[0])===i[31]>>7&&F(E[0],a,E[0]),H(E[3],E[0],E[1]),0)))return -1;for(b=0;b<r;b++)t[b]=e[b];for(b=0;b<32;b++)t[b+32]=i[b];if(Z(v,t,r),ts(v),tt(_,E,v),te(E,e.subarray(32)),J(_,E),Q(y,_),r-=64,m(e,0,y,0)){for(b=0;b<r;b++)t[b]=0;return -1}for(b=0;b<r;b++)t[b]=e[b+64];return r}function th(t,e){if(32!==t.length)throw Error("bad key size");if(24!==e.length)throw Error("bad nonce size")}function tu(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function tc(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:C,crypto_stream:w,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:S,crypto_onetimeauth:O,crypto_onetimeauth_verify:T,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:k,crypto_secretbox_open:P,crypto_scalarmult:K,crypto_scalarmult_base:$,crypto_box_beforenm:G,crypto_box_afternm:k,crypto_box:function(t,e,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),k(t,e,r,n,o)},crypto_box_open:function(t,e,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),P(t,e,r,n,o)},crypto_box_keypair:Y,crypto_hash:Z,crypto_sign:to,crypto_sign_keypair:tr,crypto_sign_open:ta,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:n,D:c,L:tn,pack25519:L,unpack25519:M,M:H,A:I,S:j,Z:F,pow2523:q,add:J,set25519:D,modL:ti,scalarmult:tt,scalarbase:te},t.randomBytes=function(t){var e=new Uint8Array(t);return i(e,t),e},t.secretbox=function(t,e,r){tu(t,e,r),th(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+32]=t[s];return k(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){tu(t,e,r),th(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+16]=t[s];return n.length<32||0!==P(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(tu(t,e),32!==t.length)throw Error("bad n size");if(32!==e.length)throw Error("bad p size");var r=new Uint8Array(32);return K(r,t,e),r},t.scalarMult.base=function(t){if(tu(t),32!==t.length)throw Error("bad n size");var e=new Uint8Array(32);return $(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox(e,r,s)},t.box.before=function(t,e){tu(t,e);if(32!==t.length)throw Error("bad public key size");if(32!==e.length)throw Error("bad secret key size");var r=new Uint8Array(32);return G(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox.open(e,r,s)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return Y(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(tu(t),32!==t.length)throw Error("bad secret key size");var e=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(tu(t,e),64!==e.length)throw Error("bad secret key size");var r=new Uint8Array(64+t.length);return to(r,t,t.length,e),r},t.sign.open=function(t,e){if(tu(t,e),32!==e.length)throw Error("bad public key size");var r=new Uint8Array(t.length),n=ta(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},t.sign.detached.verify=function(t,e,r){if(tu(t,e,r),64!==e.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+t.length),s=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ta(s,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return tr(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(tu(t),64!==t.length)throw Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(tu(t),32!==t.length)throw Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return tr(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){tu(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return tu(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===b(t,0,e,0,t.length)},t.setPRNG=function(t){i=t},(e="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&e.getRandomValues?t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];tc(i)}):(e=r(3))&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];tc(i)})}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,r){t.exports=r(47).default},function(e,r){e.exports=t.r(874)},function(e,r){e.exports=t.r(27699)},function(t,e,r){"use strict";var n=r(5).Stream,i=r(0),s=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};i.inherits(s,n),s.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},s.prototype.resume=function(){this._paused=!1,this.emit("drain");var t=this._driver.messages;t._paused=!1,t.emit("drain")},s.prototype.write=function(t){return!!this.writable&&(this._driver.parse(t),!this._paused)},s.prototype.end=function(t){if(this.writable){void 0!==t&&this.write(t),this.writable=!1;var e=this._driver.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))}},s.prototype.destroy=function(){this.end()};var o=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};i.inherits(o,n),o.prototype.pause=function(){this._driver.io._paused=!0},o.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},o.prototype.write=function(t){return!!this.writable&&("string"==typeof t?this._driver.text(t):this._driver.binary(t),!this._paused)},o.prototype.end=function(t){void 0!==t&&this.write(t)},o.prototype.destroy=function(){},e.IO=s,e.Messages=o},function(t,e,r){"use strict";var n=r(1).Buffer,i=function(){this._queue=[],this._queueSize=0,this._offset=0};i.prototype.put=function(t){t&&0!==t.length&&(n.isBuffer(t)||(t=n.from(t)),this._queue.push(t),this._queueSize+=t.length)},i.prototype.read=function(t){if(t>this._queueSize)return null;if(0===t)return n.alloc(0);this._queueSize-=t;var e,r,i=this._queue,s=t,o=i[0];if(o.length>=t)if(o.length===t)return i.shift();else return r=o.slice(0,t),i[0]=o.slice(t),r;for(var a=0,h=i.length;a<h&&!(s<i[a].length);a++)s-=i[a].length;return e=i.splice(0,a),s>0&&i.length>0&&(e.push(i[0].slice(0,s)),i[0]=i[0].slice(s)),n.concat(e,t)},i.prototype.eachByte=function(t,e){for(var r,n,i;this._queue.length>0;){for(n=(r=this._queue[0]).length;this._offset<n;)i=this._offset,this._offset+=1,t.call(e,r[i]);this._offset=0,this._queue.shift()}},t.exports=i},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(3),s=r(6),o=r(0),a=r(10),h=r(2),u=r(12),c=r(36),l=function(t,e){this.version="hybi-"+u.VERSION,u.call(this,null,t,e),this.readyState=-1,this._key=l.generateKey(),this._accept=u.generateAccept(this._key),this._http=new a("response");var r=s.parse(this.url),i=r.auth&&n.from(r.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(r.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(r.pathname||"/")+(r.search||""),this._headers.set("Host",r.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",u.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),i&&this._headers.set("Authorization","Basic "+i)};o.inherits(l,u),l.generateKey=function(){return i.randomBytes(16).toString("base64")};var f={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(t,e){return new c(this,t,e)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(t){return 3===this.readyState?void 0:this.readyState>0?u.prototype.parse.call(this,t):(this._http.parse(t),this._http.isComplete())?void(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body))):void 0},_handshakeRequest:function(){var t=this._extensions.generateOffer();t&&this._headers.set("Sec-WebSocket-Extensions",t);var e=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return n.from(e.join("\r\n"),"utf8")},_failHandshake:function(t){t="Error during WebSocket handshake: "+t,this.readyState=3,this.emit("error",Error(t)),this.emit("close",new h.CloseEvent(this.ERRORS.protocol_error,t))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var t=this._http.headers,e=t.upgrade||"",r=t.connection||"",n=t["sec-websocket-accept"]||"",i=t["sec-websocket-protocol"]||"";if(""===e)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==e.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===r)return this._failHandshake("'Connection' header is missing");if("upgrade"!==r.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(n!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==i)if(0>this._protocols.indexOf(i))return this._failHandshake("Sec-WebSocket-Protocol mismatch");else this.protocol=i;try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(t){return this._failHandshake(t.message)}}};for(var p in f)l.prototype[p]=f[p];t.exports=l},function(t,e,r){var n=r(28);function i(t){n.ok(t===i.REQUEST||t===i.RESPONSE||void 0===t),void 0===t||this.initialize(t),this.maxHeaderSize=i.maxHeaderSize}e.HTTPParser=i,i.prototype.initialize=function(t,e){n.ok(t===i.REQUEST||t===i.RESPONSE),this.type=t,this.state=t+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},i.encoding="ascii",i.maxHeaderSize=81920,i.REQUEST="REQUEST",i.RESPONSE="RESPONSE";var s=i.kOnHeaders=1,o=i.kOnHeadersComplete=2,a=i.kOnBody=3,h=i.kOnMessageComplete=4;i.prototype[s]=i.prototype[o]=i.prototype[a]=i.prototype[h]=function(){};var u=!0;Object.defineProperty(i,"kOnExecute",{get:function(){return u=!1,99}});var c=e.methods=i.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],l=c.indexOf("CONNECT");i.prototype.reinitialize=i,i.prototype.close=i.prototype.pause=i.prototype.resume=i.prototype.free=function(){},i.prototype._compatMode0_11=!1,i.prototype.getAsyncId=function(){return 0};var f={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};i.prototype.execute=function(t,e,r){if(!(this instanceof i))throw TypeError("not a HTTPParser");e=e||0,r="number"==typeof r?r:t.length,this.chunk=t,this.offset=e;var n=this.end=e+r;try{for(;this.offset<n&&!this[this.state](););}catch(t){if(this.isUserCall)throw t;return this.hadError=!0,t}return(this.chunk=null,r=this.offset-e,f[this.state]&&(this.headerSize+=r,this.headerSize>(this.maxHeaderSize||i.maxHeaderSize)))?Error("max header size exceeded"):r};var p={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};i.prototype.finish=function(){if(!this.hadError){if(!p[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[h]())}},i.prototype.consume=i.prototype.unconsume=i.prototype.getCurrentBuffer=function(){},i.prototype.userCall=function(){this.isUserCall=!0;var t=this;return function(e){return t.isUserCall=!1,e}},i.prototype.nextRequest=function(){this.userCall()(this[h]()),this.reinitialize(this.type)},i.prototype.consumeLine=function(){for(var t=this.end,e=this.chunk,r=this.offset;r<t;r++)if(10===e[r]){var n=this.line+e.toString(i.encoding,this.offset,r);return"\r"===n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),this.line="",this.offset=r+1,n}this.line+=e.toString(i.encoding,this.offset,this.end),this.offset=this.end};var d=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,g=/^[ \t]+(.*[^ \t])/;i.prototype.parseHeader=function(t,e){if(-1!==t.indexOf("\r"))throw m("HPE_LF_EXPECTED");var r=d.exec(t),n=r&&r[1];if(n)e.push(n),e.push(r[2]);else{var i=g.exec(t);i&&e.length&&(e[e.length-1]&&(e[e.length-1]+=" "),e[e.length-1]+=i[1])}};var b=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;i.prototype.REQUEST_LINE=function(){var t=this.consumeLine();if(t){var e=b.exec(t);if(null===e)throw m("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?e[1]:c.indexOf(e[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=e[2],this.info.versionMajor=+e[3],this.info.versionMinor=+e[4],this.body_bytes=0,this.state="HEADER"}};var y=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function m(t){var e=Error("Parse Error");return e.code=t,e}i.prototype.RESPONSE_LINE=function(){var t=this.consumeLine();if(t){var e=y.exec(t);if(null===e)throw m("HPE_INVALID_CONSTANT");this.info.versionMajor=+e[1],this.info.versionMinor=+e[2];var r=this.info.statusCode=+e[3];this.info.statusMessage=e[4],((r/100|0)==1||204===r||304===r)&&(this.body_bytes=0),this.state="HEADER"}},i.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},i.prototype.HEADER=function(){var t=this.consumeLine();if(void 0!==t){var e=this.info;if(t)this.parseHeader(t,e.headers);else{for(var r,n,s=e.headers,a=!1,h=!1,c=0;c<s.length;c+=2)switch(s[c].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===s[c+1].toLowerCase();break;case"content-length":if(r=+s[c+1],a){if(r!==this.body_bytes)throw m("HPE_UNEXPECTED_CONTENT_LENGTH")}else a=!0,this.body_bytes=r;break;case"connection":this.connection+=s[c+1].toLowerCase();break;case"upgrade":h=!0}if(this.isChunked&&a&&(a=!1,this.body_bytes=null),h&&-1!=this.connection.indexOf("upgrade")?e.upgrade=this.type===i.REQUEST||101===e.statusCode:e.upgrade=e.method===l,this.isChunked&&e.upgrade&&(this.isChunked=!1),e.shouldKeepAlive=this.shouldKeepAlive(),2===(n=u?this.userCall()(this[o](e)):this.userCall()(this[o](e.versionMajor,e.versionMinor,e.headers,e.method,e.url,e.statusCode,e.statusMessage,e.upgrade,e.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!n)this.state="BODY_CHUNKHEAD";else{if(n||0===this.body_bytes)return this.nextRequest(),e.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},i.prototype.BODY_CHUNKHEAD=function(){var t=this.consumeLine();void 0!==t&&(this.body_bytes=parseInt(t,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},i.prototype.BODY_CHUNK=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},i.prototype.BODY_CHUNKEMPTYLINE=function(){var t=this.consumeLine();void 0!==t&&(n.equal(t,""),this.state="BODY_CHUNKHEAD")},i.prototype.BODY_CHUNKTRAILERS=function(){var t=this.consumeLine();void 0!==t&&(t?this.parseHeader(t,this.trailers):(this.trailers.length&&this.userCall()(this[s](this.trailers,"")),this.nextRequest()))},i.prototype.BODY_RAW=function(){var t=this.end-this.offset;this.userCall()(this[a](this.chunk,this.offset,t)),this.offset=this.end},i.prototype.BODY_SIZED=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(t){var e=i["kOn"+t];Object.defineProperty(i.prototype,"on"+t,{get:function(){return this[e]},set:function(t){return this._compatMode0_11=!0,l="CONNECT",this[e]=t}})})},function(e,r){e.exports=t.r(49719)},function(t,e,r){"use strict";var n=r(30),i=r(31),s=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};s.MESSAGE_OPCODES=[1,2];var o={add:function(t){if("string"!=typeof t.name)throw TypeError("extension.name must be a string");if("permessage"!==t.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof t.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof t.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof t.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(t.name))throw TypeError('An extension with name "'+t.name+'" is already registered');this._byName[t.name]=t,this._inOrder.push(t)},generateOffer:function(){var t=[],e=[],r={};return this._inOrder.forEach(function(i){var s=i.createClientSession();if(s){var o=[i,s];t.push(o),r[i.name]=o;var a=s.generateOffer();(a=a?[].concat(a):[]).forEach(function(t){e.push(n.serializeParams(i.name,t))},this)}},this),this._sessions=t,this._index=r,e.length>0?e.join(", "):null},activate:function(t){var e=n.parseHeader(t),r=[];e.eachOffer(function(t,e){var i=this._index[t];if(!i)throw Error('Server sent an extension response for unknown extension "'+t+'"');var s=i[0],o=i[1],a=this._reserved(s);if(a)throw Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+s.name+'"');if(!0!==o.activate(e))throw Error("Server sent unacceptable extension parameters: "+n.serializeParams(t,e));this._reserve(s),r.push(i)},this),this._sessions=r,this._pipeline=new i(r)},generateResponse:function(t){var e=[],r=[],s=n.parseHeader(t);return this._inOrder.forEach(function(t){var i=s.byName(t.name);if(!(0===i.length||this._reserved(t))){var o=t.createServerSession(i);o&&(this._reserve(t),e.push([t,o]),r.push(n.serializeParams(t.name,o.generateResponse())))}},this),this._sessions=e,this._pipeline=new i(e),r.length>0?r.join(", "):null},validFrameRsv:function(t){var e,r={rsv1:!1,rsv2:!1,rsv3:!1};if(s.MESSAGE_OPCODES.indexOf(t.opcode)>=0)for(var n=0,i=this._sessions.length;n<i;n++)e=this._sessions[n][0],r.rsv1=r.rsv1||e.rsv1,r.rsv2=r.rsv2||e.rsv2,r.rsv3=r.rsv3||e.rsv3;return(r.rsv1||!t.rsv1)&&(r.rsv2||!t.rsv2)&&(r.rsv3||!t.rsv3)},processIncomingMessage:function(t,e,r){this._pipeline.processIncomingMessage(t,e,r)},processOutgoingMessage:function(t,e,r){this._pipeline.processOutgoingMessage(t,e,r)},close:function(t,e){if(!this._pipeline)return t.call(e);this._pipeline.close(t,e)},_reserve:function(t){this._rsv1=this._rsv1||t.rsv1&&t.name,this._rsv2=this._rsv2||t.rsv2&&t.name,this._rsv3=this._rsv3||t.rsv3&&t.name},_reserved:function(t){return this._rsv1&&t.rsv1?[1,this._rsv1]:this._rsv2&&t.rsv2?[2,this._rsv2]:!!this._rsv3&&!!t.rsv3&&[3,this._rsv3]}};for(var a in o)s.prototype[a]=o[a];t.exports=s},function(t,e,r){"use strict";var n=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,i=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,s=RegExp(n.source+"(?:=(?:"+n.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),o=RegExp(n.source+"(?: *; *"+s.source+")*","g"),a=RegExp("^"+o.source+"(?: *, *"+o.source+")*$"),h=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,u=Object.prototype.hasOwnProperty,c=function(){this._byName={},this._inOrder=[]};c.prototype.push=function(t,e){u.call(this._byName,t)||(this._byName[t]=[]),this._byName[t].push(e),this._inOrder.push({name:t,params:e})},c.prototype.eachOffer=function(t,e){for(var r=this._inOrder,n=0,i=r.length;n<i;n++)t.call(e,r[n].name,r[n].params)},c.prototype.byName=function(t){return this._byName[t]||[]},c.prototype.toArray=function(){return this._inOrder.slice()},t.exports={parseHeader:function(t){var e=new c;if(""===t||void 0===t)return e;if(!a.test(t))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+t);return t.match(o).forEach(function(t){var r=t.match(RegExp(s.source,"g")),n=r.shift(),i={};r.forEach(function(t){var e,r=t.match(s),n=r[1];e=void 0!==r[2]?r[2]:void 0===r[3]||r[3].replace(/\\/g,""),h.test(e)&&(e=parseFloat(e)),u.call(i,n)?(i[n]=[].concat(i[n]),i[n].push(e)):i[n]=e},this),e.push(n,i)},this),e},serializeParams:function(t,e){var r=[],n=function(t,e){e instanceof Array?e.forEach(function(e){n(t,e)}):!0===e?r.push(t):"number"==typeof e?r.push(t+"="+e):i.test(e)?r.push(t+'="'+e.replace(/"/g,'\\"')+'"'):r.push(t+"="+e)};for(var s in e)n(s,e[s]);return[t].concat(r).join("; ")}}},function(t,e,r){"use strict";var n=r(32),i=r(14),s=function(t){this._cells=t.map(function(t){return new n(t)}),this._stopped={incoming:!1,outgoing:!1}};s.prototype.processIncomingMessage=function(t,e,r){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,t,e,r)},s.prototype.processOutgoingMessage=function(t,e,r){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,t,e,r)},s.prototype.close=function(t,e){this._stopped={incoming:!0,outgoing:!0};var r=this._cells.map(function(t){return t.close()});t&&i.all(r).then(function(){t.call(e)})},s.prototype._loop=function(t,e,r,n,i,s,o){for(var a=this._cells,h=a.length,u=this;h--;)a[h].pending(t);var c=function(e,i,h){if(e===r)return s.call(o,i,h);a[e][t](i,h,function(r,i){r&&(u._stopped[t]=!0),c(e+n,r,i)})};c(e,null,i)},t.exports=s},function(t,e,r){"use strict";var n=r(33),i=r(14),s=function(t){this._ext=t[0],this._session=t[1],this._functors={incoming:new n(this._session,"processIncomingMessage"),outgoing:new n(this._session,"processOutgoingMessage")}};s.prototype.pending=function(t){var e=this._functors[t];e._stopped||(e.pending+=1)},s.prototype.incoming=function(t,e,r,n){this._exec("incoming",t,e,r,n)},s.prototype.outgoing=function(t,e,r,n){this._exec("outgoing",t,e,r,n)},s.prototype.close=function(){return this._closed=this._closed||new i,this._doClose(),this._closed},s.prototype._exec=function(t,e,r,n,i){this._functors[t].call(e,r,function(t,e){t&&(t.message=this._ext.name+": "+t.message),n.call(i,t,e),this._doClose()},this)},s.prototype._doClose=function(){var t=this._functors.incoming,e=this._functors.outgoing;this._closed&&t.pending+e.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},t.exports=s},function(t,e,r){"use strict";var n=r(13),i=function(t,e){this._session=t,this._method=e,this._queue=new n(i.QUEUE_SIZE),this._stopped=!1,this.pending=0};i.QUEUE_SIZE=8,i.prototype.call=function(t,e,r,n){if(!this._stopped){var i={error:t,message:e,callback:r,context:n,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(t,e){s^(s=!0)&&(t?(o._stop(),i.error=t,i.message=null):i.message=e,i.done=!0,o._flushQueue())};try{this._session[this._method](e,a)}catch(t){a(t)}}},i.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},i.prototype._flushQueue=function(){for(var t,e=this._queue;e.length>0&&e.peek().done;)(t=e.shift()).error?(this.pending=0,e.clear()):this.pending-=1,t.callback.call(t.context,t.error,t.message)},t.exports=i},function(t,e,r){"use strict";var n=function(){},i={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var s in i)n.prototype[s]=i[s];t.exports=n},function(t,e,r){"use strict";var n=r(1).Buffer,i=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},s={read:function(){return this.data=this.data||n.concat(this._chunks,this.length)},pushFrame:function(t){this.rsv1=this.rsv1||t.rsv1,this.rsv2=this.rsv2||t.rsv2,this.rsv3=this.rsv3||t.rsv3,null===this.opcode&&(this.opcode=t.opcode),this._chunks.push(t.payload),this.length+=t.length}};for(var o in s)i.prototype[o]=s[o];t.exports=i},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(5).Stream,s=r(6),o=r(0),a=r(2),h=r(9),u=r(10),c={"ws:":80,"wss:":443},l=function(t,e,r){this._client=t,this._http=new u("response"),this._origin="object"==typeof t.url?t.url:s.parse(t.url),this._url="object"==typeof e?e:s.parse(e),this._options=r||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new h,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var i=this._url.auth&&n.from(this._url.auth,"utf8").toString("base64");i&&this._headers.set("Proxy-Authorization","Basic "+i)};o.inherits(l,i);var f={setHeader:function(t,e){return 0===this._state&&(this._headers.set(t,e),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var t=this._origin,e=t.port||c[t.protocol],r=["CONNECT "+t.hostname+":"+e+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",n.from(r.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(t){if(!this.writable)return!1;if(this._http.parse(t),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new a.ConnectEvent);else{var e="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(e))}return this.end(),!this._paused},end:function(t){this.writable&&(void 0!==t&&this.write(t),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var p in f)l.prototype[p]=f[p];t.exports=l},function(t,e,r){"use strict";var n=r(0),i=r(10),s=r(2),o=r(15),a=r(38),h=r(12),u=function(t){s.call(this,null,null,t),this._http=new i("request")};n.inherits(u,s);var c={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(t){if(this._delegate)return this._delegate.parse(t);if(this._http.parse(t),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var e=this;this._delegate=u.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(t){this._delegate.on(t,function(r){e.emit(t,r)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new s.ConnectEvent)}},_open:function(){this.__queue.forEach(function(t){this._delegate[t[0]].apply(this._delegate,t[1])},this),this.__queue=[]}};for(var l in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(t){c[t]=function(){return this._delegate?this._delegate[t].apply(this._delegate,arguments):(this.__queue.push([t,arguments]),!0)}}),c)u.prototype[l]=c[l];u.isSecureRequest=function(t){if(t.connection&&void 0!==t.connection.authorized||t.socket&&t.socket.secure)return!0;var e=t.headers;return!!e&&("on"===e.https||"on"===e["x-forwarded-ssl"]||"https"===e["x-forwarded-scheme"]||"https"===e["x-forwarded-proto"])},u.determineUrl=function(t){return(this.isSecureRequest(t)?"wss:":"ws:")+"//"+t.headers.host+t.url},u.http=function(t,e){void 0===(e=e||{}).requireMasking&&(e.requireMasking=!0);var r=t.headers,n=r["sec-websocket-version"],i=r["sec-websocket-key"],s=r["sec-websocket-key1"],u=r["sec-websocket-key2"],c=this.determineUrl(t);return n||i?new h(t,c,e):s||u?new a(t,c,e):new o(t,c,e)},t.exports=u},function(t,e,r){"use strict";var n=r(1).Buffer,i=r(2),s=r(15),o=r(3),a=r(0),h=function(t){return parseInt((t.match(/[0-9]/g)||[]).join(""),10)},u=function(t){return(t.match(/ /g)||[]).length},c=function(t,e,r){s.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};a.inherits(c,s);var l={BODY_SIZE:8,start:function(){return!!s.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(n.from([255,0])),this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var t=this._request.headers,e=t["sec-websocket-key1"],r=t["sec-websocket-key2"];if(!e)throw Error("Missing required header: Sec-WebSocket-Key1");if(!r)throw Error("Missing required header: Sec-WebSocket-Key2");var i=h(e),s=u(e),o=h(r),a=u(r);if(i%s!=0||o%a!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[i/s,o/a];var t=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return n.from(t.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var t=o.createHash("md5"),e=n.allocUnsafe(8+this.BODY_SIZE);return e.writeUInt32BE(this._keyValues[0],0),e.writeUInt32BE(this._keyValues[1],4),n.from(this._body).copy(e,8,0,this.BODY_SIZE),t.update(e),n.from(t.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var t=this._handshakeSignature();t&&(this._write(t),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(t){if(255!==t)return s.prototype._parseLeadingByte.call(this,t);this._closing=!0,this._length=0,this._stage=1}};for(var f in l)c.prototype[f]=l[f];t.exports=c},function(t,e,r){"use strict";var n=r(0),i=r(40),s=r(41),o=r(6),a=r(4),h=r(11);r(7);var u={"http:":80,"https:":443,"ws:":80,"wss:":443},c=["https:","wss:"],l=function(t,e,r){r=r||{},this.url=t,this._driver=a.client(this.url,{maxLength:r.maxLength,protocols:e}),["open","error"].forEach(function(t){this._driver.on(t,function(){m.headers=m._driver.headers,m.statusCode=m._driver.statusCode})},this);var n=r.proxy||{},l=o.parse(n.origin||this.url),f=l.port||u[l.protocol],p=c.indexOf(l.protocol)>=0,d=function(){m._onConnect()},g=r.net||{},b=r.tls||{},y=n.origin?n.tls||{}:b,m=this;g.host=y.host=l.hostname,g.port=y.port=f,b.ca=b.ca||r.ca,y.servername=y.servername||l.hostname,this._stream=p?s.connect(y,d):i.connect(g,d),n.origin&&this._configureProxy(n,b),h.call(this,r)};n.inherits(l,h),l.prototype._onConnect=function(){(this._proxy||this._driver).start()},l.prototype._configureProxy=function(t,e){var r,n=o.parse(this.url),i=c.indexOf(n.protocol)>=0,a=this;if(this._proxy=this._driver.proxy(t.origin),t.headers)for(r in t.headers)this._proxy.setHeader(r,t.headers[r]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(i){var t={socket:a._stream,servername:n.hostname};for(r in e)t[r]=e[r];a._stream=s.connect(t),a._configureStream()}a._driver.io.pipe(a._stream),a._stream.pipe(a._driver.io),a._driver.start()}),this._proxy.on("error",function(t){a._driver.emit("error",t)})},t.exports=l},function(e,r){e.exports=t.r(4446)},function(e,r){e.exports=t.r(55004)},function(t,e,r){"use strict";var n=r(5).Stream,i=r(0),s=r(4),o=r(9),a=r(11),h=r(16),u=r(7),c=function(t,e,r){this.writable=!0,r=r||{},this._stream=e.socket,this._ping=r.ping||this.DEFAULT_PING,this._retry=r.retry||this.DEFAULT_RETRY;var n=s.isSecureRequest(t)?"https:":"http:";this.url=n+"//"+t.headers.host+t.url,this.lastEventId=t.headers["last-event-id"]||"",this.readyState=a.CONNECTING;var i=new o,h=this;if(r.headers)for(var u in r.headers)i.set(u,r.headers[u]);if(this._stream&&this._stream.writable){process.nextTick(function(){h._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var c="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+i.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(c),this._stream.on("drain",function(){h.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){h.ping()},1e3*this._ping)),["error","end"].forEach(function(t){h._stream.on(t,function(){h.close()})})}};i.inherits(c,n),c.isEventSource=function(t){return"GET"===t.method&&(t.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var l={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(t){if(!this.writable)return!1;try{return this._stream.write(t,"utf8")}catch(t){return!1}},_open:function(){if(this.readyState===a.CONNECTING){this.readyState=a.OPEN;var t=new u("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},write:function(t){return this.send(t)},end:function(t){void 0!==t&&this.write(t),this.close()},send:function(t,e){if(this.readyState>a.OPEN)return!1;t=String(t).replace(/(\r\n|\r|\n)/g,"$1data: ");var r="";return(e=e||{}).event&&(r+="event: "+e.event+"\r\n"),e.id&&(r+="id: "+e.id+"\r\n"),r+="data: "+t+"\r\n\r\n",this._write(r)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>a.OPEN)return!1;this.readyState=a.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var t=new u("close");return t.initEvent("close",!1,!1),this.dispatchEvent(t),!0}};for(var f in l)c.prototype[f]=l[f];for(var p in h)c.prototype[p]=h[p];t.exports=c},function(e,r){e.exports=t.r(33405)},function(e,r){e.exports=t.r(22734)},function(e,r){e.exports=t.r(21517)},function(e,r){e.exports=t.r(24836)},function(e,r,n){"use strict";n.r(r),n.d(r,"default",function(){return el});for(var i,s,o,a,h,u,c=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={},p=0,d=l.length;p<d;p++)f[l.charAt(p)]=p;var g=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e)},b=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[l.charAt(r>>>18),l.charAt(r>>>12&63),e>=2?"=":l.charAt(r>>>6&63),e>=1?"=":l.charAt(63&r)].join("")},y=t.g.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,b)},m=class{constructor(t,e,r,n){this.clear=e,this.timer=t(()=>{this.timer&&(this.timer=n(this.timer))},r)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function v(e){t.g.clearTimeout(e)}function _(e){t.g.clearInterval(e)}class E extends m{constructor(t,e){super(setTimeout,v,t,function(t){return e(),null})}}class x extends m{constructor(t,e){super(setInterval,_,t,function(t){return e(),t})}}var S={now:()=>Date.now?Date.now():new Date().valueOf(),defer:t=>new E(0,t),method(t){var e=Array.prototype.slice.call(arguments,1);return function(r){return r[t].apply(r,e.concat(arguments))}}};function w(t,...e){for(var r=0;r<e.length;r++){var n=e[r];for(var i in n)n[i]&&n[i].constructor&&n[i].constructor===Object?t[i]=w(t[i]||{},n[i]):t[i]=n[i]}return t}function C(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(L(arguments[e]));return t.join(" : ")}function A(t,e){var r=Array.prototype.indexOf;if(null===t)return -1;if(r&&t.indexOf===r)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return -1}function O(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function T(t){var e=[];return O(t,function(t,r){e.push(r)}),e}function k(e,r,n){for(var i=0;i<e.length;i++)r.call(n||t.g,e[i],i,e)}function P(t,e){for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n,t,r));return r}function D(t,e){e=e||function(t){return!!t};for(var r=[],n=0;n<t.length;n++)e(t[n],n,t,r)&&r.push(t[n]);return r}function U(t,e){var r={};return O(t,function(n,i){(e&&e(n,i,t,r)||n)&&(r[i]=n)}),r}function R(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1}function L(t){try{return JSON.stringify(t)}catch(n){var e,r;return JSON.stringify((e=[],r=[],function t(n,i){var s,o,a;switch(typeof n){case"object":if(!n)return null;for(s=0;s<e.length;s+=1)if(e[s]===n)return{$ref:r[s]};if(e.push(n),r.push(i),"[object Array]"===Object.prototype.toString.apply(n))for(s=0,a=[];s<n.length;s+=1)a[s]=t(n[s],i+"["+s+"]");else for(o in a={},n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=t(n[o],i+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return n}}(t,"$")))}}var B="8.4.0",N={endpoint:"/pusher/user-auth",transport:"ajax"},M={endpoint:"/pusher/auth",transport:"ajax"};function I(t,e,r){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+r}function F(t,e){return"/app/"+t+"?protocol=7&client=js&version="+B+(e?"&"+e:"")}class H{constructor(){this._callbacks={}}get(t){return this._callbacks["_"+t]}add(t,e,r){var n="_"+t;this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:e,context:r})}remove(t,e,r){if(!t&&!e&&!r){this._callbacks={};return}var n=t?["_"+t]:T(this._callbacks);e||r?this.removeCallback(n,e,r):this.removeAllCallbacks(n)}removeCallback(t,e,r){k(t,function(t){this._callbacks[t]=D(this._callbacks[t]||[],function(t){return e&&e!==t.fn||r&&r!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)}removeAllCallbacks(t){k(t,function(t){delete this._callbacks[t]},this)}}class j{constructor(t){this.callbacks=new H,this.global_callbacks=[],this.failThrough=t}bind(t,e,r){return this.callbacks.add(t,e,r),this}bind_global(t){return this.global_callbacks.push(t),this}unbind(t,e,r){return this.callbacks.remove(t,e,r),this}unbind_global(t){return t?this.global_callbacks=D(this.global_callbacks||[],e=>e!==t):this.global_callbacks=[],this}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,r,n){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](e,r);var s=this.callbacks.get(e),o=[];if(n?o.push(r,n):r&&o.push(r),s&&s.length>0)for(var i=0;i<s.length;i++)s[i].fn.apply(s[i].context||t.g,o);else this.failThrough&&this.failThrough(e,r);return this}}var z=new class{constructor(){this.globalLog=e=>{t.g.console&&t.g.console.log&&t.g.console.log(e)}}debug(...t){this.log(this.globalLog,t)}warn(...t){this.log(this.globalLogWarn,t)}error(...t){this.log(this.globalLogError,t)}globalLogWarn(e){t.g.console&&t.g.console.warn?t.g.console.warn(e):this.globalLog(e)}globalLogError(e){t.g.console&&t.g.console.error?t.g.console.error(e):this.globalLogWarn(e)}log(t){var e=C.apply(this,arguments);eu.log?eu.log(e):eu.logToConsole&&t.bind(this)(e)}};class q extends j{constructor(t,e,r,n,i){super(),this.initialize=t8.transportConnectionInitializer,this.hooks=t,this.name=e,this.priority=r,this.key=n,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return S.defer(()=>{this.onError(t),this.changeState("closed")}),!1}return this.bindListeners(),z.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(t){return"open"===this.state&&(S.defer(()=>{this.socket&&this.socket.send(t)}),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))}onClose(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(t){this.emit("message",t)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=t=>{this.onError(t)},this.socket.onclose=t=>{this.onClose(t)},this.socket.onmessage=t=>{this.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)}buildTimelineMessage(t){return w({cid:this.id},t)}}class K{constructor(t){this.hooks=t}isSupported(t){return this.hooks.isSupported(t)}createConnection(t,e,r,n){return new q(this.hooks,t,e,r,n)}}var $=new K({urls:{getInitial:function(t,e){var r=(e.httpPath||"")+F(t,"flash=false");return I("ws",e,r)}},handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!t8.getWebSocketAPI()},isSupported:function(){return!!t8.getWebSocketAPI()},getSocket:function(t){return t8.createWebSocket(t)}}),Y={urls:{getInitial:function(t,e){var r=(e.httpPath||"/pusher")+F(t);return I("http",e,r)}},handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},G=w({getSocket:function(t){return t8.HTTPFactory.createStreamingSocket(t)}},Y),V=w({getSocket:function(t){return t8.HTTPFactory.createPollingSocket(t)}},Y),W={isSupported:function(){return t8.isXHRSupported()}},Z={ws:$,xhr_streaming:new K(w({},G,W)),xhr_polling:new K(w({},V,W))};class J{constructor(t,e,r){this.manager=t,this.transport=e,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}createConnection(t,e,r,n){n=w({},n,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(t,e,r,n),s=null,o=function(){i.unbind("open",o),i.bind("closed",a),s=S.now()},a=t=>{if(i.unbind("closed",a),1002===t.code||1003===t.code)this.manager.reportDeath();else if(!t.wasClean&&s){var e=S.now()-s;e<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(e/2,this.minPingDelay))}};return i.bind("open",o),i}isSupported(t){return this.manager.isAlive()&&this.transport.isSupported(t)}}let X={decodeMessage:function(t){try{var e=JSON.parse(t.data),r=e.data;if("string"==typeof r)try{r=JSON.parse(e.data)}catch(t){}var n={event:e.event,channel:e.channel,data:r};return e.user_id&&(n.user_id=e.user_id),n}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=X.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){if(t.code<4e3)if(t.code>=1002&&t.code<=1004)return"backoff";else return null;if(4e3===t.code)return"tls_only";if(t.code<4100)return"refused";if(t.code<4200)return"backoff";if(t.code<4300)return"retry";else return"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}};class Q extends j{constructor(t,e){super(),this.id=t,this.transport=e,this.activityTimeout=e.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(t){return this.transport.send(t)}send_event(t,e,r){var n={event:t,data:e};return r&&(n.channel=r),z.debug("Event sent",n),this.send(X.encodeMessage(n))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var t={message:t=>{var e;try{e=X.decodeMessage(t)}catch(e){this.emit("error",{type:"MessageParseError",error:e,data:t.data})}if(void 0!==e){switch(z.debug("Event recd",e),e.event){case"pusher:error":this.emit("error",{type:"PusherError",data:e.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",e)}},activity:()=>{this.emit("activity")},error:t=>{this.emit("error",t)},closed:t=>{e(),t&&t.code&&this.handleCloseEvent(t),this.transport=null,this.emit("closed")}},e=()=>{O(t,(t,e)=>{this.transport.unbind(e,t)})};O(t,(t,e)=>{this.transport.bind(e,t)})}handleCloseEvent(t){var e=X.getCloseAction(t),r=X.getCloseError(t);r&&this.emit("error",r),e&&this.emit(e,{action:e,error:r})}}class tt{constructor(t,e){this.transport=t,this.callback=e,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=t=>{var e;this.unbindListeners();try{e=X.processHandshake(t)}catch(t){this.finish("error",{error:t}),this.transport.close();return}"connected"===e.action?this.finish("connected",{connection:new Q(e.id,this.transport),activityTimeout:e.activityTimeout}):(this.finish(e.action,{error:e.error}),this.transport.close())},this.onClosed=t=>{this.unbindListeners();var e=X.getCloseAction(t)||"backoff",r=X.getCloseError(t);this.finish(e,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(t,e){this.callback(w({transport:this.transport,action:t},e))}}class te{constructor(t,e){this.timeline=t,this.options=e||{}}send(t,e){this.timeline.isEmpty()||this.timeline.send(t8.TimelineTransport.getAgent(this,t),e)}}class tr extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class tn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class ti extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class ts extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class to extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class ta extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class th extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class tu extends Error{constructor(t,e){super(e),this.status=t,Object.setPrototypeOf(this,new.target.prototype)}}let tc={authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}};var tl=function(t){let e,r=tc[t];return r&&(r.fullUrl?e=r.fullUrl:r.path&&(e="https://pusher.com"+r.path),e)?`See: ${e}`:""};class tf extends j{constructor(t,e){super(function(e,r){z.debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=e,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(t,e){return e(null,{auth:""})}trigger(t,e){if(0!==t.indexOf("client-"))throw new tr("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var r=tl("triggeringClientEvents");z.warn(`Client event triggered before channel 'subscription_succeeded' event . ${r}`)}return this.pusher.send_event(t,e,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(t){var e=t.event,r=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):"pusher_internal:subscription_count"===e?this.handleSubscriptionCountEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,r,{})}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)}handleSubscriptionCountEvent(t){t.data.subscription_count&&(this.subscriptionCount=t.data.subscription_count),this.emit("pusher:subscription_count",t.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(t,e)=>{t?(this.subscriptionPending=!1,z.error(t.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof tu?{status:t.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:e.auth,channel_data:e.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class tp extends tf{authorize(t,e){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:t},e)}}class td{constructor(){this.reset()}get(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null}each(t){O(this.members,(e,r)=>{t(this.get(r))})}setMyID(t){this.myID=t}onSubscription(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)}addMember(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)}removeMember(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}class tg extends tp{constructor(t,e){super(t,e),this.members=new td}authorize(t,e){super.authorize(t,(t,r)=>{var n,i,s,o;return n=this,i=void 0,s=void 0,o=function*(){if(!t)if(null!=r.channel_data){var n=JSON.parse(r.channel_data);this.members.setMyID(n.user_id)}else if(yield this.pusher.user.signinDonePromise,null!=this.pusher.user.user_data)this.members.setMyID(this.pusher.user.user_data.id);else{let t=tl("authorizationEndpoint");z.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${t}, or the user should be signed in.`),e("Invalid auth response");return}e(t,r)},new(s||(s=Promise))(function(t,e){function r(t){try{h(o.next(t))}catch(t){e(t)}}function a(t){try{h(o.throw(t))}catch(t){e(t)}}function h(e){var n;e.done?t(e.value):((n=e.value)instanceof s?n:new s(function(t){t(n)})).then(r,a)}h((o=o.apply(n,i||[])).next())})})}handleEvent(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var r=t.data,n={};t.user_id&&(n.user_id=t.user_id),this.emit(e,r,n)}}handleInternalEvent(t){var e=t.event,r=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(r);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(r);i&&this.emit("pusher:member_removed",i)}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var tb=n(17),ty=n(8);class tm extends tp{constructor(t,e,r){super(t,e),this.key=null,this.nacl=r}authorize(t,e){super.authorize(t,(t,r)=>{if(t)return void e(t,r);let n=r.shared_secret;n?(this.key=Object(ty.decode)(n),delete r.shared_secret,e(null,r)):e(Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)})}trigger(t,e){throw new to("Client events are not currently supported for encrypted channels")}handleEvent(t){var e=t.event,r=t.data;0===e.indexOf("pusher_internal:")||0===e.indexOf("pusher:")?super.handleEvent(t):this.handleEncryptedEvent(e,r)}handleEncryptedEvent(t,e){if(!this.key)return void z.debug("Received encrypted event before key has been retrieved from the authEndpoint");if(!e.ciphertext||!e.nonce)return void z.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);let r=Object(ty.decode)(e.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)return void z.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${r.length}`);let n=Object(ty.decode)(e.nonce);if(n.length<this.nacl.secretbox.nonceLength)return void z.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${n.length}`);let i=this.nacl.secretbox.open(r,n,this.key);if(null===i){z.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(e,s)=>{e?z.error(`Failed to make a request to the authEndpoint: ${s}. Unable to fetch new key, so dropping encrypted event`):null===(i=this.nacl.secretbox.open(r,n,this.key))?z.error("Failed to decrypt event with new key. Dropping encrypted event"):this.emit(t,this.getDataToEmit(i))});return}this.emit(t,this.getDataToEmit(i))}getDataToEmit(t){let e=Object(tb.decode)(t);try{return JSON.parse(e)}catch(t){return e}}}class tv extends j{constructor(t,e){super(),this.state="initialized",this.connection=null,this.key=t,this.options=e,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=t8.getNetwork();r.bind("online",()=>{this.timeline.info({netinfo:"online"}),("connecting"===this.state||"unavailable"===this.state)&&this.retryIn(0)}),r.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(t){return!!this.connection&&this.connection.send(t)}send_event(t,e,r){return!!this.connection&&this.connection.send_event(t,e,r)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var t=(e,r)=>{e?this.runner=this.strategy.connect(0,t):"error"===r.action?(this.emit("error",{type:"HandshakeError",error:r.error}),this.timeline.error({handshakeError:r.error})):(this.abortConnecting(),this.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,t)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(t){this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new E(t||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new E(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new E(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new E(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(t){return w({},t,{message:t=>{this.resetActivityCheck(),this.emit("message",t)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:t=>{this.emit("error",t)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(t){return w({},t,{connected:t=>{this.activityTimeout=Math.min(this.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(t.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let t=t=>e=>{e.error&&this.emit("error",{type:"WebSocketError",error:e.error}),t(e)};return{tls_only:t(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:t(()=>{this.disconnect()}),backoff:t(()=>{this.retryIn(1e3)}),retry:t(()=>{this.retryIn(0)})}}setConnection(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}}updateState(t,e){var r=this.state;if(this.state=t,r!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id),z.debug("State changed",r+" -> "+n),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:r,current:t}),this.emit(t,e)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class t_{constructor(){this.channels={}}add(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return tE.createEncryptedChannel(t,e,e.config.nacl);let r=tl("encryptedChannelSupport");throw new to(`Tried to subscribe to a private-encrypted- channel but no nacl implementation available. ${r}`)}if(0===t.indexOf("private-"))return tE.createPrivateChannel(t,e);if(0===t.indexOf("presence-"))return tE.createPresenceChannel(t,e);if(0!==t.indexOf("#"))return tE.createChannel(t,e);throw new tn('Cannot create a channel with name "'+t+'".')}(t,e)),this.channels[t]}all(){var t,e;return t=this.channels,e=[],O(t,function(t){e.push(t)}),e}find(t){return this.channels[t]}remove(t){var e=this.channels[t];return delete this.channels[t],e}disconnect(){O(this.channels,function(t){t.disconnect()})}}var tE={createChannels:()=>new t_,createConnectionManager:(t,e)=>new tv(t,e),createChannel:(t,e)=>new tf(t,e),createPrivateChannel:(t,e)=>new tp(t,e),createPresenceChannel:(t,e)=>new tg(t,e),createEncryptedChannel:(t,e,r)=>new tm(t,e,r),createTimelineSender:(t,e)=>new te(t,e),createHandshake:(t,e)=>new tt(t,e),createAssistantToTheTransportManager:(t,e,r)=>new J(t,e,r)};class tx{constructor(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}getAssistant(t){return tE.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class tS{constructor(t,e){this.strategies=t,this.loop=!!e.loop,this.failFast=!!e.failFast,this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}isSupported(){return R(this.strategies,S.method("isSupported"))}connect(t,e){var r=this.strategies,n=0,i=this.timeout,s=null,o=(a,h)=>{h?e(null,h):(n+=1,this.loop&&(n%=r.length),n<r.length?(i&&(i*=2,this.timeoutLimit&&(i=Math.min(i,this.timeoutLimit))),s=this.tryStrategy(r[n],t,{timeout:i,failFast:this.failFast},o)):e(!0))};return s=this.tryStrategy(r[n],t,{timeout:i,failFast:this.failFast},o),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}}tryStrategy(t,e,r,n){var i=null,s=null;return r.timeout>0&&(i=new E(r.timeout,function(){s.abort(),n(!0)})),s=t.connect(e,function(t,e){(!(t&&i&&i.isRunning())||r.failFast)&&(i&&i.ensureAborted(),n(t,e))}),{abort:function(){i&&i.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}}}class tw{constructor(t){this.strategies=t}isSupported(){return R(this.strategies,S.method("isSupported"))}connect(t,e){var r,n,i,s;return r=this.strategies,n=t,i=function(t,r){return function(n,i){if(r[t].error=n,n){(function(t){for(var e,r=0;r<t.length;r++){if(e=t[r],!e.error)return!1}return!0})(r)&&e(!0);return}k(r,function(t){t.forceMinPriority(i.transport.priority)}),e(null,i)}},s=P(r,function(t,e,r,s){return t.connect(n,i(e,s))}),{abort:function(){k(s,tC)},forceMinPriority:function(t){k(s,function(e){e.forceMinPriority(t)})}}}}function tC(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}class tA{constructor(t,e,r){this.strategy=t,this.transports=e,this.ttl=r.ttl||18e5,this.usingTLS=r.useTLS,this.timeline=r.timeline}isSupported(){return this.strategy.isSupported()}connect(t,e){var r=this.usingTLS,n=function(t){var e=t8.getLocalStorage();if(e)try{var r=e[tO(t)];if(r)return JSON.parse(r)}catch(e){tT(t)}return null}(r),i=n&&n.cacheSkipCount?n.cacheSkipCount:0,s=[this.strategy];if(n&&n.timestamp+this.ttl>=S.now()){var o=this.transports[n.transport];o&&(["ws","wss"].includes(n.transport)||i>3?(this.timeline.info({cached:!0,transport:n.transport,latency:n.latency}),s.push(new tS([o],{timeout:2*n.latency+1e3,failFast:!0}))):i++)}var a=S.now(),h=s.pop().connect(t,function n(o,u){o?(tT(r),s.length>0?(a=S.now(),h=s.pop().connect(t,n)):e(o)):(function(t,e,r,n){var i=t8.getLocalStorage();if(i)try{i[tO(t)]=L({timestamp:S.now(),transport:e,latency:r,cacheSkipCount:n})}catch(t){}}(r,u.transport.name,S.now()-a,i),e(null,u))});return{abort:function(){h.abort()},forceMinPriority:function(e){t=e,h&&h.forceMinPriority(e)}}}}function tO(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function tT(t){var e=t8.getLocalStorage();if(e)try{delete e[tO(t)]}catch(t){}}class tk{constructor(t,{delay:e}){this.strategy=t,this.options={delay:e}}isSupported(){return this.strategy.isSupported()}connect(t,e){var r,n=this.strategy,i=new E(this.options.delay,function(){r=n.connect(t,e)});return{abort:function(){i.ensureAborted(),r&&r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}}}class tP{constructor(t,e,r){this.test=t,this.trueBranch=e,this.falseBranch=r}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)}}class tD{constructor(t){this.strategy=t}isSupported(){return this.strategy.isSupported()}connect(t,e){var r=this.strategy.connect(t,function(t,n){n&&r.abort(),e(t,n)});return r}}function tU(t){return function(){return t.isSupported()}}class tR extends j{constructor(t,e,r){super(),this.hooks=t,this.method=e,this.url=r}start(t){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},t8.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)}close(){this.unloader&&(t8.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(t,e){for(;;){var r=this.advanceBuffer(e);if(r)this.emit("chunk",{status:t,data:r});else break}this.isBufferTooLong(e)&&this.emit("buffer_too_long")}advanceBuffer(t){var e=t.slice(this.position),r=e.indexOf("\n");return -1!==r?(this.position+=r+1,e.slice(0,r)):null}isBufferTooLong(t){return this.position===t.length&&t.length>262144}}(i=a||(a={}))[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSED=3]="CLOSED";var tL=a,tB=1;function tN(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+tB++}function tM(t){return t8.randomInt(t)}var tI=class{constructor(t,e){this.hooks=t,this.session=tM(1e3)+"/"+function(t){for(var e=[],r=0;r<8;r++)e.push(tM(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=tL.CONNECTING,this.openStream()}send(t){return this.sendRaw(JSON.stringify([t]))}ping(){this.hooks.sendHeartbeat(this)}close(t,e){this.onClose(t,e,!0)}sendRaw(t){if(this.readyState!==tL.OPEN)return!1;try{var e,r;return t8.createSocketRequest("POST",tN((e=this.location,r=this.session,e.base+"/"+r+"/xhr_send"))).start(t),!0}catch(t){return!1}}reconnect(){this.closeStream(),this.openStream()}onClose(t,e,r){this.closeStream(),this.readyState=tL.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:r})}onChunk(t){if(200===t.status){var e;switch(this.readyState===tL.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var r=0;r<e.length;r++)this.onEvent(e[r]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}}}onOpen(t){var e,r,n;this.readyState===tL.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,r=t.hostname,(n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+r+n[3])),this.readyState=tL.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(t){this.readyState===tL.OPEN&&this.onmessage&&this.onmessage({data:t})}onActivity(){this.onactivity&&this.onactivity()}onError(t){this.onerror&&this.onerror(t)}openStream(){this.stream=t8.createSocketRequest("POST",tN(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",t=>{this.onChunk(t)}),this.stream.bind("finished",t=>{this.hooks.onFinished(this,t)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(t){S.defer(()=>{this.onError(t),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},tF={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},tH={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},tj={getRequest:function(t){var e=new(t8.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},tz=n(18),tq=n(19),tK=new class extends j{isOnline(){return!0}};(s=h||(h={})).UserAuthentication="user-authentication",s.ChannelAuthorization="channel-authorization";var t$=function(t,e,r,n,i){let s=t8.createXHR();for(var o in s.open("POST",r.endpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.headers)s.setRequestHeader(o,r.headers[o]);if(null!=r.headersProvider){let t=r.headersProvider();for(var o in t)s.setRequestHeader(o,t[o])}return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){let t,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){i(new tu(200,`JSON returned from ${n.toString()} endpoint was invalid, yet status code was 200. Data was: ${s.responseText}`),null)}e&&i(null,t)}else{let t="";switch(n){case h.UserAuthentication:t=tl("authenticationEndpoint");break;case h.ChannelAuthorization:t=`Clients must be authorized to join private or presence channels. ${tl("authorizationEndpoint")}`}i(new tu(s.status,`Unable to retrieve auth string from ${n.toString()} endpoint - received status: ${s.status} from ${r.endpoint}. ${t}`),null)}},s.send(e),s},tY=n(3);let{getDefaultStrategy:tG,Transports:tV,setup:tW,getProtocol:tZ,isXHRSupported:tJ,getLocalStorage:tX,createXHR:tQ,createWebSocket:t5,addUnloadListener:t0,removeUnloadListener:t1,transportConnectionInitializer:t2,createSocketRequest:t6,HTTPFactory:t3}={getDefaultStrategy:function(t,e,r){var n,i={};function s(e,n,s,o,a){var h=r(t,e,n,s,o,a);return i[e]=h,h}var o=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),a=w({},o,{useTLS:!0}),h=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),u={loop:!0,timeout:15e3,timeoutLimit:6e4},c=new tx({minPingDelay:1e4,maxPingDelay:t.activityTimeout}),l=new tx({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),f=s("ws","ws",3,o,c),p=s("wss","ws",3,a,c),d=s("xhr_streaming","xhr_streaming",1,h,l),g=s("xhr_polling","xhr_polling",1,h),b=new tS([f],u),y=new tS([p],u),m=new tS([d],u),v=new tS([g],u),_=new tS([new tP(tU(m),new tw([m,new tk(v,{delay:4e3})]),v)],u);return n=new tw(e.useTLS?[b,new tk(_,{delay:2e3})]:[b,new tk(y,{delay:2e3}),new tk(_,{delay:5e3})]),new tA(new tD(new tP(tU(f),n,_)),i,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},Transports:Z,transportConnectionInitializer:function(){this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.useTLS?"s":"")})),this.hooks.isInitialized()?this.changeState("initialized"):this.onClose()},HTTPFactory:{createStreamingSocket(t){return this.createSocket(tF,t)},createPollingSocket(t){return this.createSocket(tH,t)},createSocket:(t,e)=>new tI(t,e),createXHR(t,e){return this.createRequest(tj,t,e)},createRequest:(t,e,r)=>new tR(t,e,r)},setup(t){t.ready()},getLocalStorage(){},getClientFeatures:()=>T(U({ws:Z.ws},function(t){return t.isSupported({})})),getProtocol:()=>"http:",isXHRSupported:()=>!0,createSocketRequest(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);throw"Cross-origin HTTP requests are not supported"},createXHR(){return new(this.getXHRAPI())},createWebSocket(t){return new(this.getWebSocketAPI())(t)},addUnloadListener(t){},removeUnloadListener(t){}};var t8={getDefaultStrategy:tG,Transports:tV,setup:tW,getProtocol:tZ,isXHRSupported:tJ,createSocketRequest:t6,getLocalStorage:tX,createXHR:tQ,createWebSocket:t5,addUnloadListener:t0,removeUnloadListener:t1,transportConnectionInitializer:t2,HTTPFactory:t3,TimelineTransport:{name:"xhr",getAgent:function(t,e){return function(r,n){var i,s,o,a,h="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path;h+="/2?"+P((i=U(r,function(t){return void 0!==t}),s=function(t){return"object"==typeof t&&(t=L(t)),encodeURIComponent(y(t.toString().replace(/[^\x00-\x7F]/g,g)))},o={},O(i,function(t,e){o[e]=s(t)}),a=[],O(o,function(t,e){a.push([e,t])}),a),S.method("join","=")).join("&");var u=t8.createXHR();u.open("GET",h,!0),u.onreadystatechange=function(){if(4===u.readyState){let{status:r,responseText:n}=u;if(200!==r)return void z.debug(`TimelineSender Error: received ${r} from stats.pusher.com`);try{var{host:e}=JSON.parse(n)}catch(t){z.debug(`TimelineSenderError: invalid response ${n}`)}e&&(t.host=e)}},u.send()}}},getAuthorizers:()=>({ajax:t$}),getWebSocketAPI:()=>tz.Client,getXHRAPI:()=>tq.XMLHttpRequest,getNetwork:()=>tK,randomInt:t=>Object(tY.randomInt)(t)};(o=u||(u={}))[o.ERROR=3]="ERROR",o[o.INFO=6]="INFO",o[o.DEBUG=7]="DEBUG";var t4=u;class t9{constructor(t,e,r){this.key=t,this.session=e,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}log(t,e){t<=this.options.level&&(this.events.push(w({},e,{timestamp:S.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(t){this.log(t4.ERROR,t)}info(t){this.log(t4.INFO,t)}debug(t){this.log(t4.DEBUG,t)}isEmpty(){return 0===this.events.length}send(t,e){var r=w({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,(t,r)=>{!t&&this.sent++,e&&e(t,r)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class t7{constructor(t,e,r,n){this.name=t,this.priority=e,this.transport=r,this.options=n||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(t,e){if(!this.isSupported())return et(new th,e);if(this.priority<t)return et(new ti,e);var r=!1,n=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,s=function(){n.unbind("initialized",s),n.connect()},o=function(){i=tE.createHandshake(n,function(t){r=!0,u(),e(null,t)})},a=function(t){u(),e(t)},h=function(){u(),e(new ts(L(n)))},u=function(){n.unbind("initialized",s),n.unbind("open",o),n.unbind("error",a),n.unbind("closed",h)};return n.bind("initialized",s),n.bind("open",o),n.bind("error",a),n.bind("closed",h),n.initialize(),{abort:()=>{r||(u(),i?i.close():n.close())},forceMinPriority:t=>{!r&&this.priority<t&&(i?i.close():n.close())}}}}function et(t,e){return S.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:ee}=t8;var er=function(t,e,r,n,i,s){var o,a=ee[r];if(!a)throw new ta(r);return t.enabledTransports&&-1===A(t.enabledTransports,e)||t.disabledTransports&&-1!==A(t.disabledTransports,e)?o=en:(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),o=new t7(e,n,s?s.getAssistant(a):a,i)),o},en={isSupported:function(){return!1},connect:function(t,e){var r=S.defer(function(){e(new th)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function ei(t){if(null==t)throw"You must pass an options object";if(null==t.cluster)throw"Options object must provide a cluster";"disableStats"in t&&z.warn("The disableStats option is deprecated in favor of enableStats")}class es extends j{constructor(t){super(function(t,e){z.debug(`No callbacks on watchlist events for ${t}`)}),this.pusher=t,this.bindWatchlistInternalEvent()}handleEvent(t){t.data.events.forEach(t=>{this.emit(t.name,t)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",t=>{"pusher_internal:watchlist_events"===t.event&&this.handleEvent(t)})}}var eo=function(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}};class ea extends j{constructor(t){super(function(t,e){z.debug("No callbacks on user for "+t)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(t,e)=>{if(t){z.warn(`Error during signin: ${t}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:e.auth,user_data:e.user_data})},this.pusher=t,this.pusher.connection.bind("state_change",({previous:t,current:e})=>{"connected"!==t&&"connected"===e&&this._signin(),"connected"===t&&"connected"!==e&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new es(t),this.pusher.connection.bind("message",t=>{"pusher:signin_success"===t.event&&this._onSigninSuccess(t.data),this.serverToUserChannel&&this.serverToUserChannel.name===t.channel&&this.serverToUserChannel.handleEvent(t)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(t){try{this.user_data=JSON.parse(t.user_data)}catch(e){z.error(`Failed parsing user data after signin: ${t.user_data}`),this._cleanup();return}if("string"!=typeof this.user_data.id||""===this.user_data.id){z.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){let t=t=>{t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.pusher.connection.state||t.subscribe()};this.serverToUserChannel=new tf(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((t,e)=>{0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")&&this.emit(t,e)}),t(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:t,resolve:e,reject:r}=eo();t.done=!1;let n=()=>{t.done=!0};t.then(n).catch(n),this.signinDonePromise=t,this._signinDoneResolve=e}}class eh{static ready(){eh.isReady=!0;for(var t=0,e=eh.instances.length;t<e;t++)eh.instances[t].connect()}static getClientFeatures(){return T(U({ws:t8.Transports.ws},function(t){return t.isSupported({})}))}constructor(t,e){(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."})(t),ei(e),this.key=t,this.config=function(t,e){var r,n,i,s;let o={activityTimeout:t.activityTimeout||12e4,cluster:t.cluster,httpPath:t.httpPath||"/pusher",httpPort:t.httpPort||80,httpsPort:t.httpsPort||443,pongTimeout:t.pongTimeout||3e4,statsHost:t.statsHost||"stats.pusher.com",unavailableTimeout:t.unavailableTimeout||1e4,wsPath:t.wsPath||"",wsPort:t.wsPort||80,wssPort:t.wssPort||443,enableStats:"enableStats"in(r=t)?r.enableStats:"disableStats"in r&&!r.disableStats,httpHost:(n=t).httpHost?n.httpHost:n.cluster?`sockjs-${n.cluster}.pusher.com`:"sockjs.pusher.com",useTLS:function(t){if("https:"===t8.getProtocol());else if(!1===t.forceTLS)return!1;return!0}(t),wsHost:(i=t).wsHost?i.wsHost:(s=i.cluster,`ws-${s}.pusher.com`),userAuthenticator:function(t){let e=Object.assign(Object.assign({},N),t.userAuthentication);if("customHandler"in e&&null!=e.customHandler)return e.customHandler;if(void 0===t8.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,r)=>{let n=((t,e)=>{var r="socket_id="+encodeURIComponent(t.socketId);for(var n in e.params)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e.params[n]);if(null!=e.paramsProvider){let t=e.paramsProvider();for(var n in t)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n])}return r})(t,e);t8.getAuthorizers()[e.transport](t8,n,e,h.UserAuthentication,r)}}(t),channelAuthorizer:function(t,e){let r=function(t,e){let r;if("channelAuthorization"in t)r=Object.assign(Object.assign({},M),t.channelAuthorization);else{var n,i;let s;r={transport:t.authTransport||"ajax",endpoint:t.authEndpoint||"/pusher/auth"},"auth"in t&&("params"in t.auth&&(r.params=t.auth.params),"headers"in t.auth&&(r.headers=t.auth.headers)),"authorizer"in t&&(r.customHandler=(n=r,i=t.authorizer,s={authTransport:n.transport,authEndpoint:n.endpoint,auth:{params:n.params,headers:n.headers}},(t,r)=>{i(e.channel(t.channelName),s).authorize(t.socketId,r)}))}return r}(t,e);if("customHandler"in r&&null!=r.customHandler)return r.customHandler;if(void 0===t8.getAuthorizers()[r.transport])throw`'${r.transport}' is not a recognized auth transport`;return(t,e)=>{let n=((t,e)=>{var r="socket_id="+encodeURIComponent(t.socketId);for(var n in r+="&channel_name="+encodeURIComponent(t.channelName),e.params)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e.params[n]);if(null!=e.paramsProvider){let t=e.paramsProvider();for(var n in t)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n])}return r})(t,r);t8.getAuthorizers()[r.transport](t8,n,r,h.ChannelAuthorization,e)}}(t,e)};return"disabledTransports"in t&&(o.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(o.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(o.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(o.timelineParams=t.timelineParams),"nacl"in t&&(o.nacl=t.nacl),o}(e,this),this.channels=tE.createChannels(),this.global_emitter=new j,this.sessionID=t8.randomInt(1e9),this.timeline=new t9(this.key,this.sessionID,{cluster:this.config.cluster,features:eh.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:t4.INFO,version:B}),this.config.enableStats&&(this.timelineSender=tE.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+t8.TimelineTransport.name}));var r=t=>t8.getDefaultStrategy(this.config,t,er);this.connection=tE.createConnectionManager(this.key,{getStrategy:r,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",t=>{var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var r=this.channel(t.channel);r&&r.handleEvent(t)}e||this.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",t=>{z.warn(t)}),eh.instances.push(this),this.timeline.info({instances:eh.instances.length}),this.user=new ea(this),eh.isReady&&this.connect()}channel(t){return this.channels.find(t)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new x(6e4,function(){e.send(t)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(t,e,r){return this.global_emitter.bind(t,e,r),this}unbind(t,e,r){return this.global_emitter.unbind(t,e,r),this}bind_global(t){return this.global_emitter.bind_global(t),this}unbind_global(t){return this.global_emitter.unbind_global(t),this}unbind_all(t){return this.global_emitter.unbind_all(),this}subscribeAll(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)}subscribe(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e}unsubscribe(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&e.subscribed&&e.unsubscribe()}send_event(t,e,r){return this.connection.send_event(t,e,r)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}eh.instances=[],eh.isReady=!1,eh.logToConsole=!1,eh.Runtime=t8,eh.ScriptReceivers=t8.ScriptReceivers,eh.DependenciesReceivers=t8.DependenciesReceivers,eh.auth_callbacks=t8.auth_callbacks;var eu=eh;t8.setup(eh);var ec=n(20);class el extends eu{constructor(t,e){eu.logToConsole=el.logToConsole,eu.log=el.log,ei(e),e.nacl=ec,super(t,e)}}}])},1454,t=>{"use strict";var e=t.i(74648);t.i(35683);let r=new e.default({appId:"2092245",key:"f9d7980c56db83a0605b",secret:process.env.PUSHER_SECRET||"",cluster:"ap2",useTLS:!0});t.s(["CHANNELS",0,{STUDENTS:"students",BALANCE_UPDATE:t=>`balance-${t}`,ADMIN:"admin-channel"},"pusher",0,r])}];

//# sourceMappingURL=_2cfd1fe1._.js.map