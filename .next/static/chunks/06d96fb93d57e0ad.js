(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20383,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(22016),r=e.i(75254);let n=(0,r.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),d=(0,r.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),o=(0,r.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),i=(0,r.default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),c=(0,r.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),x=(0,r.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),m=(0,r.default)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),h=(0,r.default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var u=e.i(52754);let b=(0,r.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var f=e.i(37727);let p=(0,r.default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),g=(0,r.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),j=(0,r.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var w=e.i(27612);let y=(0,r.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),N=(0,r.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),v=(0,r.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k=(0,r.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),S=(0,r.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),C=(0,r.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var T=e.i(70756);let D=(0,r.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),F=(0,r.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),I=(0,r.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var A=e.i(40160);let $=(0,r.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),M=(0,r.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var P=e.i(55436),E=e.i(63178),O=e.i(55749),z=e.i(70016),R=e.i(36084);let L=["bg-orange-100","bg-blue-100","bg-green-100","bg-purple-100","bg-pink-100"];function B(){let e,r,B,_,U,H,W=(0,a.useRouter)(),{theme:J,setTheme:q}=(0,E.useTheme)(),[V,Y]=(0,s.useState)(!1),[K,X]=(0,s.useState)(!0),[G,Z]=(0,s.useState)("home"),[Q,ee]=(0,s.useState)(""),[et,es]=(0,s.useState)(0),[ea,el]=(0,s.useState)(0),[er,en]=(0,s.useState)(0),[ed,eo]=(0,s.useState)([]),[ei,ec]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(!1),[eh,eu]=(0,s.useState)(null),[eb,ef]=(0,s.useState)(null),[ep,eg]=(0,s.useState)(!1),[ej,ew]=(0,s.useState)(null),[ey,eN]=(0,s.useState)(null),[ev,ek]=(0,s.useState)(""),[eS,eC]=(0,s.useState)(""),[eT,eD]=(0,s.useState)(""),[eF,eI]=(0,s.useState)({name:"",mobile:"",email:"",profileImage:""}),[eA,e$]=(0,s.useState)(""),[eM,eP]=(0,s.useState)(""),[eE,eO]=(0,s.useState)(""),[ez,eR]=(0,s.useState)(0),[eL,eB]=(0,s.useState)(!1),[e_,eU]=(0,s.useState)(""),[eH,eW]=(0,s.useState)(""),[eJ,eq]=(0,s.useState)(!1),[eV,eY]=(0,s.useState)(null),[eK,eX]=(0,s.useState)(0),[eG,eZ]=(0,s.useState)(0),eQ=e=>{eY(e),"object"==typeof e&&null!==e&&(e.cpu?.percentage!==void 0&&eZ(100-e.cpu.percentage),e.mongodb?.percentage!==void 0&&eX(100-e.mongodb.percentage))},[e0,e1]=(0,s.useState)(!1),[e2,e3]=(0,s.useState)(!1),[e5,e4]=(0,s.useState)(""),[e7,e6]=(0,s.useState)(new Date().toISOString().split("T")[0]),[e8,e9]=(0,s.useState)(""),[te,tt]=(0,s.useState)(null),[ts,ta]=(0,s.useState)(null),[tl,tr]=(0,s.useState)(!1),[tn,td]=(0,s.useState)(!1),[to,ti]=(0,s.useState)("date"),[tc,tx]=(0,s.useState)(new Date(2025,11,1).toISOString().split("T")[0]),[tm,th]=(0,s.useState)(new Date().toISOString().split("T")[0]),[tu,tb]=(0,s.useState)(new Date().toISOString().slice(0,7)),[tf,tp]=(0,s.useState)(new Date().getFullYear().toString()),[tg,tj]=(0,s.useState)(null),[tw,ty]=(0,s.useState)(""),[tN,tv]=(0,s.useState)(""),[tk,tS]=(0,s.useState)([]),[tC,tT]=(0,s.useState)(!1),[tD,tF]=(0,s.useState)(!1),[tI,tA]=(0,s.useState)(!1),t$=async()=>{if(!e5||isNaN(parseFloat(e5))||0>=parseFloat(e5)){ta({type:"error",message:"Please enter a valid amount"}),setTimeout(()=>ta(null),3e3);return}if(!tD&&null===te){ta({type:"error",message:"Please select a student"}),setTimeout(()=>ta(null),3e3);return}try{let e=parseFloat(e5),t=[...ed];for(let s of tD?t:[t[te]])if(s._id){s.balance+=e,s.transactions.push({type:"deposit",amount:e,date:new Date(e7).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),reason:e8||void 0}),s.transactions.length>100&&(s.transactions=s.transactions.slice(-100)),await fetch(`/api/students/${s._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});try{await fetch("/api/transactions/deposits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:s._id,studentName:s.name,studentCode:s.code,amount:e,date:e7,reason:e8||void 0})})}catch(e){console.error("Deposit record error:",e)}try{await fetch("/api/pusher/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"balance-update",studentId:s._id,update:{balance:s.balance,amount:e}})})}catch(e){console.error("Broadcast error:",e)}}eo(t),tL(t),e1(!1),e4(""),e6(new Date().toISOString().split("T")[0]),e9(""),tt(null),tF(!1);let s=tD?`Deposit of ₹${e.toFixed(2)} to all ${ed.length} students successful!`:`Deposit of ₹${e.toFixed(2)} successful!`;ta({type:"success",message:s}),setTimeout(()=>ta(null),3e3)}catch(e){ta({type:"error",message:"Failed to process deposit"}),setTimeout(()=>ta(null),3e3),console.error("Deposit error:",e)}},tM=async()=>{if(!e5||isNaN(parseFloat(e5))||0>=parseFloat(e5)){ta({type:"error",message:"Please enter a valid amount"}),setTimeout(()=>ta(null),3e3);return}if(!tI&&null===te){ta({type:"error",message:"Please select a student"}),setTimeout(()=>ta(null),3e3);return}try{let e=parseFloat(e5),t=[...ed];for(let s of tI?t:[t[te]])if(s._id){if(s.balance<e){if(!tI){ta({type:"error",message:`Insufficient balance. Available: ₹${s.balance.toFixed(2)}`}),setTimeout(()=>ta(null),3e3);return}continue}s.balance-=e,s.transactions.push({type:"withdraw",amount:e,date:new Date(e7).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),reason:e8||void 0}),s.transactions.length>100&&(s.transactions=s.transactions.slice(-100)),await fetch(`/api/students/${s._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});try{await fetch("/api/transactions/withdrawals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:s._id,studentName:s.name,studentCode:s.code,amount:e,date:e7,reason:e8||void 0})})}catch(e){console.error("Withdrawal record error:",e)}try{await fetch("/api/pusher/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"balance-update",studentId:s._id,update:{balance:s.balance,amount:e}})})}catch(e){console.error("Broadcast error:",e)}}eo(t),tL(t),e3(!1),e4(""),e6(new Date().toISOString().split("T")[0]),e9(""),tt(null),tA(!1);let s=tI?`Withdrawal of ₹${e.toFixed(2)} from all eligible students successful!`:`Withdrawal of ₹${e.toFixed(2)} successful!`;ta({type:"success",message:s}),setTimeout(()=>ta(null),3e3)}catch(e){ta({type:"error",message:"Failed to process withdrawal"}),setTimeout(()=>ta(null),3e3),console.error("Withdrawal error:",e)}},tP=()=>{let e=new Date(tc),t=new Date(tm),s=[];return ed.forEach(a=>{let l=a.transactions.filter(s=>{if(!s.date)return!1;let a=new Date(s.date);return a>=e&&a<=t}),r=l.filter(e=>"deposit"===e.type).reduce((e,t)=>e+t.amount,0),n=l.filter(e=>"withdraw"===e.type).reduce((e,t)=>e+t.amount,0);s.push({Student:a.name,Username:a.username,Deposits:r.toFixed(2),Withdrawals:n.toFixed(2),"Net Change":(r-n).toFixed(2),"Final Balance":a.balance.toFixed(2)})}),s},tE=()=>{if("date"===to)return tP();if("monthly"===to)return(()=>{let[e,t]=tu.split("-");return parseInt(e),parseInt(t),parseInt(e),parseInt(t),tP()})();if("yearly"===to){let e,t,s;return t=new Date(e=parseInt(tf),0,1),s=new Date(e,11,31),tx(t.toISOString().split("T")[0]),th(s.toISOString().split("T")[0]),tP()}if(null===tg)return[];let e=ed[tg];return e?e.transactions.map((e,t)=>({"S.No":(t+1).toString(),Type:e.type.charAt(0).toUpperCase()+e.type.slice(1),Amount:e.amount.toFixed(2),Date:e.date||"N/A"})):[]},tO=async()=>{if(!eF.name)return void alert("Please fill in the full name");if(null!==eh){let e=[...ed],t=e[eh];e[eh]={...t,name:eF.name,email:eF.email||t.email,mobile:eF.mobile||t.mobile,profileImage:eF.profileImage||t.profileImage||""},eo(e),tL(e);try{let e={name:eF.name,email:eF.email||t.email||"",mobile:eF.mobile||t.mobile||"",profileImage:eF.profileImage||t.profileImage||""},s=await fetch(`/api/students/${t._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();console.error("Update error:",e),ta({type:"error",message:"Failed to update account: "+(e.error||"Unknown error")}),setTimeout(()=>ta(null),3e3);return}eI({name:"",mobile:"",email:"",profileImage:""}),eu(null),em(!1),ta({type:"success",message:"Account updated successfully!"}),setTimeout(()=>ta(null),3e3)}catch(e){console.error("Update error:",e),ta({type:"error",message:"Failed to update account"}),setTimeout(()=>ta(null),3e3)}}},tz=async()=>{if(null!==ej)try{let e=ed[ej];if(e._id&&!(await fetch(`/api/students/${e._id}`,{method:"DELETE"})).ok)throw Error("Failed to delete from database");let t=ed.filter((e,t)=>t!==ej);eo(t),tL(t),eg(!1),ew(null),ef(null),ta({type:"success",message:"Account deleted successfully!"}),setTimeout(()=>ta(null),3e3)}catch(e){ta({type:"error",message:"Failed to delete account"}),setTimeout(()=>ta(null),3e3)}},tR=()=>{eg(!1),ew(null)},tL=e=>{let t=0,s=0,a=0;e.forEach(e=>{t+=e.balance||0,e.transactions&&e.transactions.forEach(e=>{"deposit"===e.type?s+=e.amount||0:"withdraw"===e.type&&(a+=e.amount||0)})}),es(t),el(s),en(a)};(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/verify");if(!e.ok||"admin"!==(await e.json()).userType)return void W.push("/login");Y(!0),X(!1)}catch(e){W.push("/login")}})();let e=async()=>{try{let e=await fetch("/api/students");if(e.ok){let t=await e.json();eo(t),tL(t)}}catch(e){console.error("Failed to fetch students:",e)}};e();let t=async()=>{try{let e=await fetch("/api/system/status"),t=await e.json();eY(t)}catch(e){console.error("Failed to fetch system status:",e)}};t();let s=setInterval(t,5e3),a=setInterval(e,3e3);return ee(new Date().toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})),()=>{clearInterval(s),clearInterval(a)}},[]),(0,R.usePusherAdminUpdates)(e=>{"list-updated"===e.type&&(eQ(!0),setTimeout(()=>eQ(!1),2e3))});let tB=async()=>{if(!eF.name)return void alert("Please fill in the full name");try{let e=`${eF.name.split(" ").slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")}-${Math.floor(1e3+8e3*Math.random())}`,t=await fetch("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:eF.name,code:e,profileImage:eF.profileImage,balance:0,transactions:[]})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create account")}await t.json(),eI({name:"",mobile:"",email:"",profileImage:""}),ec(!1),ta({type:"success",message:`Account created! Code: ${e}`}),setTimeout(()=>ta(null),5e3);try{let e=await fetch("/api/students");if(e.ok){let t=await e.json();eo(t),tL(t)}}catch(e){console.error("Failed to refresh students list:",e)}}catch(e){ta({type:"error",message:`Failed to create account: ${e instanceof Error?e.message:"Unknown error"}`}),setTimeout(()=>ta(null),3e3)}};return!V||K?null:(0,t.jsxs)("div",{className:`min-h-screen pb-24 ${"status"===G?"bg-white dark:bg-slate-800":"bg-white dark:bg-slate-900"}`,children:[(0,t.jsxs)("div",{className:`px-5 pt-6 ${"status"===G?"text-[#171532] dark:text-white":""}`,children:[ts?(0,t.jsx)("div",{className:"fixed top-6 right-6 z-[60] animate-in fade-in slide-in-from-top-2 duration-300",children:(0,t.jsx)("div",{className:`rounded-xl px-6 py-4 shadow-xl backdrop-blur-sm border ${"success"===ts.type?"bg-[#10B981]/95 border-[#10B981] text-white":"bg-[#EF4444]/95 border-[#EF4444] text-white"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["success"===ts.type?(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold",children:"✓"})}):(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold",children:"!"})}),(0,t.jsx)("p",{className:"font-medium text-sm",children:ts.message})]})})}):null,e0&&(e0?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md mx-4 shadow-2xl animate-in scale-in duration-200",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-slate-700",children:(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532] dark:text-white",children:"Deposit Amount"})}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-amber-50 dark:bg-slate-700 border border-amber-200 dark:border-amber-700 rounded-xl p-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"deposit-all",checked:tD,onChange:e=>{tF(e.target.checked),e.target.checked&&tt(null)},className:"w-4 h-4 rounded"}),(0,t.jsx)("label",{htmlFor:"deposit-all",className:"text-sm font-semibold text-[#171532] dark:text-white cursor-pointer",children:"Deposit to All Students"})]}),!tD&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Select Student"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>tr(!tl),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white text-left flex items-center justify-between hover:border-[#4a6670] dark:hover:border-slate-500 transition-colors",children:[(0,t.jsx)("span",{children:null!==te?ed[te]?.name:"Choose a student..."}),(0,t.jsx)("svg",{className:`w-5 h-5 transition-transform ${tl?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]}),tl&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:ed.map((e,s)=>(0,t.jsx)("button",{onClick:()=>{tt(s),tr(!1)},className:"w-full px-4 py-3 text-left hover:bg-[#f0f0f0] dark:hover:bg-slate-600 border-b border-gray-100 dark:border-slate-600 last:border-b-0 transition-colors text-[#171532] dark:text-white",children:(0,t.jsx)("div",{className:"font-medium",children:e.name})},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Amount (₹)"}),(0,t.jsx)("input",{type:"number",value:e5,onChange:e=>e4(e.target.value),placeholder:"Enter amount",className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white placeholder:text-[#a0a0a0]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:e7,onChange:e=>e6(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Reason (Optional)"}),(0,t.jsx)("input",{type:"text",value:e8,onChange:e=>e9(e.target.value),placeholder:"e.g., Scholarship, Gift",className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white placeholder:text-[#a0a0a0]"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{e1(!1),e4(""),e6(new Date().toISOString().split("T")[0]),e9(""),tt(null),tF(!1)},className:"flex-1 py-3 rounded-xl font-semibold text-[#171532] dark:text-white bg-[#f0f0f0] dark:bg-slate-700 hover:bg-[#e5e5e5] dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:t$,className:"flex-1 py-3 rounded-xl font-semibold text-white bg-[#10B981] hover:bg-[#0fa06f] transition-colors",children:"Deposit"})]})]})]})}):null),e2&&(e2?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md mx-4 shadow-2xl animate-in scale-in duration-200",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-slate-700",children:(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532] dark:text-white",children:"Withdraw Amount"})}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-red-50 dark:bg-slate-700 border border-red-200 dark:border-red-700 rounded-xl p-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"withdraw-all",checked:tI,onChange:e=>{tA(e.target.checked),e.target.checked&&tt(null)},className:"w-4 h-4 rounded"}),(0,t.jsx)("label",{htmlFor:"withdraw-all",className:"text-sm font-semibold text-[#171532] dark:text-white cursor-pointer",children:"Withdraw from All Students"})]}),!tI&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Select Student"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>td(!tn),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white text-left flex items-center justify-between hover:border-[#4a6670] dark:hover:border-slate-500 transition-colors",children:[(0,t.jsx)("span",{children:null!==te?ed[te]?.name:"Choose a student..."}),(0,t.jsx)("svg",{className:`w-5 h-5 transition-transform ${tn?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]}),tn&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:ed.map((e,s)=>(0,t.jsxs)("button",{onClick:()=>{tt(s),td(!1)},className:"w-full px-4 py-3 text-left hover:bg-[#f0f0f0] dark:hover:bg-slate-600 border-b border-gray-100 dark:border-slate-600 last:border-b-0 transition-colors text-[#171532] dark:text-white",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-[#747384] dark:text-gray-400",children:["Balance: ₹",e.balance.toFixed(2)]})]},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Amount (₹)"}),(0,t.jsx)("input",{type:"number",value:e5,onChange:e=>e4(e.target.value),placeholder:"Enter amount",className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white placeholder:text-[#a0a0a0]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:e7,onChange:e=>e6(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Reason (Optional)"}),(0,t.jsx)("input",{type:"text",value:e8,onChange:e=>e9(e.target.value),placeholder:"e.g., School supplies, Emergency",className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532] dark:text-white placeholder:text-[#a0a0a0]"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{e3(!1),e4(""),e6(new Date().toISOString().split("T")[0]),e9(""),tt(null),tA(!1)},className:"flex-1 py-3 rounded-xl font-semibold text-[#171532] dark:text-white bg-[#f0f0f0] dark:bg-slate-700 hover:bg-[#e5e5e5] dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:tM,className:"flex-1 py-3 rounded-xl font-semibold text-white bg-[#EF4444] hover:bg-[#dc2626] transition-colors",children:"Withdraw"})]})]})]})}):null),"home"===G&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#4a6670] to-[#3d565e] flex items-center justify-center text-white font-bold text-lg",children:"A"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-[#171532]",children:"Morning, Admin!"}),(0,t.jsx)("p",{className:"text-xs text-[#747384]",children:Q})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("button",{className:"w-10 h-10 bg-[#f0f0f0] rounded-lg flex items-center justify-center",children:(0,t.jsx)(x,{className:"w-5 h-5 text-[#4a6670]"})})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-2xl p-5 mb-6 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,t.jsx)(u.Wallet,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/70 text-sm",children:"Total Balance"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-white",children:["₹",et.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-[#10B981]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(m,{className:"w-4 h-4 text-[#10B981]"})}),(0,t.jsx)("p",{className:"text-white/70 text-xs",children:"Deposited"})]}),(0,t.jsxs)("p",{className:"text-lg font-bold text-white",children:["₹",ea.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-[#EF4444]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(h,{className:"w-4 h-4 text-[#EF4444]"})}),(0,t.jsx)("p",{className:"text-white/70 text-xs",children:"Withdrawn"})]}),(0,t.jsxs)("p",{className:"text-lg font-bold text-white",children:["₹",er.toFixed(2)]})]})]})]}),(0,t.jsx)("h2",{className:"text-lg font-bold text-[#171532] mb-4",children:"Options"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("button",{onClick:()=>e1(!0),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(m,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Deposit"})]}),(0,t.jsxs)("button",{onClick:()=>e3(!0),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(h,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Withdraw"})]}),(0,t.jsxs)("button",{onClick:()=>Z("calendar"),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)($,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Calendar"})]}),(0,t.jsxs)("button",{onClick:()=>Z("status"),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(M,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Status"})]}),(0,t.jsxs)("button",{onClick:()=>window.location.href="/admin/reports",className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(y,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Reports"})]}),(0,t.jsxs)("button",{onClick:()=>Z("ai"),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(N,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"AI"})]}),(0,t.jsxs)("button",{onClick:()=>Z("accounts"),className:"bg-white border border-[#e5e7eb] rounded-2xl p-6 flex flex-col items-center gap-3 hover:bg-[#f8f9fa] transition-all shadow-sm",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-xl flex items-center justify-center",children:(0,t.jsx)(j,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#171532]",children:"Edit"})]})]})]}),"reports"===G&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-[#f0f0f0] dark:hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(D,{className:"w-5 h-5 text-[#4a6670] dark:text-gray-300"})}),(0,t.jsx)("h2",{className:"text-lg font-bold text-[#171532] dark:text-white",children:"Reports"})]}),(0,t.jsx)("button",{onClick:()=>q("dark"===J?"light":"dark"),className:"p-2 hover:bg-[#f0f0f0] dark:hover:bg-slate-700 rounded-lg transition-colors",children:"dark"===J?(0,t.jsx)(I,{className:"w-5 h-5 text-[#f39c12] dark:text-[#f39c12]"}):(0,t.jsx)(F,{className:"w-5 h-5 text-[#4a6670]"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-200 dark:border-slate-700",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-3",children:"Report Type"}),(0,t.jsxs)("select",{value:to,onChange:e=>ti(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white",children:[(0,t.jsx)("option",{value:"date",children:"Selected Date Range"}),(0,t.jsx)("option",{value:"monthly",children:"Monthly Report"}),(0,t.jsx)("option",{value:"yearly",children:"Yearly Report"}),(0,t.jsx)("option",{value:"personal",children:"Individual Student"})]})]}),"date"===to&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-200 dark:border-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:tc,onChange:e=>tx(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:tm,onChange:e=>th(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white"})]})]}),"monthly"===to&&(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-200 dark:border-slate-700",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-3",children:"Select Month"}),(0,t.jsx)("input",{type:"month",value:tu,onChange:e=>tb(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white"})]}),"yearly"===to&&(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-200 dark:border-slate-700",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-3",children:"Select Year"}),(0,t.jsx)("select",{value:tf,onChange:e=>tp(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white",children:[2023,2024,2025].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),"personal"===to&&(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-200 dark:border-slate-700",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] dark:text-white mb-3",children:"Select Student"}),(0,t.jsxs)("select",{value:tg??"",onChange:e=>tj(parseInt(e.target.value)),className:"w-full px-4 py-3 bg-[#f8f9fa] dark:bg-slate-700 border border-[#e8e8e8] dark:border-slate-600 rounded-xl text-[#171532] dark:text-white",children:[(0,t.jsx)("option",{value:"",children:"Choose a student..."}),ed.map((e,s)=>(0,t.jsx)("option",{value:s,children:e.name},s))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=tE();if(0===e.length){ta({type:"error",message:"No data available for this report"}),setTimeout(()=>ta(null),3e3);return}let t=new O.default,s=t.internal.pageSize.getHeight(),a=t.internal.pageSize.getWidth(),l=20;t.setFontSize(16),t.text("JDSA Students Bank Report",10,l),l+=10,t.setFontSize(10);let r="date"===to?`Date Range: ${tc} to ${tm}`:"monthly"===to?`Monthly Report: ${tu}`:"yearly"===to?`Yearly Report: ${tf}`:`Personal Report: ${ed[tg]?.name||"N/A"}`;t.text(r,10,l),l+=8;let n=Object.keys(e[0]),d=e.map(e=>Object.values(e).map(e=>String(e)));t.setFontSize(9);let o=(a-20)/n.length;n.forEach((e,s)=>{t.text(e,10+s*o,l)}),l+=7,t.setFontSize(8),d.forEach(e=>{l+7>s-10&&(t.addPage(),l=10),e.forEach((e,s)=>{t.text(String(e).substring(0,10),10+s*o,l)}),l+=7}),t.save(`JDSA_Report_${to}_${new Date().toISOString().split("T")[0]}.pdf`),ta({type:"success",message:"PDF downloaded successfully!"}),setTimeout(()=>ta(null),3e3)},className:"flex items-center justify-center gap-2 bg-[#EF4444] hover:bg-[#dc2626] text-white px-4 py-2.5 rounded-lg font-medium text-sm transition-colors shadow-md",children:[(0,t.jsx)(A.Download,{className:"w-4 h-4"}),"PDF"]}),(0,t.jsxs)("button",{onClick:()=>{let e=tE();if(0===e.length){ta({type:"error",message:"No data available for this report"}),setTimeout(()=>ta(null),3e3);return}let t=z.utils.json_to_sheet(e),s=z.utils.book_new();z.utils.book_append_sheet(s,t,"Report"),z.writeFile(s,`JDSA_Report_${to}_${new Date().toISOString().split("T")[0]}.xlsx`),ta({type:"success",message:"Excel file downloaded successfully!"}),setTimeout(()=>ta(null),3e3)},className:"flex items-center justify-center gap-2 bg-[#10B981] hover:bg-[#0fa06f] text-white px-4 py-2.5 rounded-lg font-medium text-sm transition-colors shadow-md",children:[(0,t.jsx)(A.Download,{className:"w-4 h-4"}),"Excel"]})]})]})]}),"accounts"===G&&(e=ed.filter(e=>e.name.toLowerCase().includes(tw.toLowerCase())||e.code?.toLowerCase().includes(tw.toLowerCase())),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-[#f0f0f0] rounded-lg transition-colors",children:(0,t.jsx)(D,{className:"w-5 h-5 text-[#4a6670]"})}),(0,t.jsx)("h2",{className:"text-lg font-bold text-[#171532]",children:"All Accounts"})]}),(0,t.jsxs)("button",{onClick:()=>ec(!0),className:"flex items-center gap-1.5 bg-gradient-to-r from-[#4a6670] to-[#3d565e] text-white px-4 py-2.5 rounded-xl text-xs font-bold shadow-md shadow-[#4a6670]/20 hover:shadow-lg transition-all active:scale-95",children:[(0,t.jsx)(b,{className:"w-4 h-4"}),"Add"]})]}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(P.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#747384]"}),(0,t.jsx)("input",{type:"text",placeholder:"Search students by name or code...",value:tw,onChange:e=>ty(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-[#e5e7eb] rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#4a6670]/10 transition-all"})]}),0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(d,{className:"w-14 h-14 text-[#e5e7eb] mb-3"}),(0,t.jsx)("p",{className:"text-[#747384] font-medium text-sm mb-1",children:"No accounts found"}),(0,t.jsx)("p",{className:"text-xs text-[#a0a0a0]",children:"Try a different search term"})]}):(0,t.jsx)("div",{className:"mb-6 overflow-x-auto",children:(0,t.jsxs)("div",{className:"bg-white border border-[#e5e7eb] rounded-xl shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-3 bg-[#f8f9fa] p-4 border-b border-[#e5e7eb] font-semibold text-xs text-[#747384] sticky top-0",children:[(0,t.jsx)("div",{className:"col-span-8",children:"Name"}),(0,t.jsx)("div",{className:"col-span-4",children:"Balance"})]}),(0,t.jsx)("div",{className:"divide-y divide-[#e5e7eb]",children:e.map((e,s)=>{let a=ed.findIndex(t=>t._id===e._id);return(0,t.jsxs)("div",{onClick:()=>ef(a),className:"grid grid-cols-12 gap-3 p-4 hover:bg-[#f8f9fa] cursor-pointer transition-colors",children:[(0,t.jsxs)("div",{className:"col-span-8 flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full ${L[a%L.length]} flex items-center justify-center text-xs font-bold text-[#4a6670] flex-shrink-0`,children:e.name.charAt(0)}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#171532] truncate",children:e.name})]}),(0,t.jsxs)("div",{className:"col-span-4 text-sm font-bold text-[#10B981]",children:["₹",e.balance.toFixed(2)]})]},e._id||s)})})]})}),null!==eb&&(()=>{if(null===eb||!ed[eb])return ef(null),null;let e=ed[eb];return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-end sm:items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-t-3xl sm:rounded-2xl w-full sm:max-w-md max-h-[85vh] overflow-y-auto shadow-2xl animate-in slide-in-from-bottom duration-300",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white flex items-center justify-between px-6 py-5 border-b border-[#f0f0f0]",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532]",children:"Account Details"}),(0,t.jsx)("button",{onClick:()=>ef(null),className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#f5f5f5] text-[#747384] hover:bg-[#e5e5e5] transition-colors",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-5",children:[(0,t.jsx)("div",{className:"flex justify-center pb-4",children:e?.profileImage?(0,t.jsx)("img",{src:e.profileImage,alt:e?.name||"Student",className:"w-24 h-24 rounded-full object-cover shadow-lg"}):(0,t.jsx)("div",{className:`w-24 h-24 rounded-full ${L[eb%L.length]} flex items-center justify-center text-3xl font-bold text-[#4a6670]`,children:e?.name?.charAt(0)||"S"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Full Name"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-[#171532]",children:e?.name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Code"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-[#171532]",children:e?.code||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Balance"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-[#10B981]",children:["₹",(e?.balance||0).toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Transactions"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-[#171532]",children:e?.transactions?.length||0})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-[#f0f0f0]",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-[#171532] mb-3",children:"Transaction History"}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:e.transactions&&e.transactions.length>0?[...e.transactions].reverse().map((s,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#f8f9fa] rounded-xl group border border-transparent hover:border-[#e5e7eb] transition-all",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${"deposit"===s.type?"bg-green-500":"bg-red-500"}`}),(0,t.jsxs)("p",{className:"text-sm font-bold text-[#171532]",children:["deposit"===s.type?"+":"-","₹",s.amount.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-[10px] text-[#747384] truncate",children:[s.date," ",s.reason?`• ${s.reason}`:""]})]}),(0,t.jsx)("button",{onClick:()=>{eN({studentIndex:eb,transactionIndex:e.transactions.length-1-a}),ek(s.amount.toString()),eC(new Date(s.date||Date.now()).toISOString().split("T")[0]),eD(s.reason||"")},className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg opacity-0 group-hover:opacity-100 transition-all",title:"Edit Transaction",children:(0,t.jsx)(j,{className:"w-3.5 h-3.5"})})]},a)):(0,t.jsx)("p",{className:"text-center py-4 text-[#747384] text-xs",children:"No transactions yet"})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-[#e5e7eb]",children:[(0,t.jsxs)("button",{onClick:()=>{let e;ef(null),eI({name:(e=ed[eb]).name||"",mobile:e.mobile||"",email:e.email||"",profileImage:e.profileImage||""}),eu(eb),em(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-blue-100 text-blue-600 py-3 rounded-xl font-semibold hover:bg-blue-200 transition-colors",children:[(0,t.jsx)(j,{className:"w-4 h-4"}),"Edit Account"]}),(0,t.jsxs)("button",{onClick:()=>{ef(null),ew(eb),eg(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-red-100 text-red-600 py-3 rounded-xl font-semibold hover:bg-red-200 transition-colors",children:[(0,t.jsx)(w.Trash2,{className:"w-4 h-4"}),"Delete"]})]})]})]})]})})})(),null!==ey&&(()=>{if(!ey)return null;let e=ed[ey.studentIndex].transactions[ey.transactionIndex],s=async()=>{try{let e=parseFloat(ev);if(isNaN(e)||e<=0){ta({type:"error",message:"Please enter a valid amount"}),setTimeout(()=>ta(null),3e3);return}let t=[...ed],s=t[ey.studentIndex],a=s.transactions[ey.transactionIndex];a.amount=e,a.date=new Date(eS||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),a.reason=eT||void 0;let l=0;if(s.transactions.forEach(e=>{"deposit"===e.type?l+=e.amount:l-=e.amount}),s.transactions.sort((e,t)=>{let s=new Date(e.date||0).getTime();return new Date(t.date||0).getTime()-s}),s.balance=l,!(await fetch(`/api/students/${s._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update");eo(t),tL(t),eN(null),ta({type:"success",message:"Transaction updated successfully"}),setTimeout(()=>ta(null),3e3),fetch("/api/pusher/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"balance-update",studentId:s._id,update:{balance:s.balance}})}).catch(console.error)}catch(e){ta({type:"error",message:"Failed to update transaction"}),setTimeout(()=>ta(null),3e3)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-sm mx-4 shadow-2xl p-6 space-y-4 animate-in scale-in duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-[#171532]",children:"Edit Transaction"}),(0,t.jsx)("button",{onClick:()=>eN(null),className:"p-2 hover:bg-[#f0f0f0] rounded-full",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Type"}),(0,t.jsx)("div",{className:`text-sm font-bold ${"deposit"===e.type?"text-green-600":"text-red-600"} capitalize`,children:e.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Amount (₹)"}),(0,t.jsx)("input",{type:"number",value:ev,onChange:e=>ek(e.target.value),className:"w-full px-4 py-2 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Date"}),(0,t.jsx)("input",{type:"date",value:eS,onChange:e=>eC(e.target.value),className:"w-full px-4 py-2 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[#747384] mb-1",children:"Reason"}),(0,t.jsx)("input",{type:"text",value:eT,onChange:e=>eD(e.target.value),className:"w-full px-4 py-2 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670]"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{onClick:()=>eN(null),className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl font-bold text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:s,className:"flex-1 py-2.5 bg-[#4a6670] text-white rounded-xl font-bold text-sm",children:"Save Changes"})]})]})})})(),ep&&(()=>{if(!ep||null===ej)return null;let e=ed[ej]?.name;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-sm mx-4 shadow-2xl animate-in scale-in duration-200",children:(0,t.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto",children:(0,t.jsx)(w.Trash2,{className:"w-6 h-6 text-red-600"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532] mb-2",children:"Delete Account"}),(0,t.jsxs)("p",{className:"text-sm text-[#747384]",children:["Are you sure you want to delete ",(0,t.jsx)("span",{className:"font-semibold text-[#171532]",children:e}),"? This action cannot be undone."]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:tR,className:"flex-1 py-3 rounded-xl font-semibold text-[#171532] bg-[#f0f0f0] hover:bg-[#e5e5e5] transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:tz,className:"flex-1 py-3 rounded-xl font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors",children:"Delete"})]})]})})})})(),(ei||ex)&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-end sm:items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-t-3xl sm:rounded-2xl w-full sm:max-w-md max-h-[85vh] overflow-y-auto shadow-2xl animate-in slide-in-from-bottom duration-300",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white flex items-center justify-between px-6 py-5 border-b border-[#f0f0f0]",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532]",children:ex?"Edit Account":"Create Account"}),(0,t.jsx)("button",{onClick:()=>{ec(!1),em(!1),eu(null),eI({name:"",mobile:"",email:"",profileImage:""})},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#f5f5f5] text-[#747384] hover:bg-[#e5e5e5] transition-colors",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-5",children:[(0,t.jsx)("div",{className:"flex justify-center pb-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-[#e8f5f2] to-[#d4eef5] rounded-full flex items-center justify-center shadow-inner overflow-hidden",children:eF.profileImage?(0,t.jsx)("img",{src:eF.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)(p,{className:"w-10 h-10 text-[#4a6670]"})}),(0,t.jsx)("label",{htmlFor:"profileImageInput",className:"absolute bottom-1 right-1 w-7 h-7 bg-[#4a6670] rounded-full flex items-center justify-center shadow-lg hover:bg-[#3d565e] transition-colors cursor-pointer",children:(0,t.jsx)(b,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("input",{id:"profileImageInput",type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){if(t.size>5e5)return void alert("Image size must be less than 500KB");let e=new FileReader;e.onloadend=()=>{let t=e.result;if(t.length>1e6){let e=document.createElement("canvas"),s=new Image;s.onload=()=>{e.width=.8*s.width,e.height=.8*s.height;let t=e.getContext("2d");t&&(t.drawImage(s,0,0,e.width,e.height),eI({...eF,profileImage:e.toDataURL("image/jpeg",.8)}))},s.src=t}else eI({...eF,profileImage:t})},e.readAsDataURL(t)}},className:"hidden"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-[#171532] mb-2",children:["Full Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:eF.name,onChange:e=>eI({...eF,name:e.target.value}),className:"w-full px-4 py-3.5 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670] focus:bg-white focus:ring-2 focus:ring-[#4a6670]/10 transition-all text-[#171532] placeholder:text-[#a0a0a0]",placeholder:"Enter full name"})]}),(0,t.jsx)("button",{onClick:ex?tO:tB,className:"w-full bg-[#4a6670] text-white py-4 rounded-xl font-semibold hover:bg-[#3d565e] transition-all shadow-lg shadow-[#4a6670]/20 mt-2",children:ex?"Update Account":"Create Account"})]})]})})]})),"leaderboard"===G&&(r=[...ed].sort((e,t)=>(t.balance||0)-(e.balance||0)),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6 bg-gradient-to-r from-[#4a6670] to-[#3d565e] text-white rounded-2xl p-4 border-2 border-[#5a7680]/50 shadow-md",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,t.jsx)(D,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(g,{className:"w-5 h-5 text-yellow-400"}),"Top Richest Students"]})]}),0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(g,{className:"w-16 h-16 mx-auto mb-4 text-[#e5e7eb]"}),(0,t.jsx)("p",{className:"text-[#747384]",children:"No students yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:r.map((e,s)=>{let a=0===s?"🥇":1===s?"🥈":2===s?"🥉":null,l=s<3;return(0,t.jsxs)("div",{className:`p-4 rounded-2xl flex items-center gap-3 border-2 shadow-sm transition-all ${0===s?"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-300":1===s?"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-300":2===s?"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-300":"bg-white border-[#e5e7eb]"}`,children:[l?(0,t.jsx)("div",{className:"text-2xl flex-shrink-0",children:a}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#4a6670] to-[#3d565e] flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:s+1}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-bold text-[#171532] truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-[#747384] truncate",children:["@",e.username||"no_username"]})]}),(0,t.jsx)("div",{className:"text-right flex-shrink-0",children:(0,t.jsxs)("p",{className:`font-bold ${0===s?"text-yellow-600 text-lg":1===s?"text-gray-600 text-lg":2===s?"text-orange-600 text-lg":"text-[#10B981] text-base"}`,children:["₹",(e.balance||0).toFixed(2)]})})]},s)})})]})),"ai"===G&&(ed.length>0&&[...ed].sort((e,t)=>(t.balance||0)-(e.balance||0))[0],B=async e=>{let t=e||tN;if(!t.trim())return;tv(""),tS(e=>[...e,{role:"user",text:t}]),tT(!0);let s=ed.map((e,t)=>`${t+1}. ${e.name} (${e.email}): Balance ₹${e.balance.toFixed(2)}, Transactions: ${e.transactions.length}`).join("; "),a=t;if(t.includes("Live Scoreboard"))a=`Show me the live scoreboard with top 3 students: ${[...ed].sort((e,t)=>(t.balance||0)-(e.balance||0)).slice(0,3).map((e,t)=>`${t+1}. ${e.name}: ₹${e.balance.toFixed(2)}`).join(", ")}`;else if(t.includes("Sponsor Request"))a=`Generate a professional sponsorship request email for JDSA Students Bank. Include that we have ${ed.length} active students with total balance of ₹${et.toFixed(2)}.`;else if(t.includes("Total amount of all accounts"))a=`The total amount of all accounts combined is ₹${et.toFixed(2)}. This includes ${ed.length} active student accounts with various balances.`;else if(t.includes("Top rich person")){let e=[...ed].sort((e,t)=>(t.balance||0)-(e.balance||0))[0];a=`The richest person is ${e?.name||"N/A"} who is leading in our bank rankings.`}try{let e=await fetch("/api/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,studentContext:s,adminName:eA})}),t=await e.json();tS(e=>[...e,{role:"assistant",text:t.response||"No response"}])}catch(e){tS(e=>[...e,{role:"assistant",text:"Error: Failed to get response"}])}tT(!1)},(0,t.jsxs)("div",{className:"flex flex-col h-full pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 pb-4 bg-gradient-to-r from-[#4a6670] to-[#3d565e] text-white rounded-2xl p-4 mb-4 border-2 border-[#5a7680]/50 shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex-shrink-0",children:(0,t.jsx)(D,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["Hi there, ",(0,t.jsx)("span",{className:"text-yellow-400",children:eA.split(" ")[0]})]}),(0,t.jsx)("p",{className:"text-xs text-white/70",children:"What can I help with?"})]})]}),tk.length>0&&(0,t.jsx)("button",{onClick:()=>tS([]),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex-shrink-0",title:"Clear conversation",children:(0,t.jsx)(f.X,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto py-4",children:[(0,t.jsx)("p",{className:"text-sm text-[#747384] mb-4",children:"Start a conversation or pick a topic."}),0===tk.length?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>B("Total amount of all accounts"),className:"w-full bg-white border-2 border-[#e5e7eb] rounded-xl p-3 text-left hover:border-purple-300 hover:shadow-md hover:bg-[#f8f9fa] transition-all active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-[#171532] text-sm",children:"💰 Total Amount"}),(0,t.jsx)("p",{className:"text-xs text-[#747384] mt-0.5",children:"All accounts combined"})]}),(0,t.jsx)(u.Wallet,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"})]})}),(0,t.jsx)("button",{onClick:()=>B("Top rich person"),className:"w-full bg-white border-2 border-[#e5e7eb] rounded-xl p-3 text-left hover:border-purple-300 hover:shadow-md hover:bg-[#f8f9fa] transition-all active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-[#171532] text-sm",children:"👑 Top Rich Person"}),(0,t.jsx)("p",{className:"text-xs text-[#747384] mt-0.5",children:"Who is the richest?"})]}),(0,t.jsx)(C,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"})]})})]}):(0,t.jsxs)("div",{className:"space-y-3 pb-4",children:[tk.map((e,s)=>(0,t.jsxs)("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"} gap-2`,children:["assistant"===e.role&&(0,t.jsx)("div",{className:"w-7 h-7 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0 mt-1",children:(0,t.jsx)(N,{className:"w-4 h-4 text-amber-700"})}),(0,t.jsx)("div",{className:`max-w-xs px-4 py-3 rounded-2xl text-sm break-words ${"user"===e.role?"bg-amber-700 text-white rounded-br-3xl":"bg-white text-[#171532] border border-gray-200 rounded-bl-3xl shadow-sm"}`,children:"assistant"===e.role?e.text.split(/(\*\*[^*]+\*\*)/g).map((e,s)=>e.startsWith("**")&&e.endsWith("**")?(0,t.jsx)("strong",{className:"font-bold",children:e.slice(2,-2)},s):e):e.text})]},s)),tC&&(0,t.jsxs)("div",{className:"flex justify-start gap-2 items-center pt-2",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(N,{className:"w-4 h-4 text-amber-700"})}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 px-4 py-3 rounded-2xl rounded-bl-3xl flex items-center gap-2 shadow-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})]}),(0,t.jsxs)("div",{className:"fixed bottom-28 left-4 right-4 bg-white border-2 border-[#e5e7eb] rounded-xl p-3 space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-[#4a6670]",children:"✨ ASK JDSA AI"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:tN,onChange:e=>tv(e.target.value),onKeyPress:e=>"Enter"===e.key&&B(),placeholder:"Type your question...",disabled:tC,className:"flex-1 px-3 py-2 bg-[#f8f9fa] border border-[#e5e7eb] rounded-lg text-[#171532] placeholder:text-[#b0b0b0] focus:outline-none focus:border-purple-400 focus:bg-white disabled:opacity-50 transition-all text-xs"}),(0,t.jsx)("button",{onClick:()=>B(),disabled:tC||!tN.trim(),className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white px-3 py-2 rounded-lg font-semibold shadow-md shadow-purple-200 hover:shadow-lg hover:shadow-purple-300 transition-all disabled:opacity-50 disabled:shadow-none active:scale-95 flex items-center justify-center flex-shrink-0 h-10 w-10",children:(0,t.jsx)(c,{className:"w-4 h-4"})})]})]})]})),"calendar"===G&&(()=>{let e=new Date,s=e.getFullYear(),a=e.getMonth(),l=new Date(s,a,1).getDay(),r=new Date(s,a+1,0).getDate(),n=[];for(let e=0;e<l;e++)n.push(null);for(let e=1;e<=r;e++)n.push(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-[#f0f0f0] rounded-lg transition-colors",children:(0,t.jsx)(D,{className:"w-6 h-6 text-[#4a6670]"})}),(0,t.jsx)("h2",{className:"text-lg font-bold text-[#171532]",children:"Calendar"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-2xl p-6 shadow-lg border border-[#5a7680]/50",children:[(0,t.jsx)("div",{className:"text-center mb-6",children:(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:"text-center text-xs font-bold text-white/70 py-2",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:n.map((s,a)=>(0,t.jsx)("div",{className:`aspect-square flex items-center justify-center rounded-lg font-semibold transition-colors ${s===e.getDate()?"bg-[#c17f59] text-white shadow-md":s?"bg-white/10 text-white hover:bg-white/20":"text-transparent"}`,children:s},a))})]})]})})(),"status"===G&&(_=100-(eV?.cpu?.percentage||25),H=Math.round((_+(U=Math.max(0,100-(eV?.mongodb?.percentage||29)))+Math.max(0,100-Math.min((eV?.responseTime||95)/2,50)))/3),(eV?.uptime||86400)/3600,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>Z("home"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(D,{className:"w-6 h-6 text-[#4a6670] dark:text-gray-300"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-[#171532] dark:text-white",children:"System Status"})]}),(0,t.jsx)("button",{onClick:()=>q("dark"===J?"light":"dark"),className:"p-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:"dark"===J?(0,t.jsx)(I,{className:"w-5 h-5 text-yellow-500"}):(0,t.jsx)(F,{className:"w-5 h-5 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-5 border border-gray-200 dark:border-slate-600",children:[(0,t.jsx)("h3",{className:"text-[#171532] dark:text-white font-bold text-sm mb-4",children:"Service statuses"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,t.jsx)("span",{className:"text-[#747384] dark:text-gray-300 text-sm",children:"Start"}),(0,t.jsx)("div",{className:"flex-1 h-0.5 border-b border-dotted border-gray-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,t.jsx)("span",{className:"text-[#747384] dark:text-gray-300 text-sm",children:"Scoring"}),(0,t.jsx)("div",{className:"flex-1 h-0.5 border-b border-dotted border-gray-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,t.jsx)("span",{className:"text-[#747384] dark:text-gray-300 text-sm",children:"Receipt"}),(0,t.jsx)("div",{className:"flex-1 h-0.5 border-b border-dotted border-gray-500"})]})]})]}),(0,t.jsxs)("div",{className:"bg-green-500 rounded-2xl p-5 flex flex-col items-center justify-center",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-4 rounded-full bg-red-600 shadow-lg"}),(0,t.jsx)("div",{className:"w-10 h-4 rounded-full bg-yellow-500 shadow-lg"}),(0,t.jsx)("div",{className:"w-10 h-4 rounded-full bg-green-400 shadow-lg animate-pulse"})]}),(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:"System is stable"})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-5 border border-gray-200 dark:border-slate-600",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-[#171532] dark:text-white font-bold text-sm",children:"Site strength"}),(0,t.jsx)("span",{className:`text-white text-xs font-bold px-3 py-1 rounded-full ${H>=80?"bg-green-500":H>=60?"bg-yellow-500":"bg-red-500"}`,children:H>=80?"Excellent":H>=60?"Good":"Fair"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"relative w-28 h-28",children:[(0,t.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#374151",strokeWidth:"3"}),(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22c55e",strokeWidth:"3",strokeDasharray:`${2.83*H} 283`,strokeLinecap:"round"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-[#171532] dark:text-white font-bold text-2xl",children:[H,"%"]})})]})}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-[#747384] dark:text-gray-300 text-sm",children:"CPU Health"}),(0,t.jsxs)("span",{className:"text-[#171532] dark:text-white font-bold text-sm",children:[_,"%"]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-500",style:{width:`${_}%`}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-[#747384] dark:text-gray-300 text-sm",children:"Storage Health"}),(0,t.jsxs)("span",{className:"text-[#171532] dark:text-white font-bold text-sm",children:[U,"%"]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-orange-500",style:{width:`${U}%`}})})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3 border border-gray-200 dark:border-slate-600",children:[(0,t.jsx)("p",{className:"text-[#747384] dark:text-gray-400 text-xs mb-1",children:"MongoDB"}),(0,t.jsxs)("p",{className:"text-[#171532] dark:text-white font-bold text-sm mb-2",children:[Math.max(eV?.mongodb?.used*1024||0).toFixed(1)," MB"]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-orange-500",style:{width:`${eV?.mongodb?.percentage||29}%`}})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3 border border-gray-200 dark:border-slate-600",children:[(0,t.jsx)("p",{className:"text-[#747384] dark:text-gray-400 text-xs mb-1",children:"CPU Usage"}),(0,t.jsxs)("p",{className:"text-[#171532] dark:text-white font-bold text-sm mb-2",children:[eV?.cpu?.percentage||25,"%"]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-500",style:{width:`${eV?.cpu?.percentage||25}%`}})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3 col-span-2 border border-gray-200 dark:border-slate-600",children:[(0,t.jsx)("p",{className:"text-[#747384] dark:text-gray-400 text-xs mb-1",children:"Response Time"}),(0,t.jsxs)("p",{className:"text-[#171532] dark:text-white font-bold text-sm",children:[eV?.responseTime||95,"ms"]})]})]})]})]})),"profile"===G&&(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-[#171532]",children:"Admin Profile"}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#4a6670] to-[#3d565e] rounded-2xl p-8 text-white",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,t.jsx)("img",{src:"/admin-profile.jpg",alt:"Admin Profile",className:"w-32 h-32 rounded-full object-cover shadow-lg border-4 border-white/20"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl font-bold",children:eA}),(0,t.jsxs)("p",{className:"text-sm text-white/70",children:["@",eM]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2 bg-white dark:bg-slate-800 border border-[#e5e7eb] dark:border-slate-700 rounded-2xl p-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-[#747384] dark:text-gray-400 mb-1",children:"Admin Name"}),(0,t.jsx)("p",{className:"text-sm font-bold text-[#171532] dark:text-white",children:eA})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-[#e5e7eb] dark:border-slate-700",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-[#747384] dark:text-gray-400 mb-1",children:"Username"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-[#171532] dark:text-white",children:["@",eM]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-[#e5e7eb] dark:border-slate-700",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-[#747384] dark:text-gray-400 mb-1",children:"Password"}),(0,t.jsx)("p",{className:"text-sm font-bold text-[#171532] dark:text-white",children:eE})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>eB(!eL),className:"w-full flex items-center gap-3 bg-white border border-[#e5e7eb] rounded-xl p-4 hover:bg-[#f8f9fa] transition-colors",children:[(0,t.jsx)(T.Lock,{className:"w-5 h-5 text-[#4a6670]"}),(0,t.jsx)("span",{className:"font-medium text-[#171532]",children:"Reset Password"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=`Check out JDSA Students Bank: ${window.location.origin}`;navigator.share?navigator.share({title:"JDSA Students Bank",text:e}):alert(e)},className:"w-full flex items-center gap-3 bg-white border border-[#e5e7eb] rounded-xl p-4 hover:bg-[#f8f9fa] transition-colors",children:[(0,t.jsx)(S,{className:"w-5 h-5 text-[#4a6670]"}),(0,t.jsx)("span",{className:"font-medium text-[#171532]",children:"Share Website"})]}),(0,t.jsxs)("button",{onClick:()=>eq(!0),className:"w-full flex items-center gap-3 bg-red-50 border border-red-200 rounded-xl p-4 hover:bg-red-100 transition-colors",children:[(0,t.jsx)(k,{className:"w-5 h-5 text-red-600"}),(0,t.jsx)("span",{className:"font-medium text-red-600",children:"Logout"})]})]}),(0,t.jsx)("div",{className:"text-center pt-2 pb-4",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-[#747384]",children:"v1.0.0"})}),eJ&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-sm mx-4 shadow-2xl animate-in scale-in duration-200",children:(0,t.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto",children:(0,t.jsx)(k,{className:"w-6 h-6 text-red-600"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532] mb-2",children:"Logout"}),(0,t.jsx)("p",{className:"text-sm text-[#747384]",children:"Are you sure you want to logout? You'll need to sign in again to access the admin dashboard."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>eq(!1),className:"flex-1 py-3 rounded-xl font-semibold text-[#171532] bg-[#f0f0f0] hover:bg-[#e5e5e5] transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.error("Logout error:",e)}finally{W.push("/login")}},className:"flex-1 py-3 rounded-xl font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors",children:"Logout"})]})]})})}),eL&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-end sm:items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-t-3xl sm:rounded-2xl w-full sm:max-w-md shadow-2xl animate-in slide-in-from-bottom duration-300",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white flex items-center justify-between px-6 py-5 border-b border-[#f0f0f0]",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#171532]",children:"Reset Password"}),(0,t.jsx)("button",{onClick:()=>eB(!1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#f5f5f5] text-[#747384] hover:bg-[#e5e5e5] transition-colors",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] mb-2",children:"New Password"}),(0,t.jsx)("input",{type:"password",value:e_,onChange:e=>eU(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532]",placeholder:"Enter new password"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#171532] mb-2",children:"Confirm Password"}),(0,t.jsx)("input",{type:"password",value:eH,onChange:e=>eW(e.target.value),className:"w-full px-4 py-3 bg-[#f8f9fa] border border-[#e8e8e8] rounded-xl focus:outline-none focus:border-[#4a6670] focus:ring-2 focus:ring-[#4a6670]/10 text-[#171532]",placeholder:"Confirm new password"})]}),(0,t.jsx)("button",{onClick:()=>{e_===eH&&e_.length>0?(alert("Password reset successfully!"),eB(!1),eU(""),eW("")):alert("Passwords do not match or are empty")},className:"w-full bg-[#4a6670] text-white py-3 rounded-xl font-semibold hover:bg-[#3d565e] transition-colors",children:"Reset Password"})]})]})})]}),"cards"===G&&(0,t.jsxs)("div",{className:"text-center py-12 text-[#747384]",children:[(0,t.jsx)(o,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),(0,t.jsx)("p",{children:"Cards feature coming soon"})]}),"more"===G&&(0,t.jsxs)("div",{className:"text-center py-12 text-[#747384]",children:[(0,t.jsx)(i,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),(0,t.jsx)("p",{children:"More options coming soon"})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 px-4 pb-4 z-20 bg-gradient-to-t from-white via-white to-transparent pt-4",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-gradient-to-r from-[#e8f4f8] to-[#d4eef5] rounded-2xl px-6 py-3 flex items-center justify-between shadow-lg",children:[(0,t.jsxs)("button",{onClick:()=>Z("home"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all flex-1 ${"home"===G?"bg-[#c17f59] text-white shadow-md px-4":"text-[#4a6670]"}`,children:[(0,t.jsx)(n,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Home"})]}),(0,t.jsxs)("button",{onClick:()=>Z("accounts"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all flex-1 ${"accounts"===G?"bg-[#c17f59] text-white shadow-md px-4":"text-[#4a6670]"}`,children:[(0,t.jsx)(d,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Accounts"})]}),(0,t.jsx)(l.default,{href:"/admin/manage-transactions",children:(0,t.jsxs)("button",{className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-all flex-1 text-[#4a6670] hover:bg-[#f0f0f0]",children:[(0,t.jsx)(j,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Edit Txn"})]})}),(0,t.jsxs)("button",{onClick:()=>Z("profile"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all flex-1 ${"profile"===G?"bg-[#c17f59] text-white shadow-md px-4":"text-[#4a6670]"}`,children:[(0,t.jsx)(v,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Admin Profile"})]})]})})]})}e.s(["default",()=>B],20383)}]);